function hT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ow(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ih={exports:{}},gs={},sh={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function fT(){if(Zy)return Ce;Zy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=g&&N[g]||N["@@iterator"],typeof N=="function"?N:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function C(N,V,be){this.props=N,this.context=V,this.refs=x,this.updater=be||E}C.prototype.isReactComponent={},C.prototype.setState=function(N,V){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,V,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function I(){}I.prototype=C.prototype;function _(N,V,be){this.props=N,this.context=V,this.refs=x,this.updater=be||E}var T=_.prototype=new I;T.constructor=_,w(T,C.prototype),T.isPureReactComponent=!0;var A=Array.isArray,L=Object.prototype.hasOwnProperty,F={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function R(N,V,be){var xe,Se={},Ee=null,Ae=null;if(V!=null)for(xe in V.ref!==void 0&&(Ae=V.ref),V.key!==void 0&&(Ee=""+V.key),V)L.call(V,xe)&&!W.hasOwnProperty(xe)&&(Se[xe]=V[xe]);var Ie=arguments.length-2;if(Ie===1)Se.children=be;else if(1<Ie){for(var Le=Array(Ie),it=0;it<Ie;it++)Le[it]=arguments[it+2];Se.children=Le}if(N&&N.defaultProps)for(xe in Ie=N.defaultProps,Ie)Se[xe]===void 0&&(Se[xe]=Ie[xe]);return{$$typeof:t,type:N,key:Ee,ref:Ae,props:Se,_owner:F.current}}function H(N,V){return{$$typeof:t,type:N.type,key:V,ref:N.ref,props:N.props,_owner:N._owner}}function G(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function ae(N){var V={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(be){return V[be]})}var oe=/\/+/g;function J(N,V){return typeof N=="object"&&N!==null&&N.key!=null?ae(""+N.key):V.toString(36)}function re(N,V,be,xe,Se){var Ee=typeof N;(Ee==="undefined"||Ee==="boolean")&&(N=null);var Ae=!1;if(N===null)Ae=!0;else switch(Ee){case"string":case"number":Ae=!0;break;case"object":switch(N.$$typeof){case t:case e:Ae=!0}}if(Ae)return Ae=N,Se=Se(Ae),N=xe===""?"."+J(Ae,0):xe,A(Se)?(be="",N!=null&&(be=N.replace(oe,"$&/")+"/"),re(Se,V,be,"",function(it){return it})):Se!=null&&(G(Se)&&(Se=H(Se,be+(!Se.key||Ae&&Ae.key===Se.key?"":(""+Se.key).replace(oe,"$&/")+"/")+N)),V.push(Se)),1;if(Ae=0,xe=xe===""?".":xe+":",A(N))for(var Ie=0;Ie<N.length;Ie++){Ee=N[Ie];var Le=xe+J(Ee,Ie);Ae+=re(Ee,V,be,Le,Se)}else if(Le=b(N),typeof Le=="function")for(N=Le.call(N),Ie=0;!(Ee=N.next()).done;)Ee=Ee.value,Le=xe+J(Ee,Ie++),Ae+=re(Ee,V,be,Le,Se);else if(Ee==="object")throw V=String(N),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Ae}function ee(N,V,be){if(N==null)return N;var xe=[],Se=0;return re(N,xe,"","",function(Ee){return V.call(be,Ee,Se++)}),xe}function ue(N){if(N._status===-1){var V=N._result;V=V(),V.then(function(be){(N._status===0||N._status===-1)&&(N._status=1,N._result=be)},function(be){(N._status===0||N._status===-1)&&(N._status=2,N._result=be)}),N._status===-1&&(N._status=0,N._result=V)}if(N._status===1)return N._result.default;throw N._result}var ke={current:null},X={transition:null},se={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:X,ReactCurrentOwner:F};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:ee,forEach:function(N,V,be){ee(N,function(){V.apply(this,arguments)},be)},count:function(N){var V=0;return ee(N,function(){V++}),V},toArray:function(N){return ee(N,function(V){return V})||[]},only:function(N){if(!G(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ce.Component=C,Ce.Fragment=n,Ce.Profiler=i,Ce.PureComponent=_,Ce.StrictMode=r,Ce.Suspense=h,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Ce.act=Q,Ce.cloneElement=function(N,V,be){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var xe=w({},N.props),Se=N.key,Ee=N.ref,Ae=N._owner;if(V!=null){if(V.ref!==void 0&&(Ee=V.ref,Ae=F.current),V.key!==void 0&&(Se=""+V.key),N.type&&N.type.defaultProps)var Ie=N.type.defaultProps;for(Le in V)L.call(V,Le)&&!W.hasOwnProperty(Le)&&(xe[Le]=V[Le]===void 0&&Ie!==void 0?Ie[Le]:V[Le])}var Le=arguments.length-2;if(Le===1)xe.children=be;else if(1<Le){Ie=Array(Le);for(var it=0;it<Le;it++)Ie[it]=arguments[it+2];xe.children=Ie}return{$$typeof:t,type:N.type,key:Se,ref:Ee,props:xe,_owner:Ae}},Ce.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:a,_context:N},N.Consumer=N},Ce.createElement=R,Ce.createFactory=function(N){var V=R.bind(null,N);return V.type=N,V},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(N){return{$$typeof:u,render:N}},Ce.isValidElement=G,Ce.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:ue}},Ce.memo=function(N,V){return{$$typeof:f,type:N,compare:V===void 0?null:V}},Ce.startTransition=function(N){var V=X.transition;X.transition={};try{N()}finally{X.transition=V}},Ce.unstable_act=Q,Ce.useCallback=function(N,V){return ke.current.useCallback(N,V)},Ce.useContext=function(N){return ke.current.useContext(N)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(N){return ke.current.useDeferredValue(N)},Ce.useEffect=function(N,V){return ke.current.useEffect(N,V)},Ce.useId=function(){return ke.current.useId()},Ce.useImperativeHandle=function(N,V,be){return ke.current.useImperativeHandle(N,V,be)},Ce.useInsertionEffect=function(N,V){return ke.current.useInsertionEffect(N,V)},Ce.useLayoutEffect=function(N,V){return ke.current.useLayoutEffect(N,V)},Ce.useMemo=function(N,V){return ke.current.useMemo(N,V)},Ce.useReducer=function(N,V,be){return ke.current.useReducer(N,V,be)},Ce.useRef=function(N){return ke.current.useRef(N)},Ce.useState=function(N){return ke.current.useState(N)},Ce.useSyncExternalStore=function(N,V,be){return ke.current.useSyncExternalStore(N,V,be)},Ce.useTransition=function(){return ke.current.useTransition()},Ce.version="18.3.1",Ce}var e0;function Df(){return e0||(e0=1,sh.exports=fT()),sh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function pT(){if(t0)return gs;t0=1;var t=Df(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var m,g={},b=null,E=null;f!==void 0&&(b=""+f),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(E=h.ref);for(m in h)r.call(h,m)&&!a.hasOwnProperty(m)&&(g[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)g[m]===void 0&&(g[m]=h[m]);return{$$typeof:e,type:u,key:b,ref:E,props:g,_owner:i.current}}return gs.Fragment=n,gs.jsx=l,gs.jsxs=l,gs}var n0;function mT(){return n0||(n0=1,ih.exports=pT()),ih.exports}var y=mT(),S=Df();const Ff=Ow(S),gT=hT({__proto__:null,default:Ff},[S]);var wl={},ah={exports:{}},At={},lh={exports:{}},ch={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function vT(){return r0||(r0=1,function(t){function e(X,se){var Q=X.length;X.push(se);e:for(;0<Q;){var N=Q-1>>>1,V=X[N];if(0<i(V,se))X[N]=se,X[Q]=V,Q=N;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var se=X[0],Q=X.pop();if(Q!==se){X[0]=Q;e:for(var N=0,V=X.length,be=V>>>1;N<be;){var xe=2*(N+1)-1,Se=X[xe],Ee=xe+1,Ae=X[Ee];if(0>i(Se,Q))Ee<V&&0>i(Ae,Se)?(X[N]=Ae,X[Ee]=Q,N=Ee):(X[N]=Se,X[xe]=Q,N=xe);else if(Ee<V&&0>i(Ae,Q))X[N]=Ae,X[Ee]=Q,N=Ee;else break e}}return se}function i(X,se){var Q=X.sortIndex-se.sortIndex;return Q!==0?Q:X.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,g=null,b=3,E=!1,w=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(X){for(var se=n(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=X)r(f),se.sortIndex=se.expirationTime,e(h,se);else break;se=n(f)}}function A(X){if(x=!1,T(X),!w)if(n(h)!==null)w=!0,ue(L);else{var se=n(f);se!==null&&ke(A,se.startTime-X)}}function L(X,se){w=!1,x&&(x=!1,I(R),R=-1),E=!0;var Q=b;try{for(T(se),g=n(h);g!==null&&(!(g.expirationTime>se)||X&&!ae());){var N=g.callback;if(typeof N=="function"){g.callback=null,b=g.priorityLevel;var V=N(g.expirationTime<=se);se=t.unstable_now(),typeof V=="function"?g.callback=V:g===n(h)&&r(h),T(se)}else r(h);g=n(h)}if(g!==null)var be=!0;else{var xe=n(f);xe!==null&&ke(A,xe.startTime-se),be=!1}return be}finally{g=null,b=Q,E=!1}}var F=!1,W=null,R=-1,H=5,G=-1;function ae(){return!(t.unstable_now()-G<H)}function oe(){if(W!==null){var X=t.unstable_now();G=X;var se=!0;try{se=W(!0,X)}finally{se?J():(F=!1,W=null)}}else F=!1}var J;if(typeof _=="function")J=function(){_(oe)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ee=re.port2;re.port1.onmessage=oe,J=function(){ee.postMessage(null)}}else J=function(){C(oe,0)};function ue(X){W=X,F||(F=!0,J())}function ke(X,se){R=C(function(){X(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){w||E||(w=!0,ue(L))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(X){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var Q=b;b=se;try{return X()}finally{b=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Q=b;b=X;try{return se()}finally{b=Q}},t.unstable_scheduleCallback=function(X,se,Q){var N=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?N+Q:N):Q=N,X){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Q+V,X={id:m++,callback:se,priorityLevel:X,startTime:Q,expirationTime:V,sortIndex:-1},Q>N?(X.sortIndex=Q,e(f,X),n(h)===null&&X===n(f)&&(x?(I(R),R=-1):x=!0,ke(A,Q-N))):(X.sortIndex=V,e(h,X),w||E||(w=!0,ue(L))),X},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(X){var se=b;return function(){var Q=b;b=se;try{return X.apply(this,arguments)}finally{b=Q}}}}(ch)),ch}var o0;function yT(){return o0||(o0=1,lh.exports=vT()),lh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function bT(){if(i0)return At;i0=1;var t=Df(),e=yT();function n(o){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,s){l(o,s),l(o+"Capture",s)}function l(o,s){for(i[o]=s,o=0;o<s.length;o++)r.add(s[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function b(o){return h.call(g,o)?!0:h.call(m,o)?!1:f.test(o)?g[o]=!0:(m[o]=!0,!1)}function E(o,s,c,d){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,s,c,d){if(s===null||typeof s>"u"||E(o,s,c,d))return!0;if(d)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(o,s,c,d,p,v,k){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=o,this.type=s,this.sanitizeURL=v,this.removeEmptyString=k}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){C[o]=new x(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var s=o[0];C[s]=new x(s,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){C[o]=new x(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){C[o]=new x(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){C[o]=new x(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){C[o]=new x(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){C[o]=new x(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){C[o]=new x(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){C[o]=new x(o,5,!1,o.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function _(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var s=o.replace(I,_);C[s]=new x(s,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var s=o.replace(I,_);C[s]=new x(s,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var s=o.replace(I,_);C[s]=new x(s,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){C[o]=new x(o,1,!1,o.toLowerCase(),null,!1,!1)}),C.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){C[o]=new x(o,1,!1,o.toLowerCase(),null,!0,!0)});function T(o,s,c,d){var p=C.hasOwnProperty(s)?C[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,c,p,d)&&(c=null),d||p===null?b(s)&&(c===null?o.removeAttribute(s):o.setAttribute(s,""+c)):p.mustUseProperty?o[p.propertyName]=c===null?p.type===3?!1:"":c:(s=p.attributeName,d=p.attributeNamespace,c===null?o.removeAttribute(s):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,d?o.setAttributeNS(d,s,c):o.setAttribute(s,c))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),F=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ae=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),X=Symbol.iterator;function se(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var Q=Object.assign,N;function V(o){if(N===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);N=s&&s[1]||""}return`
`+N+o}var be=!1;function xe(o,s){if(!o||be)return"";be=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(D){var d=D}Reflect.construct(o,[],s)}else{try{s.call()}catch(D){d=D}o.call(s.prototype)}else{try{throw Error()}catch(D){d=D}o()}}catch(D){if(D&&d&&typeof D.stack=="string"){for(var p=D.stack.split(`
`),v=d.stack.split(`
`),k=p.length-1,P=v.length-1;1<=k&&0<=P&&p[k]!==v[P];)P--;for(;1<=k&&0<=P;k--,P--)if(p[k]!==v[P]){if(k!==1||P!==1)do if(k--,P--,0>P||p[k]!==v[P]){var O=`
`+p[k].replace(" at new "," at ");return o.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",o.displayName)),O}while(1<=k&&0<=P);break}}}finally{be=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?V(o):""}function Se(o){switch(o.tag){case 5:return V(o.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return o=xe(o.type,!1),o;case 11:return o=xe(o.type.render,!1),o;case 1:return o=xe(o.type,!0),o;default:return""}}function Ee(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case W:return"Fragment";case F:return"Portal";case H:return"Profiler";case R:return"StrictMode";case J:return"Suspense";case re:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case ae:return(o.displayName||"Context")+".Consumer";case G:return(o._context.displayName||"Context")+".Provider";case oe:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ee:return s=o.displayName||null,s!==null?s:Ee(o.type)||"Memo";case ue:s=o._payload,o=o._init;try{return Ee(o(s))}catch{}}return null}function Ae(o){var s=o.type;switch(o.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=s.render,o=o.displayName||o.name||"",s.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ie(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Le(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function it(o){var s=Le(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),d=""+o[s];if(!o.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,v=c.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return p.call(this)},set:function(k){d=""+k,v.call(this,k)}}),Object.defineProperty(o,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Vt(o){o._valueTracker||(o._valueTracker=it(o))}function du(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return o&&(d=Le(o)?o.checked?"true":"false":o.value),o=d,o!==c?(s.setValue(o),!0):!1}function da(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function hu(o,s){var c=s.checked;return Q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function sg(o,s){var c=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;c=Ie(s.value!=null?s.value:c),o._wrapperState={initialChecked:d,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ag(o,s){s=s.checked,s!=null&&T(o,"checked",s,!1)}function fu(o,s){ag(o,s);var c=Ie(s.value),d=s.type;if(c!=null)d==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(d==="submit"||d==="reset"){o.removeAttribute("value");return}s.hasOwnProperty("value")?pu(o,s.type,c):s.hasOwnProperty("defaultValue")&&pu(o,s.type,Ie(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(o.defaultChecked=!!s.defaultChecked)}function lg(o,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+o._wrapperState.initialValue,c||s===o.value||(o.value=s),o.defaultValue=s}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function pu(o,s,c){(s!=="number"||da(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var Ai=Array.isArray;function To(o,s,c,d){if(o=o.options,s){s={};for(var p=0;p<c.length;p++)s["$"+c[p]]=!0;for(c=0;c<o.length;c++)p=s.hasOwnProperty("$"+o[c].value),o[c].selected!==p&&(o[c].selected=p),p&&d&&(o[c].defaultSelected=!0)}else{for(c=""+Ie(c),s=null,p=0;p<o.length;p++){if(o[p].value===c){o[p].selected=!0,d&&(o[p].defaultSelected=!0);return}s!==null||o[p].disabled||(s=o[p])}s!==null&&(s.selected=!0)}}function mu(o,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},s,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function cg(o,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(n(92));if(Ai(c)){if(1<c.length)throw Error(n(93));c=c[0]}s=c}s==null&&(s=""),c=s}o._wrapperState={initialValue:Ie(c)}}function ug(o,s){var c=Ie(s.value),d=Ie(s.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),s.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),d!=null&&(o.defaultValue=""+d)}function dg(o){var s=o.textContent;s===o._wrapperState.initialValue&&s!==""&&s!==null&&(o.value=s)}function hg(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gu(o,s){return o==null||o==="http://www.w3.org/1999/xhtml"?hg(s):o==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ha,fg=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,d,p){MSApp.execUnsafeLocalFunction(function(){return o(s,c,d,p)})}:o}(function(o,s){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=s;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ha.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;s.firstChild;)o.appendChild(s.firstChild)}});function Ni(o,s){if(s){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=s;return}}o.textContent=s}var Bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gC=["Webkit","ms","Moz","O"];Object.keys(Bi).forEach(function(o){gC.forEach(function(s){s=s+o.charAt(0).toUpperCase()+o.substring(1),Bi[s]=Bi[o]})});function pg(o,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||Bi.hasOwnProperty(o)&&Bi[o]?(""+s).trim():s+"px"}function mg(o,s){o=o.style;for(var c in s)if(s.hasOwnProperty(c)){var d=c.indexOf("--")===0,p=pg(c,s[c],d);c==="float"&&(c="cssFloat"),d?o.setProperty(c,p):o[c]=p}}var vC=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vu(o,s){if(s){if(vC[o]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function yu(o,s){if(o.indexOf("-")===-1)return typeof s.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=null;function wu(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var xu=null,_o=null,Po=null;function gg(o){if(o=ts(o)){if(typeof xu!="function")throw Error(n(280));var s=o.stateNode;s&&(s=Ma(s),xu(o.stateNode,o.type,s))}}function vg(o){_o?Po?Po.push(o):Po=[o]:_o=o}function yg(){if(_o){var o=_o,s=Po;if(Po=_o=null,gg(o),s)for(o=0;o<s.length;o++)gg(s[o])}}function bg(o,s){return o(s)}function wg(){}var ku=!1;function xg(o,s,c){if(ku)return o(s,c);ku=!0;try{return bg(o,s,c)}finally{ku=!1,(_o!==null||Po!==null)&&(wg(),yg())}}function Li(o,s){var c=o.stateNode;if(c===null)return null;var d=Ma(c);if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(n(231,s,typeof c));return c}var Eu=!1;if(u)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){Eu=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{Eu=!1}function yC(o,s,c,d,p,v,k,P,O){var D=Array.prototype.slice.call(arguments,3);try{s.apply(c,D)}catch(K){this.onError(K)}}var Ri=!1,fa=null,pa=!1,Cu=null,bC={onError:function(o){Ri=!0,fa=o}};function wC(o,s,c,d,p,v,k,P,O){Ri=!1,fa=null,yC.apply(bC,arguments)}function xC(o,s,c,d,p,v,k,P,O){if(wC.apply(this,arguments),Ri){if(Ri){var D=fa;Ri=!1,fa=null}else throw Error(n(198));pa||(pa=!0,Cu=D)}}function Ur(o){var s=o,c=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(c=s.return),o=s.return;while(o)}return s.tag===3?c:null}function kg(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function Eg(o){if(Ur(o)!==o)throw Error(n(188))}function kC(o){var s=o.alternate;if(!s){if(s=Ur(o),s===null)throw Error(n(188));return s!==o?null:o}for(var c=o,d=s;;){var p=c.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===c)return Eg(p),o;if(v===d)return Eg(p),s;v=v.sibling}throw Error(n(188))}if(c.return!==d.return)c=p,d=v;else{for(var k=!1,P=p.child;P;){if(P===c){k=!0,c=p,d=v;break}if(P===d){k=!0,d=p,c=v;break}P=P.sibling}if(!k){for(P=v.child;P;){if(P===c){k=!0,c=v,d=p;break}if(P===d){k=!0,d=v,c=p;break}P=P.sibling}if(!k)throw Error(n(189))}}if(c.alternate!==d)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?o:s}function Cg(o){return o=kC(o),o!==null?Sg(o):null}function Sg(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var s=Sg(o);if(s!==null)return s;o=o.sibling}return null}var Tg=e.unstable_scheduleCallback,_g=e.unstable_cancelCallback,EC=e.unstable_shouldYield,CC=e.unstable_requestPaint,Ye=e.unstable_now,SC=e.unstable_getCurrentPriorityLevel,Su=e.unstable_ImmediatePriority,Pg=e.unstable_UserBlockingPriority,ma=e.unstable_NormalPriority,TC=e.unstable_LowPriority,Ig=e.unstable_IdlePriority,ga=null,dn=null;function _C(o){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(ga,o,void 0,(o.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:OC,PC=Math.log,IC=Math.LN2;function OC(o){return o>>>=0,o===0?32:31-(PC(o)/IC|0)|0}var va=64,ya=4194304;function ji(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ba(o,s){var c=o.pendingLanes;if(c===0)return 0;var d=0,p=o.suspendedLanes,v=o.pingedLanes,k=c&268435455;if(k!==0){var P=k&~p;P!==0?d=ji(P):(v&=k,v!==0&&(d=ji(v)))}else k=c&~p,k!==0?d=ji(k):v!==0&&(d=ji(v));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,v=s&-s,p>=v||p===16&&(v&4194240)!==0))return s;if((d&4)!==0&&(d|=c&16),s=o.entangledLanes,s!==0)for(o=o.entanglements,s&=d;0<s;)c=31-en(s),p=1<<c,d|=o[c],s&=~p;return d}function AC(o,s){switch(o){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NC(o,s){for(var c=o.suspendedLanes,d=o.pingedLanes,p=o.expirationTimes,v=o.pendingLanes;0<v;){var k=31-en(v),P=1<<k,O=p[k];O===-1?((P&c)===0||(P&d)!==0)&&(p[k]=AC(P,s)):O<=s&&(o.expiredLanes|=P),v&=~P}}function Tu(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Og(){var o=va;return va<<=1,(va&4194240)===0&&(va=64),o}function _u(o){for(var s=[],c=0;31>c;c++)s.push(o);return s}function Di(o,s,c){o.pendingLanes|=s,s!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,s=31-en(s),o[s]=c}function BC(o,s){var c=o.pendingLanes&~s;o.pendingLanes=s,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=s,o.mutableReadLanes&=s,o.entangledLanes&=s,s=o.entanglements;var d=o.eventTimes;for(o=o.expirationTimes;0<c;){var p=31-en(c),v=1<<p;s[p]=0,d[p]=-1,o[p]=-1,c&=~v}}function Pu(o,s){var c=o.entangledLanes|=s;for(o=o.entanglements;c;){var d=31-en(c),p=1<<d;p&s|o[d]&s&&(o[d]|=s),c&=~p}}var Ne=0;function Ag(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Ng,Iu,Bg,Lg,Mg,Ou=!1,wa=[],Zn=null,er=null,tr=null,Fi=new Map,Ui=new Map,nr=[],LC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rg(o,s){switch(o){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Fi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(s.pointerId)}}function Hi(o,s,c,d,p,v){return o===null||o.nativeEvent!==v?(o={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},s!==null&&(s=ts(s),s!==null&&Iu(s)),o):(o.eventSystemFlags|=d,s=o.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),o)}function MC(o,s,c,d,p){switch(s){case"focusin":return Zn=Hi(Zn,o,s,c,d,p),!0;case"dragenter":return er=Hi(er,o,s,c,d,p),!0;case"mouseover":return tr=Hi(tr,o,s,c,d,p),!0;case"pointerover":var v=p.pointerId;return Fi.set(v,Hi(Fi.get(v)||null,o,s,c,d,p)),!0;case"gotpointercapture":return v=p.pointerId,Ui.set(v,Hi(Ui.get(v)||null,o,s,c,d,p)),!0}return!1}function jg(o){var s=Hr(o.target);if(s!==null){var c=Ur(s);if(c!==null){if(s=c.tag,s===13){if(s=kg(c),s!==null){o.blockedOn=s,Mg(o.priority,function(){Bg(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function xa(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var c=Nu(o.domEventName,o.eventSystemFlags,s[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var d=new c.constructor(c.type,c);bu=d,c.target.dispatchEvent(d),bu=null}else return s=ts(c),s!==null&&Iu(s),o.blockedOn=c,!1;s.shift()}return!0}function Dg(o,s,c){xa(o)&&c.delete(s)}function RC(){Ou=!1,Zn!==null&&xa(Zn)&&(Zn=null),er!==null&&xa(er)&&(er=null),tr!==null&&xa(tr)&&(tr=null),Fi.forEach(Dg),Ui.forEach(Dg)}function $i(o,s){o.blockedOn===s&&(o.blockedOn=null,Ou||(Ou=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,RC)))}function Vi(o){function s(p){return $i(p,o)}if(0<wa.length){$i(wa[0],o);for(var c=1;c<wa.length;c++){var d=wa[c];d.blockedOn===o&&(d.blockedOn=null)}}for(Zn!==null&&$i(Zn,o),er!==null&&$i(er,o),tr!==null&&$i(tr,o),Fi.forEach(s),Ui.forEach(s),c=0;c<nr.length;c++)d=nr[c],d.blockedOn===o&&(d.blockedOn=null);for(;0<nr.length&&(c=nr[0],c.blockedOn===null);)jg(c),c.blockedOn===null&&nr.shift()}var Io=A.ReactCurrentBatchConfig,ka=!0;function jC(o,s,c,d){var p=Ne,v=Io.transition;Io.transition=null;try{Ne=1,Au(o,s,c,d)}finally{Ne=p,Io.transition=v}}function DC(o,s,c,d){var p=Ne,v=Io.transition;Io.transition=null;try{Ne=4,Au(o,s,c,d)}finally{Ne=p,Io.transition=v}}function Au(o,s,c,d){if(ka){var p=Nu(o,s,c,d);if(p===null)Yu(o,s,d,Ea,c),Rg(o,d);else if(MC(p,o,s,c,d))d.stopPropagation();else if(Rg(o,d),s&4&&-1<LC.indexOf(o)){for(;p!==null;){var v=ts(p);if(v!==null&&Ng(v),v=Nu(o,s,c,d),v===null&&Yu(o,s,d,Ea,c),v===p)break;p=v}p!==null&&d.stopPropagation()}else Yu(o,s,d,null,c)}}var Ea=null;function Nu(o,s,c,d){if(Ea=null,o=wu(d),o=Hr(o),o!==null)if(s=Ur(o),s===null)o=null;else if(c=s.tag,c===13){if(o=kg(s),o!==null)return o;o=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null);return Ea=o,null}function Fg(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SC()){case Su:return 1;case Pg:return 4;case ma:case TC:return 16;case Ig:return 536870912;default:return 16}default:return 16}}var rr=null,Bu=null,Ca=null;function Ug(){if(Ca)return Ca;var o,s=Bu,c=s.length,d,p="value"in rr?rr.value:rr.textContent,v=p.length;for(o=0;o<c&&s[o]===p[o];o++);var k=c-o;for(d=1;d<=k&&s[c-d]===p[v-d];d++);return Ca=p.slice(o,1<d?1-d:void 0)}function Sa(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Ta(){return!0}function Hg(){return!1}function Mt(o){function s(c,d,p,v,k){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=k,this.currentTarget=null;for(var P in o)o.hasOwnProperty(P)&&(c=o[P],this[P]=c?c(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ta:Hg,this.isPropagationStopped=Hg,this}return Q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),s}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lu=Mt(Oo),zi=Q({},Oo,{view:0,detail:0}),FC=Mt(zi),Mu,Ru,Wi,_a=Q({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Wi&&(Wi&&o.type==="mousemove"?(Mu=o.screenX-Wi.screenX,Ru=o.screenY-Wi.screenY):Ru=Mu=0,Wi=o),Mu)},movementY:function(o){return"movementY"in o?o.movementY:Ru}}),$g=Mt(_a),UC=Q({},_a,{dataTransfer:0}),HC=Mt(UC),$C=Q({},zi,{relatedTarget:0}),ju=Mt($C),VC=Q({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),zC=Mt(VC),WC=Q({},Oo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),KC=Mt(WC),qC=Q({},Oo,{data:0}),Vg=Mt(qC),GC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JC(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=XC[o])?!!s[o]:!1}function Du(){return JC}var QC=Q({},zi,{key:function(o){if(o.key){var s=GC[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Sa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?YC[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(o){return o.type==="keypress"?Sa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Sa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ZC=Mt(QC),eS=Q({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zg=Mt(eS),tS=Q({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),nS=Mt(tS),rS=Q({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),oS=Mt(rS),iS=Q({},_a,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),sS=Mt(iS),aS=[9,13,27,32],Fu=u&&"CompositionEvent"in window,Ki=null;u&&"documentMode"in document&&(Ki=document.documentMode);var lS=u&&"TextEvent"in window&&!Ki,Wg=u&&(!Fu||Ki&&8<Ki&&11>=Ki),Kg=" ",qg=!1;function Gg(o,s){switch(o){case"keyup":return aS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yg(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ao=!1;function cS(o,s){switch(o){case"compositionend":return Yg(s);case"keypress":return s.which!==32?null:(qg=!0,Kg);case"textInput":return o=s.data,o===Kg&&qg?null:o;default:return null}}function uS(o,s){if(Ao)return o==="compositionend"||!Fu&&Gg(o,s)?(o=Ug(),Ca=Bu=rr=null,Ao=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wg&&s.locale!=="ko"?null:s.data;default:return null}}var dS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!dS[o.type]:s==="textarea"}function Jg(o,s,c,d){vg(d),s=Na(s,"onChange"),0<s.length&&(c=new Lu("onChange","change",null,c,d),o.push({event:c,listeners:s}))}var qi=null,Gi=null;function hS(o){mv(o,0)}function Pa(o){var s=Ro(o);if(du(s))return o}function fS(o,s){if(o==="change")return s}var Qg=!1;if(u){var Uu;if(u){var Hu="oninput"in document;if(!Hu){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),Hu=typeof Zg.oninput=="function"}Uu=Hu}else Uu=!1;Qg=Uu&&(!document.documentMode||9<document.documentMode)}function ev(){qi&&(qi.detachEvent("onpropertychange",tv),Gi=qi=null)}function tv(o){if(o.propertyName==="value"&&Pa(Gi)){var s=[];Jg(s,Gi,o,wu(o)),xg(hS,s)}}function pS(o,s,c){o==="focusin"?(ev(),qi=s,Gi=c,qi.attachEvent("onpropertychange",tv)):o==="focusout"&&ev()}function mS(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Pa(Gi)}function gS(o,s){if(o==="click")return Pa(s)}function vS(o,s){if(o==="input"||o==="change")return Pa(s)}function yS(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var tn=typeof Object.is=="function"?Object.is:yS;function Yi(o,s){if(tn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var c=Object.keys(o),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!h.call(s,p)||!tn(o[p],s[p]))return!1}return!0}function nv(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function rv(o,s){var c=nv(o);o=0;for(var d;c;){if(c.nodeType===3){if(d=o+c.textContent.length,o<=s&&d>=s)return{node:c,offset:s-o};o=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=nv(c)}}function ov(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?ov(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function iv(){for(var o=window,s=da();s instanceof o.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)o=s.contentWindow;else break;s=da(o.document)}return s}function $u(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}function bS(o){var s=iv(),c=o.focusedElem,d=o.selectionRange;if(s!==c&&c&&c.ownerDocument&&ov(c.ownerDocument.documentElement,c)){if(d!==null&&$u(c)){if(s=d.start,o=d.end,o===void 0&&(o=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(o,c.value.length);else if(o=(s=c.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var p=c.textContent.length,v=Math.min(d.start,p);d=d.end===void 0?v:Math.min(d.end,p),!o.extend&&v>d&&(p=d,d=v,v=p),p=rv(c,v);var k=rv(c,d);p&&k&&(o.rangeCount!==1||o.anchorNode!==p.node||o.anchorOffset!==p.offset||o.focusNode!==k.node||o.focusOffset!==k.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),o.removeAllRanges(),v>d?(o.addRange(s),o.extend(k.node,k.offset)):(s.setEnd(k.node,k.offset),o.addRange(s)))}}for(s=[],o=c;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)o=s[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var wS=u&&"documentMode"in document&&11>=document.documentMode,No=null,Vu=null,Xi=null,zu=!1;function sv(o,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;zu||No==null||No!==da(d)||(d=No,"selectionStart"in d&&$u(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Xi&&Yi(Xi,d)||(Xi=d,d=Na(Vu,"onSelect"),0<d.length&&(s=new Lu("onSelect","select",null,s,c),o.push({event:s,listeners:d}),s.target=No)))}function Ia(o,s){var c={};return c[o.toLowerCase()]=s.toLowerCase(),c["Webkit"+o]="webkit"+s,c["Moz"+o]="moz"+s,c}var Bo={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionend:Ia("Transition","TransitionEnd")},Wu={},av={};u&&(av=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Oa(o){if(Wu[o])return Wu[o];if(!Bo[o])return o;var s=Bo[o],c;for(c in s)if(s.hasOwnProperty(c)&&c in av)return Wu[o]=s[c];return o}var lv=Oa("animationend"),cv=Oa("animationiteration"),uv=Oa("animationstart"),dv=Oa("transitionend"),hv=new Map,fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(o,s){hv.set(o,s),a(s,[o])}for(var Ku=0;Ku<fv.length;Ku++){var qu=fv[Ku],xS=qu.toLowerCase(),kS=qu[0].toUpperCase()+qu.slice(1);or(xS,"on"+kS)}or(lv,"onAnimationEnd"),or(cv,"onAnimationIteration"),or(uv,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(dv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ES=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function pv(o,s,c){var d=o.type||"unknown-event";o.currentTarget=c,xC(d,s,void 0,o),o.currentTarget=null}function mv(o,s){s=(s&4)!==0;for(var c=0;c<o.length;c++){var d=o[c],p=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var k=d.length-1;0<=k;k--){var P=d[k],O=P.instance,D=P.currentTarget;if(P=P.listener,O!==v&&p.isPropagationStopped())break e;pv(p,P,D),v=O}else for(k=0;k<d.length;k++){if(P=d[k],O=P.instance,D=P.currentTarget,P=P.listener,O!==v&&p.isPropagationStopped())break e;pv(p,P,D),v=O}}}if(pa)throw o=Cu,pa=!1,Cu=null,o}function De(o,s){var c=s[td];c===void 0&&(c=s[td]=new Set);var d=o+"__bubble";c.has(d)||(gv(s,o,2,!1),c.add(d))}function Gu(o,s,c){var d=0;s&&(d|=4),gv(c,o,d,s)}var Aa="_reactListening"+Math.random().toString(36).slice(2);function Qi(o){if(!o[Aa]){o[Aa]=!0,r.forEach(function(c){c!=="selectionchange"&&(ES.has(c)||Gu(c,!1,o),Gu(c,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Aa]||(s[Aa]=!0,Gu("selectionchange",!1,s))}}function gv(o,s,c,d){switch(Fg(s)){case 1:var p=jC;break;case 4:p=DC;break;default:p=Au}c=p.bind(null,s,c,o),p=void 0,!Eu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?o.addEventListener(s,c,{capture:!0,passive:p}):o.addEventListener(s,c,!0):p!==void 0?o.addEventListener(s,c,{passive:p}):o.addEventListener(s,c,!1)}function Yu(o,s,c,d,p){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var P=d.stateNode.containerInfo;if(P===p||P.nodeType===8&&P.parentNode===p)break;if(k===4)for(k=d.return;k!==null;){var O=k.tag;if((O===3||O===4)&&(O=k.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;k=k.return}for(;P!==null;){if(k=Hr(P),k===null)return;if(O=k.tag,O===5||O===6){d=v=k;continue e}P=P.parentNode}}d=d.return}xg(function(){var D=v,K=wu(c),q=[];e:{var z=hv.get(o);if(z!==void 0){var Z=Lu,ie=o;switch(o){case"keypress":if(Sa(c)===0)break e;case"keydown":case"keyup":Z=ZC;break;case"focusin":ie="focus",Z=ju;break;case"focusout":ie="blur",Z=ju;break;case"beforeblur":case"afterblur":Z=ju;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=$g;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=HC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=nS;break;case lv:case cv:case uv:Z=zC;break;case dv:Z=oS;break;case"scroll":Z=FC;break;case"wheel":Z=sS;break;case"copy":case"cut":case"paste":Z=KC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=zg}var le=(s&4)!==0,Xe=!le&&o==="scroll",M=le?z!==null?z+"Capture":null:z;le=[];for(var B=D,j;B!==null;){j=B;var Y=j.stateNode;if(j.tag===5&&Y!==null&&(j=Y,M!==null&&(Y=Li(B,M),Y!=null&&le.push(Zi(B,Y,j)))),Xe)break;B=B.return}0<le.length&&(z=new Z(z,ie,null,c,K),q.push({event:z,listeners:le}))}}if((s&7)===0){e:{if(z=o==="mouseover"||o==="pointerover",Z=o==="mouseout"||o==="pointerout",z&&c!==bu&&(ie=c.relatedTarget||c.fromElement)&&(Hr(ie)||ie[Sn]))break e;if((Z||z)&&(z=K.window===K?K:(z=K.ownerDocument)?z.defaultView||z.parentWindow:window,Z?(ie=c.relatedTarget||c.toElement,Z=D,ie=ie?Hr(ie):null,ie!==null&&(Xe=Ur(ie),ie!==Xe||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(Z=null,ie=D),Z!==ie)){if(le=$g,Y="onMouseLeave",M="onMouseEnter",B="mouse",(o==="pointerout"||o==="pointerover")&&(le=zg,Y="onPointerLeave",M="onPointerEnter",B="pointer"),Xe=Z==null?z:Ro(Z),j=ie==null?z:Ro(ie),z=new le(Y,B+"leave",Z,c,K),z.target=Xe,z.relatedTarget=j,Y=null,Hr(K)===D&&(le=new le(M,B+"enter",ie,c,K),le.target=j,le.relatedTarget=Xe,Y=le),Xe=Y,Z&&ie)t:{for(le=Z,M=ie,B=0,j=le;j;j=Lo(j))B++;for(j=0,Y=M;Y;Y=Lo(Y))j++;for(;0<B-j;)le=Lo(le),B--;for(;0<j-B;)M=Lo(M),j--;for(;B--;){if(le===M||M!==null&&le===M.alternate)break t;le=Lo(le),M=Lo(M)}le=null}else le=null;Z!==null&&vv(q,z,Z,le,!1),ie!==null&&Xe!==null&&vv(q,Xe,ie,le,!0)}}e:{if(z=D?Ro(D):window,Z=z.nodeName&&z.nodeName.toLowerCase(),Z==="select"||Z==="input"&&z.type==="file")var ce=fS;else if(Xg(z))if(Qg)ce=vS;else{ce=mS;var de=pS}else(Z=z.nodeName)&&Z.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(ce=gS);if(ce&&(ce=ce(o,D))){Jg(q,ce,c,K);break e}de&&de(o,z,D),o==="focusout"&&(de=z._wrapperState)&&de.controlled&&z.type==="number"&&pu(z,"number",z.value)}switch(de=D?Ro(D):window,o){case"focusin":(Xg(de)||de.contentEditable==="true")&&(No=de,Vu=D,Xi=null);break;case"focusout":Xi=Vu=No=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,sv(q,c,K);break;case"selectionchange":if(wS)break;case"keydown":case"keyup":sv(q,c,K)}var he;if(Fu)e:{switch(o){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Ao?Gg(o,c)&&(ge="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(ge="onCompositionStart");ge&&(Wg&&c.locale!=="ko"&&(Ao||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Ao&&(he=Ug()):(rr=K,Bu="value"in rr?rr.value:rr.textContent,Ao=!0)),de=Na(D,ge),0<de.length&&(ge=new Vg(ge,o,null,c,K),q.push({event:ge,listeners:de}),he?ge.data=he:(he=Yg(c),he!==null&&(ge.data=he)))),(he=lS?cS(o,c):uS(o,c))&&(D=Na(D,"onBeforeInput"),0<D.length&&(K=new Vg("onBeforeInput","beforeinput",null,c,K),q.push({event:K,listeners:D}),K.data=he))}mv(q,s)})}function Zi(o,s,c){return{instance:o,listener:s,currentTarget:c}}function Na(o,s){for(var c=s+"Capture",d=[];o!==null;){var p=o,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=Li(o,c),v!=null&&d.unshift(Zi(o,v,p)),v=Li(o,s),v!=null&&d.push(Zi(o,v,p))),o=o.return}return d}function Lo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function vv(o,s,c,d,p){for(var v=s._reactName,k=[];c!==null&&c!==d;){var P=c,O=P.alternate,D=P.stateNode;if(O!==null&&O===d)break;P.tag===5&&D!==null&&(P=D,p?(O=Li(c,v),O!=null&&k.unshift(Zi(c,O,P))):p||(O=Li(c,v),O!=null&&k.push(Zi(c,O,P)))),c=c.return}k.length!==0&&o.push({event:s,listeners:k})}var CS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function yv(o){return(typeof o=="string"?o:""+o).replace(CS,`
`).replace(SS,"")}function Ba(o,s,c){if(s=yv(s),yv(o)!==s&&c)throw Error(n(425))}function La(){}var Xu=null,Ju=null;function Qu(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zu=typeof setTimeout=="function"?setTimeout:void 0,TS=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,_S=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(o){return bv.resolve(null).then(o).catch(PS)}:Zu;function PS(o){setTimeout(function(){throw o})}function ed(o,s){var c=s,d=0;do{var p=c.nextSibling;if(o.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(d===0){o.removeChild(p),Vi(s);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=p}while(c);Vi(s)}function ir(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return o}function wv(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return o;s--}else c==="/$"&&s++}o=o.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),hn="__reactFiber$"+Mo,es="__reactProps$"+Mo,Sn="__reactContainer$"+Mo,td="__reactEvents$"+Mo,IS="__reactListeners$"+Mo,OS="__reactHandles$"+Mo;function Hr(o){var s=o[hn];if(s)return s;for(var c=o.parentNode;c;){if(s=c[Sn]||c[hn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(o=wv(o);o!==null;){if(c=o[hn])return c;o=wv(o)}return s}o=c,c=o.parentNode}return null}function ts(o){return o=o[hn]||o[Sn],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Ro(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Ma(o){return o[es]||null}var nd=[],jo=-1;function sr(o){return{current:o}}function Fe(o){0>jo||(o.current=nd[jo],nd[jo]=null,jo--)}function Re(o,s){jo++,nd[jo]=o.current,o.current=s}var ar={},ft=sr(ar),Tt=sr(!1),$r=ar;function Do(o,s){var c=o.type.contextTypes;if(!c)return ar;var d=o.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in c)p[v]=s[v];return d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=s,o.__reactInternalMemoizedMaskedChildContext=p),p}function _t(o){return o=o.childContextTypes,o!=null}function Ra(){Fe(Tt),Fe(ft)}function xv(o,s,c){if(ft.current!==ar)throw Error(n(168));Re(ft,s),Re(Tt,c)}function kv(o,s,c){var d=o.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return c;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(n(108,Ae(o)||"Unknown",p));return Q({},c,d)}function ja(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ar,$r=ft.current,Re(ft,o),Re(Tt,Tt.current),!0}function Ev(o,s,c){var d=o.stateNode;if(!d)throw Error(n(169));c?(o=kv(o,s,$r),d.__reactInternalMemoizedMergedChildContext=o,Fe(Tt),Fe(ft),Re(ft,o)):Fe(Tt),Re(Tt,c)}var Tn=null,Da=!1,rd=!1;function Cv(o){Tn===null?Tn=[o]:Tn.push(o)}function AS(o){Da=!0,Cv(o)}function lr(){if(!rd&&Tn!==null){rd=!0;var o=0,s=Ne;try{var c=Tn;for(Ne=1;o<c.length;o++){var d=c[o];do d=d(!0);while(d!==null)}Tn=null,Da=!1}catch(p){throw Tn!==null&&(Tn=Tn.slice(o+1)),Tg(Su,lr),p}finally{Ne=s,rd=!1}}return null}var Fo=[],Uo=0,Fa=null,Ua=0,zt=[],Wt=0,Vr=null,_n=1,Pn="";function zr(o,s){Fo[Uo++]=Ua,Fo[Uo++]=Fa,Fa=o,Ua=s}function Sv(o,s,c){zt[Wt++]=_n,zt[Wt++]=Pn,zt[Wt++]=Vr,Vr=o;var d=_n;o=Pn;var p=32-en(d)-1;d&=~(1<<p),c+=1;var v=32-en(s)+p;if(30<v){var k=p-p%5;v=(d&(1<<k)-1).toString(32),d>>=k,p-=k,_n=1<<32-en(s)+p|c<<p|d,Pn=v+o}else _n=1<<v|c<<p|d,Pn=o}function od(o){o.return!==null&&(zr(o,1),Sv(o,1,0))}function id(o){for(;o===Fa;)Fa=Fo[--Uo],Fo[Uo]=null,Ua=Fo[--Uo],Fo[Uo]=null;for(;o===Vr;)Vr=zt[--Wt],zt[Wt]=null,Pn=zt[--Wt],zt[Wt]=null,_n=zt[--Wt],zt[Wt]=null}var Rt=null,jt=null,Ue=!1,nn=null;function Tv(o,s){var c=Yt(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=o,s=o.deletions,s===null?(o.deletions=[c],o.flags|=16):s.push(c)}function _v(o,s){switch(o.tag){case 5:var c=o.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(o.stateNode=s,Rt=o,jt=ir(s.firstChild),!0):!1;case 6:return s=o.pendingProps===""||s.nodeType!==3?null:s,s!==null?(o.stateNode=s,Rt=o,jt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=Vr!==null?{id:_n,overflow:Pn}:null,o.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=Yt(18,null,null,0),c.stateNode=s,c.return=o,o.child=c,Rt=o,jt=null,!0):!1;default:return!1}}function sd(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ad(o){if(Ue){var s=jt;if(s){var c=s;if(!_v(o,s)){if(sd(o))throw Error(n(418));s=ir(c.nextSibling);var d=Rt;s&&_v(o,s)?Tv(d,c):(o.flags=o.flags&-4097|2,Ue=!1,Rt=o)}}else{if(sd(o))throw Error(n(418));o.flags=o.flags&-4097|2,Ue=!1,Rt=o}}}function Pv(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Rt=o}function Ha(o){if(o!==Rt)return!1;if(!Ue)return Pv(o),Ue=!0,!1;var s;if((s=o.tag!==3)&&!(s=o.tag!==5)&&(s=o.type,s=s!=="head"&&s!=="body"&&!Qu(o.type,o.memoizedProps)),s&&(s=jt)){if(sd(o))throw Iv(),Error(n(418));for(;s;)Tv(o,s),s=ir(s.nextSibling)}if(Pv(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(s===0){jt=ir(o.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}o=o.nextSibling}jt=null}}else jt=Rt?ir(o.stateNode.nextSibling):null;return!0}function Iv(){for(var o=jt;o;)o=ir(o.nextSibling)}function Ho(){jt=Rt=null,Ue=!1}function ld(o){nn===null?nn=[o]:nn.push(o)}var NS=A.ReactCurrentBatchConfig;function ns(o,s,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var d=c.stateNode}if(!d)throw Error(n(147,o));var p=d,v=""+o;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(k){var P=p.refs;k===null?delete P[v]:P[v]=k},s._stringRef=v,s)}if(typeof o!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,o))}return o}function $a(o,s){throw o=Object.prototype.toString.call(s),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o))}function Ov(o){var s=o._init;return s(o._payload)}function Av(o){function s(M,B){if(o){var j=M.deletions;j===null?(M.deletions=[B],M.flags|=16):j.push(B)}}function c(M,B){if(!o)return null;for(;B!==null;)s(M,B),B=B.sibling;return null}function d(M,B){for(M=new Map;B!==null;)B.key!==null?M.set(B.key,B):M.set(B.index,B),B=B.sibling;return M}function p(M,B){return M=gr(M,B),M.index=0,M.sibling=null,M}function v(M,B,j){return M.index=j,o?(j=M.alternate,j!==null?(j=j.index,j<B?(M.flags|=2,B):j):(M.flags|=2,B)):(M.flags|=1048576,B)}function k(M){return o&&M.alternate===null&&(M.flags|=2),M}function P(M,B,j,Y){return B===null||B.tag!==6?(B=Zd(j,M.mode,Y),B.return=M,B):(B=p(B,j),B.return=M,B)}function O(M,B,j,Y){var ce=j.type;return ce===W?K(M,B,j.props.children,Y,j.key):B!==null&&(B.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ue&&Ov(ce)===B.type)?(Y=p(B,j.props),Y.ref=ns(M,B,j),Y.return=M,Y):(Y=hl(j.type,j.key,j.props,null,M.mode,Y),Y.ref=ns(M,B,j),Y.return=M,Y)}function D(M,B,j,Y){return B===null||B.tag!==4||B.stateNode.containerInfo!==j.containerInfo||B.stateNode.implementation!==j.implementation?(B=eh(j,M.mode,Y),B.return=M,B):(B=p(B,j.children||[]),B.return=M,B)}function K(M,B,j,Y,ce){return B===null||B.tag!==7?(B=Qr(j,M.mode,Y,ce),B.return=M,B):(B=p(B,j),B.return=M,B)}function q(M,B,j){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Zd(""+B,M.mode,j),B.return=M,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return j=hl(B.type,B.key,B.props,null,M.mode,j),j.ref=ns(M,null,B),j.return=M,j;case F:return B=eh(B,M.mode,j),B.return=M,B;case ue:var Y=B._init;return q(M,Y(B._payload),j)}if(Ai(B)||se(B))return B=Qr(B,M.mode,j,null),B.return=M,B;$a(M,B)}return null}function z(M,B,j,Y){var ce=B!==null?B.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ce!==null?null:P(M,B,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return j.key===ce?O(M,B,j,Y):null;case F:return j.key===ce?D(M,B,j,Y):null;case ue:return ce=j._init,z(M,B,ce(j._payload),Y)}if(Ai(j)||se(j))return ce!==null?null:K(M,B,j,Y,null);$a(M,j)}return null}function Z(M,B,j,Y,ce){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return M=M.get(j)||null,P(B,M,""+Y,ce);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case L:return M=M.get(Y.key===null?j:Y.key)||null,O(B,M,Y,ce);case F:return M=M.get(Y.key===null?j:Y.key)||null,D(B,M,Y,ce);case ue:var de=Y._init;return Z(M,B,j,de(Y._payload),ce)}if(Ai(Y)||se(Y))return M=M.get(j)||null,K(B,M,Y,ce,null);$a(B,Y)}return null}function ie(M,B,j,Y){for(var ce=null,de=null,he=B,ge=B=0,lt=null;he!==null&&ge<j.length;ge++){he.index>ge?(lt=he,he=null):lt=he.sibling;var Pe=z(M,he,j[ge],Y);if(Pe===null){he===null&&(he=lt);break}o&&he&&Pe.alternate===null&&s(M,he),B=v(Pe,B,ge),de===null?ce=Pe:de.sibling=Pe,de=Pe,he=lt}if(ge===j.length)return c(M,he),Ue&&zr(M,ge),ce;if(he===null){for(;ge<j.length;ge++)he=q(M,j[ge],Y),he!==null&&(B=v(he,B,ge),de===null?ce=he:de.sibling=he,de=he);return Ue&&zr(M,ge),ce}for(he=d(M,he);ge<j.length;ge++)lt=Z(he,M,ge,j[ge],Y),lt!==null&&(o&&lt.alternate!==null&&he.delete(lt.key===null?ge:lt.key),B=v(lt,B,ge),de===null?ce=lt:de.sibling=lt,de=lt);return o&&he.forEach(function(vr){return s(M,vr)}),Ue&&zr(M,ge),ce}function le(M,B,j,Y){var ce=se(j);if(typeof ce!="function")throw Error(n(150));if(j=ce.call(j),j==null)throw Error(n(151));for(var de=ce=null,he=B,ge=B=0,lt=null,Pe=j.next();he!==null&&!Pe.done;ge++,Pe=j.next()){he.index>ge?(lt=he,he=null):lt=he.sibling;var vr=z(M,he,Pe.value,Y);if(vr===null){he===null&&(he=lt);break}o&&he&&vr.alternate===null&&s(M,he),B=v(vr,B,ge),de===null?ce=vr:de.sibling=vr,de=vr,he=lt}if(Pe.done)return c(M,he),Ue&&zr(M,ge),ce;if(he===null){for(;!Pe.done;ge++,Pe=j.next())Pe=q(M,Pe.value,Y),Pe!==null&&(B=v(Pe,B,ge),de===null?ce=Pe:de.sibling=Pe,de=Pe);return Ue&&zr(M,ge),ce}for(he=d(M,he);!Pe.done;ge++,Pe=j.next())Pe=Z(he,M,ge,Pe.value,Y),Pe!==null&&(o&&Pe.alternate!==null&&he.delete(Pe.key===null?ge:Pe.key),B=v(Pe,B,ge),de===null?ce=Pe:de.sibling=Pe,de=Pe);return o&&he.forEach(function(dT){return s(M,dT)}),Ue&&zr(M,ge),ce}function Xe(M,B,j,Y){if(typeof j=="object"&&j!==null&&j.type===W&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case L:e:{for(var ce=j.key,de=B;de!==null;){if(de.key===ce){if(ce=j.type,ce===W){if(de.tag===7){c(M,de.sibling),B=p(de,j.props.children),B.return=M,M=B;break e}}else if(de.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ue&&Ov(ce)===de.type){c(M,de.sibling),B=p(de,j.props),B.ref=ns(M,de,j),B.return=M,M=B;break e}c(M,de);break}else s(M,de);de=de.sibling}j.type===W?(B=Qr(j.props.children,M.mode,Y,j.key),B.return=M,M=B):(Y=hl(j.type,j.key,j.props,null,M.mode,Y),Y.ref=ns(M,B,j),Y.return=M,M=Y)}return k(M);case F:e:{for(de=j.key;B!==null;){if(B.key===de)if(B.tag===4&&B.stateNode.containerInfo===j.containerInfo&&B.stateNode.implementation===j.implementation){c(M,B.sibling),B=p(B,j.children||[]),B.return=M,M=B;break e}else{c(M,B);break}else s(M,B);B=B.sibling}B=eh(j,M.mode,Y),B.return=M,M=B}return k(M);case ue:return de=j._init,Xe(M,B,de(j._payload),Y)}if(Ai(j))return ie(M,B,j,Y);if(se(j))return le(M,B,j,Y);$a(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,B!==null&&B.tag===6?(c(M,B.sibling),B=p(B,j),B.return=M,M=B):(c(M,B),B=Zd(j,M.mode,Y),B.return=M,M=B),k(M)):c(M,B)}return Xe}var $o=Av(!0),Nv=Av(!1),Va=sr(null),za=null,Vo=null,cd=null;function ud(){cd=Vo=za=null}function dd(o){var s=Va.current;Fe(Va),o._currentValue=s}function hd(o,s,c){for(;o!==null;){var d=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),o===c)break;o=o.return}}function zo(o,s){za=o,cd=Vo=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&s)!==0&&(Pt=!0),o.firstContext=null)}function Kt(o){var s=o._currentValue;if(cd!==o)if(o={context:o,memoizedValue:s,next:null},Vo===null){if(za===null)throw Error(n(308));Vo=o,za.dependencies={lanes:0,firstContext:o}}else Vo=Vo.next=o;return s}var Wr=null;function fd(o){Wr===null?Wr=[o]:Wr.push(o)}function Bv(o,s,c,d){var p=s.interleaved;return p===null?(c.next=c,fd(s)):(c.next=p.next,p.next=c),s.interleaved=c,In(o,d)}function In(o,s){o.lanes|=s;var c=o.alternate;for(c!==null&&(c.lanes|=s),c=o,o=o.return;o!==null;)o.childLanes|=s,c=o.alternate,c!==null&&(c.childLanes|=s),c=o,o=o.return;return c.tag===3?c.stateNode:null}var cr=!1;function pd(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lv(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function On(o,s){return{eventTime:o,lane:s,tag:0,payload:null,callback:null,next:null}}function ur(o,s,c){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,(_e&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,In(o,c)}return p=d.interleaved,p===null?(s.next=s,fd(d)):(s.next=p.next,p.next=s),d.interleaved=s,In(o,c)}function Wa(o,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var d=s.lanes;d&=o.pendingLanes,c|=d,s.lanes=c,Pu(o,c)}}function Mv(o,s){var c=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?p=v=k:v=v.next=k,c=c.next}while(c!==null);v===null?p=v=s:v=v.next=s}else p=v=s;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,effects:d.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=s:o.next=s,c.lastBaseUpdate=s}function Ka(o,s,c,d){var p=o.updateQueue;cr=!1;var v=p.firstBaseUpdate,k=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var O=P,D=O.next;O.next=null,k===null?v=D:k.next=D,k=O;var K=o.alternate;K!==null&&(K=K.updateQueue,P=K.lastBaseUpdate,P!==k&&(P===null?K.firstBaseUpdate=D:P.next=D,K.lastBaseUpdate=O))}if(v!==null){var q=p.baseState;k=0,K=D=O=null,P=v;do{var z=P.lane,Z=P.eventTime;if((d&z)===z){K!==null&&(K=K.next={eventTime:Z,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ie=o,le=P;switch(z=s,Z=c,le.tag){case 1:if(ie=le.payload,typeof ie=="function"){q=ie.call(Z,q,z);break e}q=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=le.payload,z=typeof ie=="function"?ie.call(Z,q,z):ie,z==null)break e;q=Q({},q,z);break e;case 2:cr=!0}}P.callback!==null&&P.lane!==0&&(o.flags|=64,z=p.effects,z===null?p.effects=[P]:z.push(P))}else Z={eventTime:Z,lane:z,tag:P.tag,payload:P.payload,callback:P.callback,next:null},K===null?(D=K=Z,O=q):K=K.next=Z,k|=z;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;z=P,P=z.next,z.next=null,p.lastBaseUpdate=z,p.shared.pending=null}}while(!0);if(K===null&&(O=q),p.baseState=O,p.firstBaseUpdate=D,p.lastBaseUpdate=K,s=p.shared.interleaved,s!==null){p=s;do k|=p.lane,p=p.next;while(p!==s)}else v===null&&(p.shared.lanes=0);Gr|=k,o.lanes=k,o.memoizedState=q}}function Rv(o,s,c){if(o=s.effects,s.effects=null,o!==null)for(s=0;s<o.length;s++){var d=o[s],p=d.callback;if(p!==null){if(d.callback=null,d=c,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var rs={},fn=sr(rs),os=sr(rs),is=sr(rs);function Kr(o){if(o===rs)throw Error(n(174));return o}function md(o,s){switch(Re(is,s),Re(os,o),Re(fn,rs),o=s.nodeType,o){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:gu(null,"");break;default:o=o===8?s.parentNode:s,s=o.namespaceURI||null,o=o.tagName,s=gu(s,o)}Fe(fn),Re(fn,s)}function Wo(){Fe(fn),Fe(os),Fe(is)}function jv(o){Kr(is.current);var s=Kr(fn.current),c=gu(s,o.type);s!==c&&(Re(os,o),Re(fn,c))}function gd(o){os.current===o&&(Fe(fn),Fe(os))}var $e=sr(0);function qa(o){for(var s=o;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vd=[];function yd(){for(var o=0;o<vd.length;o++)vd[o]._workInProgressVersionPrimary=null;vd.length=0}var Ga=A.ReactCurrentDispatcher,bd=A.ReactCurrentBatchConfig,qr=0,Ve=null,rt=null,st=null,Ya=!1,ss=!1,as=0,BS=0;function pt(){throw Error(n(321))}function wd(o,s){if(s===null)return!1;for(var c=0;c<s.length&&c<o.length;c++)if(!tn(o[c],s[c]))return!1;return!0}function xd(o,s,c,d,p,v){if(qr=v,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ga.current=o===null||o.memoizedState===null?jS:DS,o=c(d,p),ss){v=0;do{if(ss=!1,as=0,25<=v)throw Error(n(301));v+=1,st=rt=null,s.updateQueue=null,Ga.current=FS,o=c(d,p)}while(ss)}if(Ga.current=Qa,s=rt!==null&&rt.next!==null,qr=0,st=rt=Ve=null,Ya=!1,s)throw Error(n(300));return o}function kd(){var o=as!==0;return as=0,o}function pn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ve.memoizedState=st=o:st=st.next=o,st}function qt(){if(rt===null){var o=Ve.alternate;o=o!==null?o.memoizedState:null}else o=rt.next;var s=st===null?Ve.memoizedState:st.next;if(s!==null)st=s,rt=o;else{if(o===null)throw Error(n(310));rt=o,o={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},st===null?Ve.memoizedState=st=o:st=st.next=o}return st}function ls(o,s){return typeof s=="function"?s(o):s}function Ed(o){var s=qt(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var d=rt,p=d.baseQueue,v=c.pending;if(v!==null){if(p!==null){var k=p.next;p.next=v.next,v.next=k}d.baseQueue=p=v,c.pending=null}if(p!==null){v=p.next,d=d.baseState;var P=k=null,O=null,D=v;do{var K=D.lane;if((qr&K)===K)O!==null&&(O=O.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),d=D.hasEagerState?D.eagerState:o(d,D.action);else{var q={lane:K,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};O===null?(P=O=q,k=d):O=O.next=q,Ve.lanes|=K,Gr|=K}D=D.next}while(D!==null&&D!==v);O===null?k=d:O.next=P,tn(d,s.memoizedState)||(Pt=!0),s.memoizedState=d,s.baseState=k,s.baseQueue=O,c.lastRenderedState=d}if(o=c.interleaved,o!==null){p=o;do v=p.lane,Ve.lanes|=v,Gr|=v,p=p.next;while(p!==o)}else p===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function Cd(o){var s=qt(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var d=c.dispatch,p=c.pending,v=s.memoizedState;if(p!==null){c.pending=null;var k=p=p.next;do v=o(v,k.action),k=k.next;while(k!==p);tn(v,s.memoizedState)||(Pt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),c.lastRenderedState=v}return[v,d]}function Dv(){}function Fv(o,s){var c=Ve,d=qt(),p=s(),v=!tn(d.memoizedState,p);if(v&&(d.memoizedState=p,Pt=!0),d=d.queue,Sd($v.bind(null,c,d,o),[o]),d.getSnapshot!==s||v||st!==null&&st.memoizedState.tag&1){if(c.flags|=2048,cs(9,Hv.bind(null,c,d,p,s),void 0,null),at===null)throw Error(n(349));(qr&30)!==0||Uv(c,s,p)}return p}function Uv(o,s,c){o.flags|=16384,o={getSnapshot:s,value:c},s=Ve.updateQueue,s===null?(s={lastEffect:null,stores:null},Ve.updateQueue=s,s.stores=[o]):(c=s.stores,c===null?s.stores=[o]:c.push(o))}function Hv(o,s,c,d){s.value=c,s.getSnapshot=d,Vv(s)&&zv(o)}function $v(o,s,c){return c(function(){Vv(s)&&zv(o)})}function Vv(o){var s=o.getSnapshot;o=o.value;try{var c=s();return!tn(o,c)}catch{return!0}}function zv(o){var s=In(o,1);s!==null&&an(s,o,1,-1)}function Wv(o){var s=pn();return typeof o=="function"&&(o=o()),s.memoizedState=s.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:o},s.queue=o,o=o.dispatch=RS.bind(null,Ve,o),[s.memoizedState,o]}function cs(o,s,c,d){return o={tag:o,create:s,destroy:c,deps:d,next:null},s=Ve.updateQueue,s===null?(s={lastEffect:null,stores:null},Ve.updateQueue=s,s.lastEffect=o.next=o):(c=s.lastEffect,c===null?s.lastEffect=o.next=o:(d=c.next,c.next=o,o.next=d,s.lastEffect=o)),o}function Kv(){return qt().memoizedState}function Xa(o,s,c,d){var p=pn();Ve.flags|=o,p.memoizedState=cs(1|s,c,void 0,d===void 0?null:d)}function Ja(o,s,c,d){var p=qt();d=d===void 0?null:d;var v=void 0;if(rt!==null){var k=rt.memoizedState;if(v=k.destroy,d!==null&&wd(d,k.deps)){p.memoizedState=cs(s,c,v,d);return}}Ve.flags|=o,p.memoizedState=cs(1|s,c,v,d)}function qv(o,s){return Xa(8390656,8,o,s)}function Sd(o,s){return Ja(2048,8,o,s)}function Gv(o,s){return Ja(4,2,o,s)}function Yv(o,s){return Ja(4,4,o,s)}function Xv(o,s){if(typeof s=="function")return o=o(),s(o),function(){s(null)};if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function Jv(o,s,c){return c=c!=null?c.concat([o]):null,Ja(4,4,Xv.bind(null,s,o),c)}function Td(){}function Qv(o,s){var c=qt();s=s===void 0?null:s;var d=c.memoizedState;return d!==null&&s!==null&&wd(s,d[1])?d[0]:(c.memoizedState=[o,s],o)}function Zv(o,s){var c=qt();s=s===void 0?null:s;var d=c.memoizedState;return d!==null&&s!==null&&wd(s,d[1])?d[0]:(o=o(),c.memoizedState=[o,s],o)}function ey(o,s,c){return(qr&21)===0?(o.baseState&&(o.baseState=!1,Pt=!0),o.memoizedState=c):(tn(c,s)||(c=Og(),Ve.lanes|=c,Gr|=c,o.baseState=!0),s)}function LS(o,s){var c=Ne;Ne=c!==0&&4>c?c:4,o(!0);var d=bd.transition;bd.transition={};try{o(!1),s()}finally{Ne=c,bd.transition=d}}function ty(){return qt().memoizedState}function MS(o,s,c){var d=pr(o);if(c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null},ny(o))ry(s,c);else if(c=Bv(o,s,c,d),c!==null){var p=wt();an(c,o,d,p),oy(c,s,d)}}function RS(o,s,c){var d=pr(o),p={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(ny(o))ry(s,p);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var k=s.lastRenderedState,P=v(k,c);if(p.hasEagerState=!0,p.eagerState=P,tn(P,k)){var O=s.interleaved;O===null?(p.next=p,fd(s)):(p.next=O.next,O.next=p),s.interleaved=p;return}}catch{}finally{}c=Bv(o,s,p,d),c!==null&&(p=wt(),an(c,o,d,p),oy(c,s,d))}}function ny(o){var s=o.alternate;return o===Ve||s!==null&&s===Ve}function ry(o,s){ss=Ya=!0;var c=o.pending;c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s}function oy(o,s,c){if((c&4194240)!==0){var d=s.lanes;d&=o.pendingLanes,c|=d,s.lanes=c,Pu(o,c)}}var Qa={readContext:Kt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},jS={readContext:Kt,useCallback:function(o,s){return pn().memoizedState=[o,s===void 0?null:s],o},useContext:Kt,useEffect:qv,useImperativeHandle:function(o,s,c){return c=c!=null?c.concat([o]):null,Xa(4194308,4,Xv.bind(null,s,o),c)},useLayoutEffect:function(o,s){return Xa(4194308,4,o,s)},useInsertionEffect:function(o,s){return Xa(4,2,o,s)},useMemo:function(o,s){var c=pn();return s=s===void 0?null:s,o=o(),c.memoizedState=[o,s],o},useReducer:function(o,s,c){var d=pn();return s=c!==void 0?c(s):s,d.memoizedState=d.baseState=s,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:s},d.queue=o,o=o.dispatch=MS.bind(null,Ve,o),[d.memoizedState,o]},useRef:function(o){var s=pn();return o={current:o},s.memoizedState=o},useState:Wv,useDebugValue:Td,useDeferredValue:function(o){return pn().memoizedState=o},useTransition:function(){var o=Wv(!1),s=o[0];return o=LS.bind(null,o[1]),pn().memoizedState=o,[s,o]},useMutableSource:function(){},useSyncExternalStore:function(o,s,c){var d=Ve,p=pn();if(Ue){if(c===void 0)throw Error(n(407));c=c()}else{if(c=s(),at===null)throw Error(n(349));(qr&30)!==0||Uv(d,s,c)}p.memoizedState=c;var v={value:c,getSnapshot:s};return p.queue=v,qv($v.bind(null,d,v,o),[o]),d.flags|=2048,cs(9,Hv.bind(null,d,v,c,s),void 0,null),c},useId:function(){var o=pn(),s=at.identifierPrefix;if(Ue){var c=Pn,d=_n;c=(d&~(1<<32-en(d)-1)).toString(32)+c,s=":"+s+"R"+c,c=as++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=BS++,s=":"+s+"r"+c.toString(32)+":";return o.memoizedState=s},unstable_isNewReconciler:!1},DS={readContext:Kt,useCallback:Qv,useContext:Kt,useEffect:Sd,useImperativeHandle:Jv,useInsertionEffect:Gv,useLayoutEffect:Yv,useMemo:Zv,useReducer:Ed,useRef:Kv,useState:function(){return Ed(ls)},useDebugValue:Td,useDeferredValue:function(o){var s=qt();return ey(s,rt.memoizedState,o)},useTransition:function(){var o=Ed(ls)[0],s=qt().memoizedState;return[o,s]},useMutableSource:Dv,useSyncExternalStore:Fv,useId:ty,unstable_isNewReconciler:!1},FS={readContext:Kt,useCallback:Qv,useContext:Kt,useEffect:Sd,useImperativeHandle:Jv,useInsertionEffect:Gv,useLayoutEffect:Yv,useMemo:Zv,useReducer:Cd,useRef:Kv,useState:function(){return Cd(ls)},useDebugValue:Td,useDeferredValue:function(o){var s=qt();return rt===null?s.memoizedState=o:ey(s,rt.memoizedState,o)},useTransition:function(){var o=Cd(ls)[0],s=qt().memoizedState;return[o,s]},useMutableSource:Dv,useSyncExternalStore:Fv,useId:ty,unstable_isNewReconciler:!1};function rn(o,s){if(o&&o.defaultProps){s=Q({},s),o=o.defaultProps;for(var c in o)s[c]===void 0&&(s[c]=o[c]);return s}return s}function _d(o,s,c,d){s=o.memoizedState,c=c(d,s),c=c==null?s:Q({},s,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Za={isMounted:function(o){return(o=o._reactInternals)?Ur(o)===o:!1},enqueueSetState:function(o,s,c){o=o._reactInternals;var d=wt(),p=pr(o),v=On(d,p);v.payload=s,c!=null&&(v.callback=c),s=ur(o,v,p),s!==null&&(an(s,o,p,d),Wa(s,o,p))},enqueueReplaceState:function(o,s,c){o=o._reactInternals;var d=wt(),p=pr(o),v=On(d,p);v.tag=1,v.payload=s,c!=null&&(v.callback=c),s=ur(o,v,p),s!==null&&(an(s,o,p,d),Wa(s,o,p))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var c=wt(),d=pr(o),p=On(c,d);p.tag=2,s!=null&&(p.callback=s),s=ur(o,p,d),s!==null&&(an(s,o,d,c),Wa(s,o,d))}};function iy(o,s,c,d,p,v,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,v,k):s.prototype&&s.prototype.isPureReactComponent?!Yi(c,d)||!Yi(p,v):!0}function sy(o,s,c){var d=!1,p=ar,v=s.contextType;return typeof v=="object"&&v!==null?v=Kt(v):(p=_t(s)?$r:ft.current,d=s.contextTypes,v=(d=d!=null)?Do(o,p):ar),s=new s(c,v),o.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Za,o.stateNode=s,s._reactInternals=o,d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=p,o.__reactInternalMemoizedMaskedChildContext=v),s}function ay(o,s,c,d){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==o&&Za.enqueueReplaceState(s,s.state,null)}function Pd(o,s,c,d){var p=o.stateNode;p.props=c,p.state=o.memoizedState,p.refs={},pd(o);var v=s.contextType;typeof v=="object"&&v!==null?p.context=Kt(v):(v=_t(s)?$r:ft.current,p.context=Do(o,v)),p.state=o.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(_d(o,s,v,c),p.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Za.enqueueReplaceState(p,p.state,null),Ka(o,c,p,d),p.state=o.memoizedState),typeof p.componentDidMount=="function"&&(o.flags|=4194308)}function Ko(o,s){try{var c="",d=s;do c+=Se(d),d=d.return;while(d);var p=c}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:o,source:s,stack:p,digest:null}}function Id(o,s,c){return{value:o,source:null,stack:c??null,digest:s??null}}function Od(o,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var US=typeof WeakMap=="function"?WeakMap:Map;function ly(o,s,c){c=On(-1,c),c.tag=3,c.payload={element:null};var d=s.value;return c.callback=function(){sl||(sl=!0,Wd=d),Od(o,s)},c}function cy(o,s,c){c=On(-1,c),c.tag=3;var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;c.payload=function(){return d(p)},c.callback=function(){Od(o,s)}}var v=o.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){Od(o,s),typeof d!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var k=s.stack;this.componentDidCatch(s.value,{componentStack:k!==null?k:""})}),c}function uy(o,s,c){var d=o.pingCache;if(d===null){d=o.pingCache=new US;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(c)||(p.add(c),o=eT.bind(null,o,s,c),s.then(o,o))}function dy(o){do{var s;if((s=o.tag===13)&&(s=o.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return o;o=o.return}while(o!==null);return null}function hy(o,s,c,d,p){return(o.mode&1)===0?(o===s?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=On(-1,1),s.tag=2,ur(c,s,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=p,o)}var HS=A.ReactCurrentOwner,Pt=!1;function bt(o,s,c,d){s.child=o===null?Nv(s,null,c,d):$o(s,o.child,c,d)}function fy(o,s,c,d,p){c=c.render;var v=s.ref;return zo(s,p),d=xd(o,s,c,d,v,p),c=kd(),o!==null&&!Pt?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~p,An(o,s,p)):(Ue&&c&&od(s),s.flags|=1,bt(o,s,d,p),s.child)}function py(o,s,c,d,p){if(o===null){var v=c.type;return typeof v=="function"&&!Qd(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=v,my(o,s,v,d,p)):(o=hl(c.type,null,d,s,s.mode,p),o.ref=s.ref,o.return=s,s.child=o)}if(v=o.child,(o.lanes&p)===0){var k=v.memoizedProps;if(c=c.compare,c=c!==null?c:Yi,c(k,d)&&o.ref===s.ref)return An(o,s,p)}return s.flags|=1,o=gr(v,d),o.ref=s.ref,o.return=s,s.child=o}function my(o,s,c,d,p){if(o!==null){var v=o.memoizedProps;if(Yi(v,d)&&o.ref===s.ref)if(Pt=!1,s.pendingProps=d=v,(o.lanes&p)!==0)(o.flags&131072)!==0&&(Pt=!0);else return s.lanes=o.lanes,An(o,s,p)}return Ad(o,s,c,d,p)}function gy(o,s,c){var d=s.pendingProps,p=d.children,v=o!==null?o.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Go,Dt),Dt|=c;else{if((c&1073741824)===0)return o=v!==null?v.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:o,cachePool:null,transitions:null},s.updateQueue=null,Re(Go,Dt),Dt|=o,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:c,Re(Go,Dt),Dt|=d}else v!==null?(d=v.baseLanes|c,s.memoizedState=null):d=c,Re(Go,Dt),Dt|=d;return bt(o,s,p,c),s.child}function vy(o,s){var c=s.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function Ad(o,s,c,d,p){var v=_t(c)?$r:ft.current;return v=Do(s,v),zo(s,p),c=xd(o,s,c,d,v,p),d=kd(),o!==null&&!Pt?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~p,An(o,s,p)):(Ue&&d&&od(s),s.flags|=1,bt(o,s,c,p),s.child)}function yy(o,s,c,d,p){if(_t(c)){var v=!0;ja(s)}else v=!1;if(zo(s,p),s.stateNode===null)tl(o,s),sy(s,c,d),Pd(s,c,d,p),d=!0;else if(o===null){var k=s.stateNode,P=s.memoizedProps;k.props=P;var O=k.context,D=c.contextType;typeof D=="object"&&D!==null?D=Kt(D):(D=_t(c)?$r:ft.current,D=Do(s,D));var K=c.getDerivedStateFromProps,q=typeof K=="function"||typeof k.getSnapshotBeforeUpdate=="function";q||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(P!==d||O!==D)&&ay(s,k,d,D),cr=!1;var z=s.memoizedState;k.state=z,Ka(s,d,k,p),O=s.memoizedState,P!==d||z!==O||Tt.current||cr?(typeof K=="function"&&(_d(s,c,K,d),O=s.memoizedState),(P=cr||iy(s,c,P,d,z,O,D))?(q||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(s.flags|=4194308)):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=O),k.props=d,k.state=O,k.context=D,d=P):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{k=s.stateNode,Lv(o,s),P=s.memoizedProps,D=s.type===s.elementType?P:rn(s.type,P),k.props=D,q=s.pendingProps,z=k.context,O=c.contextType,typeof O=="object"&&O!==null?O=Kt(O):(O=_t(c)?$r:ft.current,O=Do(s,O));var Z=c.getDerivedStateFromProps;(K=typeof Z=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(P!==q||z!==O)&&ay(s,k,d,O),cr=!1,z=s.memoizedState,k.state=z,Ka(s,d,k,p);var ie=s.memoizedState;P!==q||z!==ie||Tt.current||cr?(typeof Z=="function"&&(_d(s,c,Z,d),ie=s.memoizedState),(D=cr||iy(s,c,D,d,z,ie,O)||!1)?(K||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(d,ie,O),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(d,ie,O)),typeof k.componentDidUpdate=="function"&&(s.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof k.componentDidUpdate!="function"||P===o.memoizedProps&&z===o.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&z===o.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ie),k.props=d,k.state=ie,k.context=O,d=D):(typeof k.componentDidUpdate!="function"||P===o.memoizedProps&&z===o.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&z===o.memoizedState||(s.flags|=1024),d=!1)}return Nd(o,s,c,d,v,p)}function Nd(o,s,c,d,p,v){vy(o,s);var k=(s.flags&128)!==0;if(!d&&!k)return p&&Ev(s,c,!1),An(o,s,v);d=s.stateNode,HS.current=s;var P=k&&typeof c.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,o!==null&&k?(s.child=$o(s,o.child,null,v),s.child=$o(s,null,P,v)):bt(o,s,P,v),s.memoizedState=d.state,p&&Ev(s,c,!0),s.child}function by(o){var s=o.stateNode;s.pendingContext?xv(o,s.pendingContext,s.pendingContext!==s.context):s.context&&xv(o,s.context,!1),md(o,s.containerInfo)}function wy(o,s,c,d,p){return Ho(),ld(p),s.flags|=256,bt(o,s,c,d),s.child}var Bd={dehydrated:null,treeContext:null,retryLane:0};function Ld(o){return{baseLanes:o,cachePool:null,transitions:null}}function xy(o,s,c){var d=s.pendingProps,p=$e.current,v=!1,k=(s.flags&128)!==0,P;if((P=k)||(P=o!==null&&o.memoizedState===null?!1:(p&2)!==0),P?(v=!0,s.flags&=-129):(o===null||o.memoizedState!==null)&&(p|=1),Re($e,p&1),o===null)return ad(s),o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((s.mode&1)===0?s.lanes=1:o.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(k=d.children,o=d.fallback,v?(d=s.mode,v=s.child,k={mode:"hidden",children:k},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=k):v=fl(k,d,0,null),o=Qr(o,d,c,null),v.return=s,o.return=s,v.sibling=o,s.child=v,s.child.memoizedState=Ld(c),s.memoizedState=Bd,o):Md(s,k));if(p=o.memoizedState,p!==null&&(P=p.dehydrated,P!==null))return $S(o,s,k,d,P,p,c);if(v){v=d.fallback,k=s.mode,p=o.child,P=p.sibling;var O={mode:"hidden",children:d.children};return(k&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=O,s.deletions=null):(d=gr(p,O),d.subtreeFlags=p.subtreeFlags&14680064),P!==null?v=gr(P,v):(v=Qr(v,k,c,null),v.flags|=2),v.return=s,d.return=s,d.sibling=v,s.child=d,d=v,v=s.child,k=o.child.memoizedState,k=k===null?Ld(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},v.memoizedState=k,v.childLanes=o.childLanes&~c,s.memoizedState=Bd,d}return v=o.child,o=v.sibling,d=gr(v,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=c),d.return=s,d.sibling=null,o!==null&&(c=s.deletions,c===null?(s.deletions=[o],s.flags|=16):c.push(o)),s.child=d,s.memoizedState=null,d}function Md(o,s){return s=fl({mode:"visible",children:s},o.mode,0,null),s.return=o,o.child=s}function el(o,s,c,d){return d!==null&&ld(d),$o(s,o.child,null,c),o=Md(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function $S(o,s,c,d,p,v,k){if(c)return s.flags&256?(s.flags&=-257,d=Id(Error(n(422))),el(o,s,k,d)):s.memoizedState!==null?(s.child=o.child,s.flags|=128,null):(v=d.fallback,p=s.mode,d=fl({mode:"visible",children:d.children},p,0,null),v=Qr(v,p,k,null),v.flags|=2,d.return=s,v.return=s,d.sibling=v,s.child=d,(s.mode&1)!==0&&$o(s,o.child,null,k),s.child.memoizedState=Ld(k),s.memoizedState=Bd,v);if((s.mode&1)===0)return el(o,s,k,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var P=d.dgst;return d=P,v=Error(n(419)),d=Id(v,d,void 0),el(o,s,k,d)}if(P=(k&o.childLanes)!==0,Pt||P){if(d=at,d!==null){switch(k&-k){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|k))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,In(o,p),an(d,o,p,-1))}return Jd(),d=Id(Error(n(421))),el(o,s,k,d)}return p.data==="$?"?(s.flags|=128,s.child=o.child,s=tT.bind(null,o),p._reactRetry=s,null):(o=v.treeContext,jt=ir(p.nextSibling),Rt=s,Ue=!0,nn=null,o!==null&&(zt[Wt++]=_n,zt[Wt++]=Pn,zt[Wt++]=Vr,_n=o.id,Pn=o.overflow,Vr=s),s=Md(s,d.children),s.flags|=4096,s)}function ky(o,s,c){o.lanes|=s;var d=o.alternate;d!==null&&(d.lanes|=s),hd(o.return,s,c)}function Rd(o,s,c,d,p){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=c,v.tailMode=p)}function Ey(o,s,c){var d=s.pendingProps,p=d.revealOrder,v=d.tail;if(bt(o,s,d.children,c),d=$e.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ky(o,c,s);else if(o.tag===19)ky(o,c,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}if(Re($e,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(c=s.child,p=null;c!==null;)o=c.alternate,o!==null&&qa(o)===null&&(p=c),c=c.sibling;c=p,c===null?(p=s.child,s.child=null):(p=c.sibling,c.sibling=null),Rd(s,!1,p,c,v);break;case"backwards":for(c=null,p=s.child,s.child=null;p!==null;){if(o=p.alternate,o!==null&&qa(o)===null){s.child=p;break}o=p.sibling,p.sibling=c,c=p,p=o}Rd(s,!0,c,null,v);break;case"together":Rd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tl(o,s){(s.mode&1)===0&&o!==null&&(o.alternate=null,s.alternate=null,s.flags|=2)}function An(o,s,c){if(o!==null&&(s.dependencies=o.dependencies),Gr|=s.lanes,(c&s.childLanes)===0)return null;if(o!==null&&s.child!==o.child)throw Error(n(153));if(s.child!==null){for(o=s.child,c=gr(o,o.pendingProps),s.child=c,c.return=s;o.sibling!==null;)o=o.sibling,c=c.sibling=gr(o,o.pendingProps),c.return=s;c.sibling=null}return s.child}function VS(o,s,c){switch(s.tag){case 3:by(s),Ho();break;case 5:jv(s);break;case 1:_t(s.type)&&ja(s);break;case 4:md(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Re(Va,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Re($e,$e.current&1),s.flags|=128,null):(c&s.child.childLanes)!==0?xy(o,s,c):(Re($e,$e.current&1),o=An(o,s,c),o!==null?o.sibling:null);Re($e,$e.current&1);break;case 19:if(d=(c&s.childLanes)!==0,(o.flags&128)!==0){if(d)return Ey(o,s,c);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Re($e,$e.current),d)break;return null;case 22:case 23:return s.lanes=0,gy(o,s,c)}return An(o,s,c)}var Cy,jd,Sy,Ty;Cy=function(o,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},jd=function(){},Sy=function(o,s,c,d){var p=o.memoizedProps;if(p!==d){o=s.stateNode,Kr(fn.current);var v=null;switch(c){case"input":p=hu(o,p),d=hu(o,d),v=[];break;case"select":p=Q({},p,{value:void 0}),d=Q({},d,{value:void 0}),v=[];break;case"textarea":p=mu(o,p),d=mu(o,d),v=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(o.onclick=La)}vu(c,d);var k;c=null;for(D in p)if(!d.hasOwnProperty(D)&&p.hasOwnProperty(D)&&p[D]!=null)if(D==="style"){var P=p[D];for(k in P)P.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(i.hasOwnProperty(D)?v||(v=[]):(v=v||[]).push(D,null));for(D in d){var O=d[D];if(P=p!=null?p[D]:void 0,d.hasOwnProperty(D)&&O!==P&&(O!=null||P!=null))if(D==="style")if(P){for(k in P)!P.hasOwnProperty(k)||O&&O.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in O)O.hasOwnProperty(k)&&P[k]!==O[k]&&(c||(c={}),c[k]=O[k])}else c||(v||(v=[]),v.push(D,c)),c=O;else D==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,P=P?P.__html:void 0,O!=null&&P!==O&&(v=v||[]).push(D,O)):D==="children"?typeof O!="string"&&typeof O!="number"||(v=v||[]).push(D,""+O):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(i.hasOwnProperty(D)?(O!=null&&D==="onScroll"&&De("scroll",o),v||P===O||(v=[])):(v=v||[]).push(D,O))}c&&(v=v||[]).push("style",c);var D=v;(s.updateQueue=D)&&(s.flags|=4)}},Ty=function(o,s,c,d){c!==d&&(s.flags|=4)};function us(o,s){if(!Ue)switch(o.tailMode){case"hidden":s=o.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function mt(o){var s=o.alternate!==null&&o.alternate.child===o.child,c=0,d=0;if(s)for(var p=o.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=o,p=p.sibling;else for(p=o.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=o,p=p.sibling;return o.subtreeFlags|=d,o.childLanes=c,s}function zS(o,s,c){var d=s.pendingProps;switch(id(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return _t(s.type)&&Ra(),mt(s),null;case 3:return d=s.stateNode,Wo(),Fe(Tt),Fe(ft),yd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Ha(s)?s.flags|=4:o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,nn!==null&&(Gd(nn),nn=null))),jd(o,s),mt(s),null;case 5:gd(s);var p=Kr(is.current);if(c=s.type,o!==null&&s.stateNode!=null)Sy(o,s,c,d,p),o.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return mt(s),null}if(o=Kr(fn.current),Ha(s)){d=s.stateNode,c=s.type;var v=s.memoizedProps;switch(d[hn]=s,d[es]=v,o=(s.mode&1)!==0,c){case"dialog":De("cancel",d),De("close",d);break;case"iframe":case"object":case"embed":De("load",d);break;case"video":case"audio":for(p=0;p<Ji.length;p++)De(Ji[p],d);break;case"source":De("error",d);break;case"img":case"image":case"link":De("error",d),De("load",d);break;case"details":De("toggle",d);break;case"input":sg(d,v),De("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},De("invalid",d);break;case"textarea":cg(d,v),De("invalid",d)}vu(c,v),p=null;for(var k in v)if(v.hasOwnProperty(k)){var P=v[k];k==="children"?typeof P=="string"?d.textContent!==P&&(v.suppressHydrationWarning!==!0&&Ba(d.textContent,P,o),p=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(v.suppressHydrationWarning!==!0&&Ba(d.textContent,P,o),p=["children",""+P]):i.hasOwnProperty(k)&&P!=null&&k==="onScroll"&&De("scroll",d)}switch(c){case"input":Vt(d),lg(d,v,!0);break;case"textarea":Vt(d),dg(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=La)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{k=p.nodeType===9?p:p.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=hg(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=k.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof d.is=="string"?o=k.createElement(c,{is:d.is}):(o=k.createElement(c),c==="select"&&(k=o,d.multiple?k.multiple=!0:d.size&&(k.size=d.size))):o=k.createElementNS(o,c),o[hn]=s,o[es]=d,Cy(o,s,!1,!1),s.stateNode=o;e:{switch(k=yu(c,d),c){case"dialog":De("cancel",o),De("close",o),p=d;break;case"iframe":case"object":case"embed":De("load",o),p=d;break;case"video":case"audio":for(p=0;p<Ji.length;p++)De(Ji[p],o);p=d;break;case"source":De("error",o),p=d;break;case"img":case"image":case"link":De("error",o),De("load",o),p=d;break;case"details":De("toggle",o),p=d;break;case"input":sg(o,d),p=hu(o,d),De("invalid",o);break;case"option":p=d;break;case"select":o._wrapperState={wasMultiple:!!d.multiple},p=Q({},d,{value:void 0}),De("invalid",o);break;case"textarea":cg(o,d),p=mu(o,d),De("invalid",o);break;default:p=d}vu(c,p),P=p;for(v in P)if(P.hasOwnProperty(v)){var O=P[v];v==="style"?mg(o,O):v==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&fg(o,O)):v==="children"?typeof O=="string"?(c!=="textarea"||O!=="")&&Ni(o,O):typeof O=="number"&&Ni(o,""+O):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?O!=null&&v==="onScroll"&&De("scroll",o):O!=null&&T(o,v,O,k))}switch(c){case"input":Vt(o),lg(o,d,!1);break;case"textarea":Vt(o),dg(o);break;case"option":d.value!=null&&o.setAttribute("value",""+Ie(d.value));break;case"select":o.multiple=!!d.multiple,v=d.value,v!=null?To(o,!!d.multiple,v,!1):d.defaultValue!=null&&To(o,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(o.onclick=La)}switch(c){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return mt(s),null;case 6:if(o&&s.stateNode!=null)Ty(o,s,o.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(c=Kr(is.current),Kr(fn.current),Ha(s)){if(d=s.stateNode,c=s.memoizedProps,d[hn]=s,(v=d.nodeValue!==c)&&(o=Rt,o!==null))switch(o.tag){case 3:Ba(d.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Ba(d.nodeValue,c,(o.mode&1)!==0)}v&&(s.flags|=4)}else d=(c.nodeType===9?c:c.ownerDocument).createTextNode(d),d[hn]=s,s.stateNode=d}return mt(s),null;case 13:if(Fe($e),d=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ue&&jt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Iv(),Ho(),s.flags|=98560,v=!1;else if(v=Ha(s),d!==null&&d.dehydrated!==null){if(o===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[hn]=s}else Ho(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),v=!1}else nn!==null&&(Gd(nn),nn=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=c,s):(d=d!==null,d!==(o!==null&&o.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(o===null||($e.current&1)!==0?ot===0&&(ot=3):Jd())),s.updateQueue!==null&&(s.flags|=4),mt(s),null);case 4:return Wo(),jd(o,s),o===null&&Qi(s.stateNode.containerInfo),mt(s),null;case 10:return dd(s.type._context),mt(s),null;case 17:return _t(s.type)&&Ra(),mt(s),null;case 19:if(Fe($e),v=s.memoizedState,v===null)return mt(s),null;if(d=(s.flags&128)!==0,k=v.rendering,k===null)if(d)us(v,!1);else{if(ot!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(k=qa(o),k!==null){for(s.flags|=128,us(v,!1),d=k.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=c,c=s.child;c!==null;)v=c,o=d,v.flags&=14680066,k=v.alternate,k===null?(v.childLanes=0,v.lanes=o,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=k.childLanes,v.lanes=k.lanes,v.child=k.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=k.memoizedProps,v.memoizedState=k.memoizedState,v.updateQueue=k.updateQueue,v.type=k.type,o=k.dependencies,v.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Re($e,$e.current&1|2),s.child}o=o.sibling}v.tail!==null&&Ye()>Yo&&(s.flags|=128,d=!0,us(v,!1),s.lanes=4194304)}else{if(!d)if(o=qa(k),o!==null){if(s.flags|=128,d=!0,c=o.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),us(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!Ue)return mt(s),null}else 2*Ye()-v.renderingStartTime>Yo&&c!==1073741824&&(s.flags|=128,d=!0,us(v,!1),s.lanes=4194304);v.isBackwards?(k.sibling=s.child,s.child=k):(c=v.last,c!==null?c.sibling=k:s.child=k,v.last=k)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Ye(),s.sibling=null,c=$e.current,Re($e,d?c&1|2:c&1),s):(mt(s),null);case 22:case 23:return Xd(),d=s.memoizedState!==null,o!==null&&o.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Dt&1073741824)!==0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function WS(o,s){switch(id(s),s.tag){case 1:return _t(s.type)&&Ra(),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Wo(),Fe(Tt),Fe(ft),yd(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 5:return gd(s),null;case 13:if(Fe($e),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Ho()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return Fe($e),null;case 4:return Wo(),null;case 10:return dd(s.type._context),null;case 22:case 23:return Xd(),null;case 24:return null;default:return null}}var nl=!1,gt=!1,KS=typeof WeakSet=="function"?WeakSet:Set,ne=null;function qo(o,s){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(d){qe(o,s,d)}else c.current=null}function Dd(o,s,c){try{c()}catch(d){qe(o,s,d)}}var _y=!1;function qS(o,s){if(Xu=ka,o=iv(),$u(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var k=0,P=-1,O=-1,D=0,K=0,q=o,z=null;t:for(;;){for(var Z;q!==c||p!==0&&q.nodeType!==3||(P=k+p),q!==v||d!==0&&q.nodeType!==3||(O=k+d),q.nodeType===3&&(k+=q.nodeValue.length),(Z=q.firstChild)!==null;)z=q,q=Z;for(;;){if(q===o)break t;if(z===c&&++D===p&&(P=k),z===v&&++K===d&&(O=k),(Z=q.nextSibling)!==null)break;q=z,z=q.parentNode}q=Z}c=P===-1||O===-1?null:{start:P,end:O}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ju={focusedElem:o,selectionRange:c},ka=!1,ne=s;ne!==null;)if(s=ne,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,ne=o;else for(;ne!==null;){s=ne;try{var ie=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var le=ie.memoizedProps,Xe=ie.memoizedState,M=s.stateNode,B=M.getSnapshotBeforeUpdate(s.elementType===s.type?le:rn(s.type,le),Xe);M.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){qe(s,s.return,Y)}if(o=s.sibling,o!==null){o.return=s.return,ne=o;break}ne=s.return}return ie=_y,_y=!1,ie}function ds(o,s,c){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&o)===o){var v=p.destroy;p.destroy=void 0,v!==void 0&&Dd(s,c,v)}p=p.next}while(p!==d)}}function rl(o,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&o)===o){var d=c.create;c.destroy=d()}c=c.next}while(c!==s)}}function Fd(o){var s=o.ref;if(s!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof s=="function"?s(o):s.current=o}}function Py(o){var s=o.alternate;s!==null&&(o.alternate=null,Py(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&(delete s[hn],delete s[es],delete s[td],delete s[IS],delete s[OS])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Iy(o){return o.tag===5||o.tag===3||o.tag===4}function Oy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Iy(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ud(o,s,c){var d=o.tag;if(d===5||d===6)o=o.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(o,s):c.insertBefore(o,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(o,c)):(s=c,s.appendChild(o)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=La));else if(d!==4&&(o=o.child,o!==null))for(Ud(o,s,c),o=o.sibling;o!==null;)Ud(o,s,c),o=o.sibling}function Hd(o,s,c){var d=o.tag;if(d===5||d===6)o=o.stateNode,s?c.insertBefore(o,s):c.appendChild(o);else if(d!==4&&(o=o.child,o!==null))for(Hd(o,s,c),o=o.sibling;o!==null;)Hd(o,s,c),o=o.sibling}var ut=null,on=!1;function dr(o,s,c){for(c=c.child;c!==null;)Ay(o,s,c),c=c.sibling}function Ay(o,s,c){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(ga,c)}catch{}switch(c.tag){case 5:gt||qo(c,s);case 6:var d=ut,p=on;ut=null,dr(o,s,c),ut=d,on=p,ut!==null&&(on?(o=ut,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):ut.removeChild(c.stateNode));break;case 18:ut!==null&&(on?(o=ut,c=c.stateNode,o.nodeType===8?ed(o.parentNode,c):o.nodeType===1&&ed(o,c),Vi(o)):ed(ut,c.stateNode));break;case 4:d=ut,p=on,ut=c.stateNode.containerInfo,on=!0,dr(o,s,c),ut=d,on=p;break;case 0:case 11:case 14:case 15:if(!gt&&(d=c.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var v=p,k=v.destroy;v=v.tag,k!==void 0&&((v&2)!==0||(v&4)!==0)&&Dd(c,s,k),p=p.next}while(p!==d)}dr(o,s,c);break;case 1:if(!gt&&(qo(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(P){qe(c,s,P)}dr(o,s,c);break;case 21:dr(o,s,c);break;case 22:c.mode&1?(gt=(d=gt)||c.memoizedState!==null,dr(o,s,c),gt=d):dr(o,s,c);break;default:dr(o,s,c)}}function Ny(o){var s=o.updateQueue;if(s!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new KS),s.forEach(function(d){var p=nT.bind(null,o,d);c.has(d)||(c.add(d),d.then(p,p))})}}function sn(o,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];try{var v=o,k=s,P=k;e:for(;P!==null;){switch(P.tag){case 5:ut=P.stateNode,on=!1;break e;case 3:ut=P.stateNode.containerInfo,on=!0;break e;case 4:ut=P.stateNode.containerInfo,on=!0;break e}P=P.return}if(ut===null)throw Error(n(160));Ay(v,k,p),ut=null,on=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch(D){qe(p,s,D)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)By(s,o),s=s.sibling}function By(o,s){var c=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(sn(s,o),mn(o),d&4){try{ds(3,o,o.return),rl(3,o)}catch(le){qe(o,o.return,le)}try{ds(5,o,o.return)}catch(le){qe(o,o.return,le)}}break;case 1:sn(s,o),mn(o),d&512&&c!==null&&qo(c,c.return);break;case 5:if(sn(s,o),mn(o),d&512&&c!==null&&qo(c,c.return),o.flags&32){var p=o.stateNode;try{Ni(p,"")}catch(le){qe(o,o.return,le)}}if(d&4&&(p=o.stateNode,p!=null)){var v=o.memoizedProps,k=c!==null?c.memoizedProps:v,P=o.type,O=o.updateQueue;if(o.updateQueue=null,O!==null)try{P==="input"&&v.type==="radio"&&v.name!=null&&ag(p,v),yu(P,k);var D=yu(P,v);for(k=0;k<O.length;k+=2){var K=O[k],q=O[k+1];K==="style"?mg(p,q):K==="dangerouslySetInnerHTML"?fg(p,q):K==="children"?Ni(p,q):T(p,K,q,D)}switch(P){case"input":fu(p,v);break;case"textarea":ug(p,v);break;case"select":var z=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var Z=v.value;Z!=null?To(p,!!v.multiple,Z,!1):z!==!!v.multiple&&(v.defaultValue!=null?To(p,!!v.multiple,v.defaultValue,!0):To(p,!!v.multiple,v.multiple?[]:"",!1))}p[es]=v}catch(le){qe(o,o.return,le)}}break;case 6:if(sn(s,o),mn(o),d&4){if(o.stateNode===null)throw Error(n(162));p=o.stateNode,v=o.memoizedProps;try{p.nodeValue=v}catch(le){qe(o,o.return,le)}}break;case 3:if(sn(s,o),mn(o),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Vi(s.containerInfo)}catch(le){qe(o,o.return,le)}break;case 4:sn(s,o),mn(o);break;case 13:sn(s,o),mn(o),p=o.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(zd=Ye())),d&4&&Ny(o);break;case 22:if(K=c!==null&&c.memoizedState!==null,o.mode&1?(gt=(D=gt)||K,sn(s,o),gt=D):sn(s,o),mn(o),d&8192){if(D=o.memoizedState!==null,(o.stateNode.isHidden=D)&&!K&&(o.mode&1)!==0)for(ne=o,K=o.child;K!==null;){for(q=ne=K;ne!==null;){switch(z=ne,Z=z.child,z.tag){case 0:case 11:case 14:case 15:ds(4,z,z.return);break;case 1:qo(z,z.return);var ie=z.stateNode;if(typeof ie.componentWillUnmount=="function"){d=z,c=z.return;try{s=d,ie.props=s.memoizedProps,ie.state=s.memoizedState,ie.componentWillUnmount()}catch(le){qe(d,c,le)}}break;case 5:qo(z,z.return);break;case 22:if(z.memoizedState!==null){Ry(q);continue}}Z!==null?(Z.return=z,ne=Z):Ry(q)}K=K.sibling}e:for(K=null,q=o;;){if(q.tag===5){if(K===null){K=q;try{p=q.stateNode,D?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(P=q.stateNode,O=q.memoizedProps.style,k=O!=null&&O.hasOwnProperty("display")?O.display:null,P.style.display=pg("display",k))}catch(le){qe(o,o.return,le)}}}else if(q.tag===6){if(K===null)try{q.stateNode.nodeValue=D?"":q.memoizedProps}catch(le){qe(o,o.return,le)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===o)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===o)break e;for(;q.sibling===null;){if(q.return===null||q.return===o)break e;K===q&&(K=null),q=q.return}K===q&&(K=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:sn(s,o),mn(o),d&4&&Ny(o);break;case 21:break;default:sn(s,o),mn(o)}}function mn(o){var s=o.flags;if(s&2){try{e:{for(var c=o.return;c!==null;){if(Iy(c)){var d=c;break e}c=c.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Ni(p,""),d.flags&=-33);var v=Oy(o);Hd(o,v,p);break;case 3:case 4:var k=d.stateNode.containerInfo,P=Oy(o);Ud(o,P,k);break;default:throw Error(n(161))}}catch(O){qe(o,o.return,O)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function GS(o,s,c){ne=o,Ly(o)}function Ly(o,s,c){for(var d=(o.mode&1)!==0;ne!==null;){var p=ne,v=p.child;if(p.tag===22&&d){var k=p.memoizedState!==null||nl;if(!k){var P=p.alternate,O=P!==null&&P.memoizedState!==null||gt;P=nl;var D=gt;if(nl=k,(gt=O)&&!D)for(ne=p;ne!==null;)k=ne,O=k.child,k.tag===22&&k.memoizedState!==null?jy(p):O!==null?(O.return=k,ne=O):jy(p);for(;v!==null;)ne=v,Ly(v),v=v.sibling;ne=p,nl=P,gt=D}My(o)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,ne=v):My(o)}}function My(o){for(;ne!==null;){var s=ne;if((s.flags&8772)!==0){var c=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:gt||rl(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!gt)if(c===null)d.componentDidMount();else{var p=s.elementType===s.type?c.memoizedProps:rn(s.type,c.memoizedProps);d.componentDidUpdate(p,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Rv(s,v,d);break;case 3:var k=s.updateQueue;if(k!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}Rv(s,k,c)}break;case 5:var P=s.stateNode;if(c===null&&s.flags&4){c=P;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&c.focus();break;case"img":O.src&&(c.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var D=s.alternate;if(D!==null){var K=D.memoizedState;if(K!==null){var q=K.dehydrated;q!==null&&Vi(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}gt||s.flags&512&&Fd(s)}catch(z){qe(s,s.return,z)}}if(s===o){ne=null;break}if(c=s.sibling,c!==null){c.return=s.return,ne=c;break}ne=s.return}}function Ry(o){for(;ne!==null;){var s=ne;if(s===o){ne=null;break}var c=s.sibling;if(c!==null){c.return=s.return,ne=c;break}ne=s.return}}function jy(o){for(;ne!==null;){var s=ne;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{rl(4,s)}catch(O){qe(s,c,O)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(O){qe(s,p,O)}}var v=s.return;try{Fd(s)}catch(O){qe(s,v,O)}break;case 5:var k=s.return;try{Fd(s)}catch(O){qe(s,k,O)}}}catch(O){qe(s,s.return,O)}if(s===o){ne=null;break}var P=s.sibling;if(P!==null){P.return=s.return,ne=P;break}ne=s.return}}var YS=Math.ceil,ol=A.ReactCurrentDispatcher,$d=A.ReactCurrentOwner,Gt=A.ReactCurrentBatchConfig,_e=0,at=null,Ze=null,dt=0,Dt=0,Go=sr(0),ot=0,hs=null,Gr=0,il=0,Vd=0,fs=null,It=null,zd=0,Yo=1/0,Nn=null,sl=!1,Wd=null,hr=null,al=!1,fr=null,ll=0,ps=0,Kd=null,cl=-1,ul=0;function wt(){return(_e&6)!==0?Ye():cl!==-1?cl:cl=Ye()}function pr(o){return(o.mode&1)===0?1:(_e&2)!==0&&dt!==0?dt&-dt:NS.transition!==null?(ul===0&&(ul=Og()),ul):(o=Ne,o!==0||(o=window.event,o=o===void 0?16:Fg(o.type)),o)}function an(o,s,c,d){if(50<ps)throw ps=0,Kd=null,Error(n(185));Di(o,c,d),((_e&2)===0||o!==at)&&(o===at&&((_e&2)===0&&(il|=c),ot===4&&mr(o,dt)),Ot(o,d),c===1&&_e===0&&(s.mode&1)===0&&(Yo=Ye()+500,Da&&lr()))}function Ot(o,s){var c=o.callbackNode;NC(o,s);var d=ba(o,o===at?dt:0);if(d===0)c!==null&&_g(c),o.callbackNode=null,o.callbackPriority=0;else if(s=d&-d,o.callbackPriority!==s){if(c!=null&&_g(c),s===1)o.tag===0?AS(Fy.bind(null,o)):Cv(Fy.bind(null,o)),_S(function(){(_e&6)===0&&lr()}),c=null;else{switch(Ag(d)){case 1:c=Su;break;case 4:c=Pg;break;case 16:c=ma;break;case 536870912:c=Ig;break;default:c=ma}c=qy(c,Dy.bind(null,o))}o.callbackPriority=s,o.callbackNode=c}}function Dy(o,s){if(cl=-1,ul=0,(_e&6)!==0)throw Error(n(327));var c=o.callbackNode;if(Xo()&&o.callbackNode!==c)return null;var d=ba(o,o===at?dt:0);if(d===0)return null;if((d&30)!==0||(d&o.expiredLanes)!==0||s)s=dl(o,d);else{s=d;var p=_e;_e|=2;var v=Hy();(at!==o||dt!==s)&&(Nn=null,Yo=Ye()+500,Xr(o,s));do try{QS();break}catch(P){Uy(o,P)}while(!0);ud(),ol.current=v,_e=p,Ze!==null?s=0:(at=null,dt=0,s=ot)}if(s!==0){if(s===2&&(p=Tu(o),p!==0&&(d=p,s=qd(o,p))),s===1)throw c=hs,Xr(o,0),mr(o,d),Ot(o,Ye()),c;if(s===6)mr(o,d);else{if(p=o.current.alternate,(d&30)===0&&!XS(p)&&(s=dl(o,d),s===2&&(v=Tu(o),v!==0&&(d=v,s=qd(o,v))),s===1))throw c=hs,Xr(o,0),mr(o,d),Ot(o,Ye()),c;switch(o.finishedWork=p,o.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:Jr(o,It,Nn);break;case 3:if(mr(o,d),(d&130023424)===d&&(s=zd+500-Ye(),10<s)){if(ba(o,0)!==0)break;if(p=o.suspendedLanes,(p&d)!==d){wt(),o.pingedLanes|=o.suspendedLanes&p;break}o.timeoutHandle=Zu(Jr.bind(null,o,It,Nn),s);break}Jr(o,It,Nn);break;case 4:if(mr(o,d),(d&4194240)===d)break;for(s=o.eventTimes,p=-1;0<d;){var k=31-en(d);v=1<<k,k=s[k],k>p&&(p=k),d&=~v}if(d=p,d=Ye()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*YS(d/1960))-d,10<d){o.timeoutHandle=Zu(Jr.bind(null,o,It,Nn),d);break}Jr(o,It,Nn);break;case 5:Jr(o,It,Nn);break;default:throw Error(n(329))}}}return Ot(o,Ye()),o.callbackNode===c?Dy.bind(null,o):null}function qd(o,s){var c=fs;return o.current.memoizedState.isDehydrated&&(Xr(o,s).flags|=256),o=dl(o,s),o!==2&&(s=It,It=c,s!==null&&Gd(s)),o}function Gd(o){It===null?It=o:It.push.apply(It,o)}function XS(o){for(var s=o;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var d=0;d<c.length;d++){var p=c[d],v=p.getSnapshot;p=p.value;try{if(!tn(v(),p))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function mr(o,s){for(s&=~Vd,s&=~il,o.suspendedLanes|=s,o.pingedLanes&=~s,o=o.expirationTimes;0<s;){var c=31-en(s),d=1<<c;o[c]=-1,s&=~d}}function Fy(o){if((_e&6)!==0)throw Error(n(327));Xo();var s=ba(o,0);if((s&1)===0)return Ot(o,Ye()),null;var c=dl(o,s);if(o.tag!==0&&c===2){var d=Tu(o);d!==0&&(s=d,c=qd(o,d))}if(c===1)throw c=hs,Xr(o,0),mr(o,s),Ot(o,Ye()),c;if(c===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=s,Jr(o,It,Nn),Ot(o,Ye()),null}function Yd(o,s){var c=_e;_e|=1;try{return o(s)}finally{_e=c,_e===0&&(Yo=Ye()+500,Da&&lr())}}function Yr(o){fr!==null&&fr.tag===0&&(_e&6)===0&&Xo();var s=_e;_e|=1;var c=Gt.transition,d=Ne;try{if(Gt.transition=null,Ne=1,o)return o()}finally{Ne=d,Gt.transition=c,_e=s,(_e&6)===0&&lr()}}function Xd(){Dt=Go.current,Fe(Go)}function Xr(o,s){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,TS(c)),Ze!==null)for(c=Ze.return;c!==null;){var d=c;switch(id(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ra();break;case 3:Wo(),Fe(Tt),Fe(ft),yd();break;case 5:gd(d);break;case 4:Wo();break;case 13:Fe($e);break;case 19:Fe($e);break;case 10:dd(d.type._context);break;case 22:case 23:Xd()}c=c.return}if(at=o,Ze=o=gr(o.current,null),dt=Dt=s,ot=0,hs=null,Vd=il=Gr=0,It=fs=null,Wr!==null){for(s=0;s<Wr.length;s++)if(c=Wr[s],d=c.interleaved,d!==null){c.interleaved=null;var p=d.next,v=c.pending;if(v!==null){var k=v.next;v.next=p,d.next=k}c.pending=d}Wr=null}return o}function Uy(o,s){do{var c=Ze;try{if(ud(),Ga.current=Qa,Ya){for(var d=Ve.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Ya=!1}if(qr=0,st=rt=Ve=null,ss=!1,as=0,$d.current=null,c===null||c.return===null){ot=1,hs=s,Ze=null;break}e:{var v=o,k=c.return,P=c,O=s;if(s=dt,P.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var D=O,K=P,q=K.tag;if((K.mode&1)===0&&(q===0||q===11||q===15)){var z=K.alternate;z?(K.updateQueue=z.updateQueue,K.memoizedState=z.memoizedState,K.lanes=z.lanes):(K.updateQueue=null,K.memoizedState=null)}var Z=dy(k);if(Z!==null){Z.flags&=-257,hy(Z,k,P,v,s),Z.mode&1&&uy(v,D,s),s=Z,O=D;var ie=s.updateQueue;if(ie===null){var le=new Set;le.add(O),s.updateQueue=le}else ie.add(O);break e}else{if((s&1)===0){uy(v,D,s),Jd();break e}O=Error(n(426))}}else if(Ue&&P.mode&1){var Xe=dy(k);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),hy(Xe,k,P,v,s),ld(Ko(O,P));break e}}v=O=Ko(O,P),ot!==4&&(ot=2),fs===null?fs=[v]:fs.push(v),v=k;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var M=ly(v,O,s);Mv(v,M);break e;case 1:P=O;var B=v.type,j=v.stateNode;if((v.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(hr===null||!hr.has(j)))){v.flags|=65536,s&=-s,v.lanes|=s;var Y=cy(v,P,s);Mv(v,Y);break e}}v=v.return}while(v!==null)}Vy(c)}catch(ce){s=ce,Ze===c&&c!==null&&(Ze=c=c.return);continue}break}while(!0)}function Hy(){var o=ol.current;return ol.current=Qa,o===null?Qa:o}function Jd(){(ot===0||ot===3||ot===2)&&(ot=4),at===null||(Gr&268435455)===0&&(il&268435455)===0||mr(at,dt)}function dl(o,s){var c=_e;_e|=2;var d=Hy();(at!==o||dt!==s)&&(Nn=null,Xr(o,s));do try{JS();break}catch(p){Uy(o,p)}while(!0);if(ud(),_e=c,ol.current=d,Ze!==null)throw Error(n(261));return at=null,dt=0,ot}function JS(){for(;Ze!==null;)$y(Ze)}function QS(){for(;Ze!==null&&!EC();)$y(Ze)}function $y(o){var s=Ky(o.alternate,o,Dt);o.memoizedProps=o.pendingProps,s===null?Vy(o):Ze=s,$d.current=null}function Vy(o){var s=o;do{var c=s.alternate;if(o=s.return,(s.flags&32768)===0){if(c=zS(c,s,Dt),c!==null){Ze=c;return}}else{if(c=WS(c,s),c!==null){c.flags&=32767,Ze=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{ot=6,Ze=null;return}}if(s=s.sibling,s!==null){Ze=s;return}Ze=s=o}while(s!==null);ot===0&&(ot=5)}function Jr(o,s,c){var d=Ne,p=Gt.transition;try{Gt.transition=null,Ne=1,ZS(o,s,c,d)}finally{Gt.transition=p,Ne=d}return null}function ZS(o,s,c,d){do Xo();while(fr!==null);if((_e&6)!==0)throw Error(n(327));c=o.finishedWork;var p=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var v=c.lanes|c.childLanes;if(BC(o,v),o===at&&(Ze=at=null,dt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||al||(al=!0,qy(ma,function(){return Xo(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=Gt.transition,Gt.transition=null;var k=Ne;Ne=1;var P=_e;_e|=4,$d.current=null,qS(o,c),By(c,o),bS(Ju),ka=!!Xu,Ju=Xu=null,o.current=c,GS(c),CC(),_e=P,Ne=k,Gt.transition=v}else o.current=c;if(al&&(al=!1,fr=o,ll=p),v=o.pendingLanes,v===0&&(hr=null),_C(c.stateNode),Ot(o,Ye()),s!==null)for(d=o.onRecoverableError,c=0;c<s.length;c++)p=s[c],d(p.value,{componentStack:p.stack,digest:p.digest});if(sl)throw sl=!1,o=Wd,Wd=null,o;return(ll&1)!==0&&o.tag!==0&&Xo(),v=o.pendingLanes,(v&1)!==0?o===Kd?ps++:(ps=0,Kd=o):ps=0,lr(),null}function Xo(){if(fr!==null){var o=Ag(ll),s=Gt.transition,c=Ne;try{if(Gt.transition=null,Ne=16>o?16:o,fr===null)var d=!1;else{if(o=fr,fr=null,ll=0,(_e&6)!==0)throw Error(n(331));var p=_e;for(_e|=4,ne=o.current;ne!==null;){var v=ne,k=v.child;if((ne.flags&16)!==0){var P=v.deletions;if(P!==null){for(var O=0;O<P.length;O++){var D=P[O];for(ne=D;ne!==null;){var K=ne;switch(K.tag){case 0:case 11:case 15:ds(8,K,v)}var q=K.child;if(q!==null)q.return=K,ne=q;else for(;ne!==null;){K=ne;var z=K.sibling,Z=K.return;if(Py(K),K===D){ne=null;break}if(z!==null){z.return=Z,ne=z;break}ne=Z}}}var ie=v.alternate;if(ie!==null){var le=ie.child;if(le!==null){ie.child=null;do{var Xe=le.sibling;le.sibling=null,le=Xe}while(le!==null)}}ne=v}}if((v.subtreeFlags&2064)!==0&&k!==null)k.return=v,ne=k;else e:for(;ne!==null;){if(v=ne,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ds(9,v,v.return)}var M=v.sibling;if(M!==null){M.return=v.return,ne=M;break e}ne=v.return}}var B=o.current;for(ne=B;ne!==null;){k=ne;var j=k.child;if((k.subtreeFlags&2064)!==0&&j!==null)j.return=k,ne=j;else e:for(k=B;ne!==null;){if(P=ne,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:rl(9,P)}}catch(ce){qe(P,P.return,ce)}if(P===k){ne=null;break e}var Y=P.sibling;if(Y!==null){Y.return=P.return,ne=Y;break e}ne=P.return}}if(_e=p,lr(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(ga,o)}catch{}d=!0}return d}finally{Ne=c,Gt.transition=s}}return!1}function zy(o,s,c){s=Ko(c,s),s=ly(o,s,1),o=ur(o,s,1),s=wt(),o!==null&&(Di(o,1,s),Ot(o,s))}function qe(o,s,c){if(o.tag===3)zy(o,o,c);else for(;s!==null;){if(s.tag===3){zy(s,o,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(hr===null||!hr.has(d))){o=Ko(c,o),o=cy(s,o,1),s=ur(s,o,1),o=wt(),s!==null&&(Di(s,1,o),Ot(s,o));break}}s=s.return}}function eT(o,s,c){var d=o.pingCache;d!==null&&d.delete(s),s=wt(),o.pingedLanes|=o.suspendedLanes&c,at===o&&(dt&c)===c&&(ot===4||ot===3&&(dt&130023424)===dt&&500>Ye()-zd?Xr(o,0):Vd|=c),Ot(o,s)}function Wy(o,s){s===0&&((o.mode&1)===0?s=1:(s=ya,ya<<=1,(ya&130023424)===0&&(ya=4194304)));var c=wt();o=In(o,s),o!==null&&(Di(o,s,c),Ot(o,c))}function tT(o){var s=o.memoizedState,c=0;s!==null&&(c=s.retryLane),Wy(o,c)}function nT(o,s){var c=0;switch(o.tag){case 13:var d=o.stateNode,p=o.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=o.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),Wy(o,c)}var Ky;Ky=function(o,s,c){if(o!==null)if(o.memoizedProps!==s.pendingProps||Tt.current)Pt=!0;else{if((o.lanes&c)===0&&(s.flags&128)===0)return Pt=!1,VS(o,s,c);Pt=(o.flags&131072)!==0}else Pt=!1,Ue&&(s.flags&1048576)!==0&&Sv(s,Ua,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;tl(o,s),o=s.pendingProps;var p=Do(s,ft.current);zo(s,c),p=xd(null,s,d,o,p,c);var v=kd();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,_t(d)?(v=!0,ja(s)):v=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,pd(s),p.updater=Za,s.stateNode=p,p._reactInternals=s,Pd(s,d,o,c),s=Nd(null,s,d,!0,v,c)):(s.tag=0,Ue&&v&&od(s),bt(null,s,p,c),s=s.child),s;case 16:d=s.elementType;e:{switch(tl(o,s),o=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=oT(d),o=rn(d,o),p){case 0:s=Ad(null,s,d,o,c);break e;case 1:s=yy(null,s,d,o,c);break e;case 11:s=fy(null,s,d,o,c);break e;case 14:s=py(null,s,d,rn(d.type,o),c);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:rn(d,p),Ad(o,s,d,p,c);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:rn(d,p),yy(o,s,d,p,c);case 3:e:{if(by(s),o===null)throw Error(n(387));d=s.pendingProps,v=s.memoizedState,p=v.element,Lv(o,s),Ka(s,d,null,c);var k=s.memoizedState;if(d=k.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){p=Ko(Error(n(423)),s),s=wy(o,s,d,c,p);break e}else if(d!==p){p=Ko(Error(n(424)),s),s=wy(o,s,d,c,p);break e}else for(jt=ir(s.stateNode.containerInfo.firstChild),Rt=s,Ue=!0,nn=null,c=Nv(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ho(),d===p){s=An(o,s,c);break e}bt(o,s,d,c)}s=s.child}return s;case 5:return jv(s),o===null&&ad(s),d=s.type,p=s.pendingProps,v=o!==null?o.memoizedProps:null,k=p.children,Qu(d,p)?k=null:v!==null&&Qu(d,v)&&(s.flags|=32),vy(o,s),bt(o,s,k,c),s.child;case 6:return o===null&&ad(s),null;case 13:return xy(o,s,c);case 4:return md(s,s.stateNode.containerInfo),d=s.pendingProps,o===null?s.child=$o(s,null,d,c):bt(o,s,d,c),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:rn(d,p),fy(o,s,d,p,c);case 7:return bt(o,s,s.pendingProps,c),s.child;case 8:return bt(o,s,s.pendingProps.children,c),s.child;case 12:return bt(o,s,s.pendingProps.children,c),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,v=s.memoizedProps,k=p.value,Re(Va,d._currentValue),d._currentValue=k,v!==null)if(tn(v.value,k)){if(v.children===p.children&&!Tt.current){s=An(o,s,c);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var P=v.dependencies;if(P!==null){k=v.child;for(var O=P.firstContext;O!==null;){if(O.context===d){if(v.tag===1){O=On(-1,c&-c),O.tag=2;var D=v.updateQueue;if(D!==null){D=D.shared;var K=D.pending;K===null?O.next=O:(O.next=K.next,K.next=O),D.pending=O}}v.lanes|=c,O=v.alternate,O!==null&&(O.lanes|=c),hd(v.return,c,s),P.lanes|=c;break}O=O.next}}else if(v.tag===10)k=v.type===s.type?null:v.child;else if(v.tag===18){if(k=v.return,k===null)throw Error(n(341));k.lanes|=c,P=k.alternate,P!==null&&(P.lanes|=c),hd(k,c,s),k=v.sibling}else k=v.child;if(k!==null)k.return=v;else for(k=v;k!==null;){if(k===s){k=null;break}if(v=k.sibling,v!==null){v.return=k.return,k=v;break}k=k.return}v=k}bt(o,s,p.children,c),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,zo(s,c),p=Kt(p),d=d(p),s.flags|=1,bt(o,s,d,c),s.child;case 14:return d=s.type,p=rn(d,s.pendingProps),p=rn(d.type,p),py(o,s,d,p,c);case 15:return my(o,s,s.type,s.pendingProps,c);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:rn(d,p),tl(o,s),s.tag=1,_t(d)?(o=!0,ja(s)):o=!1,zo(s,c),sy(s,d,p),Pd(s,d,p,c),Nd(null,s,d,!0,o,c);case 19:return Ey(o,s,c);case 22:return gy(o,s,c)}throw Error(n(156,s.tag))};function qy(o,s){return Tg(o,s)}function rT(o,s,c,d){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(o,s,c,d){return new rT(o,s,c,d)}function Qd(o){return o=o.prototype,!(!o||!o.isReactComponent)}function oT(o){if(typeof o=="function")return Qd(o)?1:0;if(o!=null){if(o=o.$$typeof,o===oe)return 11;if(o===ee)return 14}return 2}function gr(o,s){var c=o.alternate;return c===null?(c=Yt(o.tag,s,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=s,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,s=o.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function hl(o,s,c,d,p,v){var k=2;if(d=o,typeof o=="function")Qd(o)&&(k=1);else if(typeof o=="string")k=5;else e:switch(o){case W:return Qr(c.children,p,v,s);case R:k=8,p|=8;break;case H:return o=Yt(12,c,s,p|2),o.elementType=H,o.lanes=v,o;case J:return o=Yt(13,c,s,p),o.elementType=J,o.lanes=v,o;case re:return o=Yt(19,c,s,p),o.elementType=re,o.lanes=v,o;case ke:return fl(c,p,v,s);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case G:k=10;break e;case ae:k=9;break e;case oe:k=11;break e;case ee:k=14;break e;case ue:k=16,d=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return s=Yt(k,c,s,p),s.elementType=o,s.type=d,s.lanes=v,s}function Qr(o,s,c,d){return o=Yt(7,o,d,s),o.lanes=c,o}function fl(o,s,c,d){return o=Yt(22,o,d,s),o.elementType=ke,o.lanes=c,o.stateNode={isHidden:!1},o}function Zd(o,s,c){return o=Yt(6,o,null,s),o.lanes=c,o}function eh(o,s,c){return s=Yt(4,o.children!==null?o.children:[],o.key,s),s.lanes=c,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}function iT(o,s,c,d,p){this.tag=s,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_u(0),this.expirationTimes=_u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_u(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function th(o,s,c,d,p,v,k,P,O){return o=new iT(o,s,c,P,O),s===1?(s=1,v===!0&&(s|=8)):s=0,v=Yt(3,null,null,s),o.current=v,v.stateNode=o,v.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},pd(v),o}function sT(o,s,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:d==null?null:""+d,children:o,containerInfo:s,implementation:c}}function Gy(o){if(!o)return ar;o=o._reactInternals;e:{if(Ur(o)!==o||o.tag!==1)throw Error(n(170));var s=o;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(_t(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(o.tag===1){var c=o.type;if(_t(c))return kv(o,c,s)}return s}function Yy(o,s,c,d,p,v,k,P,O){return o=th(c,d,!0,o,p,v,k,P,O),o.context=Gy(null),c=o.current,d=wt(),p=pr(c),v=On(d,p),v.callback=s??null,ur(c,v,p),o.current.lanes=p,Di(o,p,d),Ot(o,d),o}function pl(o,s,c,d){var p=s.current,v=wt(),k=pr(p);return c=Gy(c),s.context===null?s.context=c:s.pendingContext=c,s=On(v,k),s.payload={element:o},d=d===void 0?null:d,d!==null&&(s.callback=d),o=ur(p,s,k),o!==null&&(an(o,p,k,v),Wa(o,p,k)),k}function ml(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Xy(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<s?c:s}}function nh(o,s){Xy(o,s),(o=o.alternate)&&Xy(o,s)}function aT(){return null}var Jy=typeof reportError=="function"?reportError:function(o){console.error(o)};function rh(o){this._internalRoot=o}gl.prototype.render=rh.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(n(409));pl(o,s,null,null)},gl.prototype.unmount=rh.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;Yr(function(){pl(null,o,null,null)}),s[Sn]=null}};function gl(o){this._internalRoot=o}gl.prototype.unstable_scheduleHydration=function(o){if(o){var s=Lg();o={blockedOn:null,target:o,priority:s};for(var c=0;c<nr.length&&s!==0&&s<nr[c].priority;c++);nr.splice(c,0,o),c===0&&jg(o)}};function oh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function vl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Qy(){}function lT(o,s,c,d,p){if(p){if(typeof d=="function"){var v=d;d=function(){var D=ml(k);v.call(D)}}var k=Yy(s,d,o,0,null,!1,!1,"",Qy);return o._reactRootContainer=k,o[Sn]=k.current,Qi(o.nodeType===8?o.parentNode:o),Yr(),k}for(;p=o.lastChild;)o.removeChild(p);if(typeof d=="function"){var P=d;d=function(){var D=ml(O);P.call(D)}}var O=th(o,0,!1,null,null,!1,!1,"",Qy);return o._reactRootContainer=O,o[Sn]=O.current,Qi(o.nodeType===8?o.parentNode:o),Yr(function(){pl(s,O,c,d)}),O}function yl(o,s,c,d,p){var v=c._reactRootContainer;if(v){var k=v;if(typeof p=="function"){var P=p;p=function(){var O=ml(k);P.call(O)}}pl(s,k,o,p)}else k=lT(c,s,o,p,d);return ml(k)}Ng=function(o){switch(o.tag){case 3:var s=o.stateNode;if(s.current.memoizedState.isDehydrated){var c=ji(s.pendingLanes);c!==0&&(Pu(s,c|1),Ot(s,Ye()),(_e&6)===0&&(Yo=Ye()+500,lr()))}break;case 13:Yr(function(){var d=In(o,1);if(d!==null){var p=wt();an(d,o,1,p)}}),nh(o,1)}},Iu=function(o){if(o.tag===13){var s=In(o,134217728);if(s!==null){var c=wt();an(s,o,134217728,c)}nh(o,134217728)}},Bg=function(o){if(o.tag===13){var s=pr(o),c=In(o,s);if(c!==null){var d=wt();an(c,o,s,d)}nh(o,s)}},Lg=function(){return Ne},Mg=function(o,s){var c=Ne;try{return Ne=o,s()}finally{Ne=c}},xu=function(o,s,c){switch(s){case"input":if(fu(o,c),s=c.name,c.type==="radio"&&s!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==o&&d.form===o.form){var p=Ma(d);if(!p)throw Error(n(90));du(d),fu(d,p)}}}break;case"textarea":ug(o,c);break;case"select":s=c.value,s!=null&&To(o,!!c.multiple,s,!1)}},bg=Yd,wg=Yr;var cT={usingClientEntryPoint:!1,Events:[ts,Ro,Ma,vg,yg,Yd]},ms={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uT={bundleType:ms.bundleType,version:ms.version,rendererPackageName:ms.rendererPackageName,rendererConfig:ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Cg(o),o===null?null:o.stateNode},findFiberByHostInstance:ms.findFiberByHostInstance||aT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{ga=bl.inject(uT),dn=bl}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cT,At.createPortal=function(o,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oh(s))throw Error(n(200));return sT(o,s,null,c)},At.createRoot=function(o,s){if(!oh(o))throw Error(n(299));var c=!1,d="",p=Jy;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=th(o,1,!1,null,null,c,!1,d,p),o[Sn]=s.current,Qi(o.nodeType===8?o.parentNode:o),new rh(s)},At.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Cg(s),o=o===null?null:o.stateNode,o},At.flushSync=function(o){return Yr(o)},At.hydrate=function(o,s,c){if(!vl(s))throw Error(n(200));return yl(null,o,s,!0,c)},At.hydrateRoot=function(o,s,c){if(!oh(o))throw Error(n(405));var d=c!=null&&c.hydratedSources||null,p=!1,v="",k=Jy;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),s=Yy(s,null,o,1,c??null,p,!1,v,k),o[Sn]=s.current,Qi(o),d)for(o=0;o<d.length;o++)c=d[o],p=c._getVersion,p=p(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,p]:s.mutableSourceEagerHydrationData.push(c,p);return new gl(s)},At.render=function(o,s,c){if(!vl(s))throw Error(n(200));return yl(null,o,s,!1,c)},At.unmountComponentAtNode=function(o){if(!vl(o))throw Error(n(40));return o._reactRootContainer?(Yr(function(){yl(null,null,o,!1,function(){o._reactRootContainer=null,o[Sn]=null})}),!0):!1},At.unstable_batchedUpdates=Yd,At.unstable_renderSubtreeIntoContainer=function(o,s,c,d){if(!vl(c))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return yl(o,s,c,!1,d)},At.version="18.3.1-next-f1338f8080-20240426",At}var s0;function Aw(){if(s0)return ah.exports;s0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ah.exports=bT(),ah.exports}var a0;function wT(){if(a0)return wl;a0=1;var t=Aw();return wl.createRoot=t.createRoot,wl.hydrateRoot=t.hydrateRoot,wl}var xT=wT();const kT=Ow(xT);Aw();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rs.apply(this,arguments)}var _r;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_r||(_r={}));const l0="popstate";function ET(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return $h("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Yl(i)}return ST(e,n,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CT(){return Math.random().toString(36).substr(2,8)}function c0(t,e){return{usr:t.state,key:t.key,idx:e}}function $h(t,e,n,r){return n===void 0&&(n=null),Rs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xi(e):e,{state:n,key:e&&e.key||r||CT()})}function Yl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ST(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u=_r.Pop,h=null,f=m();f==null&&(f=0,l.replaceState(Rs({},l.state,{idx:f}),""));function m(){return(l.state||{idx:null}).idx}function g(){u=_r.Pop;let C=m(),I=C==null?null:C-f;f=C,h&&h({action:u,location:x.location,delta:I})}function b(C,I){u=_r.Push;let _=$h(x.location,C,I);f=m()+1;let T=c0(_,f),A=x.createHref(_);try{l.pushState(T,"",A)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(A)}a&&h&&h({action:u,location:x.location,delta:1})}function E(C,I){u=_r.Replace;let _=$h(x.location,C,I);f=m();let T=c0(_,f),A=x.createHref(_);l.replaceState(T,"",A),a&&h&&h({action:u,location:x.location,delta:0})}function w(C){let I=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof C=="string"?C:Yl(C);return _=_.replace(/ $/,"%20"),Ke(I,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,I)}let x={get action(){return u},get location(){return t(i,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(l0,g),h=C,()=>{i.removeEventListener(l0,g),h=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let I=w(C);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:b,replace:E,go(C){return l.go(C)}};return x}var u0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(u0||(u0={}));function TT(t,e,n){return n===void 0&&(n="/"),_T(t,e,n)}function _T(t,e,n,r){let i=typeof e=="string"?xi(e):e,a=fi(i.pathname||"/",n);if(a==null)return null;let l=Bw(t);PT(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=FT(a);u=jT(l[h],f)}return u}function Bw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Ke(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let f=Pr([r,h.relativePath]),m=n.concat(h);a.children&&a.children.length>0&&(Ke(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Bw(a.children,e,m,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:MT(f,a.index),routesMeta:m})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let h of Lw(a.path))i(a,l,h)}),e}function Lw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Lw(r.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function PT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const IT=/^:[\w-]+$/,OT=3,AT=2,NT=1,BT=10,LT=-2,d0=t=>t==="*";function MT(t,e){let n=t.split("/"),r=n.length;return n.some(d0)&&(r+=LT),e&&(r+=AT),n.filter(i=>!d0(i)).reduce((i,a)=>i+(IT.test(a)?OT:a===""?NT:BT),r)}function RT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function jT(t,e,n){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=Vh({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),b=h.route;if(!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Pr([a,g.pathname]),pathnameBase:VT(Pr([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=Pr([a,g.pathnameBase]))}return l}function Vh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,m,g)=>{let{paramName:b,isOptional:E}=m;if(b==="*"){let x=u[g]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const w=u[g];return E&&!w?f[b]=void 0:f[b]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function DT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Nw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function FT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xi(t):t;return{pathname:n?n.startsWith("/")?n:HT(n,e):e,search:zT(r),hash:WT(i)}}function HT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function uh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $T(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Uf(t,e){let n=$T(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hf(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xi(t):(i=Rs({},t),Ke(!i.pathname||!i.pathname.includes("?"),uh("?","pathname","search",i)),Ke(!i.pathname||!i.pathname.includes("#"),uh("#","pathname","hash",i)),Ke(!i.search||!i.search.includes("#"),uh("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}u=g>=0?e[g]:"/"}let h=UT(i,u),f=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const Pr=t=>t.join("/").replace(/\/\/+/g,"/"),VT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Mw=["post","put","patch","delete"];new Set(Mw);const qT=["get",...Mw];new Set(qT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(this,arguments)}const Tc=S.createContext(null),Rw=S.createContext(null),Jn=S.createContext(null),_c=S.createContext(null),Cn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),jw=S.createContext(null);function GT(t,e){let{relative:n}=e===void 0?{}:e;ki()||Ke(!1);let{basename:r,navigator:i}=S.useContext(Jn),{hash:a,pathname:l,search:u}=Pc(t,{relative:n}),h=l;return r!=="/"&&(h=l==="/"?r:Pr([r,l])),i.createHref({pathname:h,search:u,hash:a})}function ki(){return S.useContext(_c)!=null}function yo(){return ki()||Ke(!1),S.useContext(_c).location}function Dw(t){S.useContext(Jn).static||S.useLayoutEffect(t)}function bo(){let{isDataRoute:t}=S.useContext(Cn);return t?c_():YT()}function YT(){ki()||Ke(!1);let t=S.useContext(Tc),{basename:e,future:n,navigator:r}=S.useContext(Jn),{matches:i}=S.useContext(Cn),{pathname:a}=yo(),l=JSON.stringify(Uf(i,n.v7_relativeSplatPath)),u=S.useRef(!1);return Dw(()=>{u.current=!0}),S.useCallback(function(f,m){if(m===void 0&&(m={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let g=Hf(f,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Pr([e,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[e,r,l,a,t])}const XT=S.createContext(null);function JT(t){let e=S.useContext(Cn).outlet;return e&&S.createElement(XT.Provider,{value:t},e)}function Ei(){let{matches:t}=S.useContext(Cn),e=t[t.length-1];return e?e.params:{}}function Pc(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Jn),{matches:i}=S.useContext(Cn),{pathname:a}=yo(),l=JSON.stringify(Uf(i,r.v7_relativeSplatPath));return S.useMemo(()=>Hf(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function QT(t,e){return ZT(t,e)}function ZT(t,e,n,r){ki()||Ke(!1);let{navigator:i}=S.useContext(Jn),{matches:a}=S.useContext(Cn),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let f=yo(),m;if(e){var g;let C=typeof e=="string"?xi(e):e;h==="/"||(g=C.pathname)!=null&&g.startsWith(h)||Ke(!1),m=C}else m=f;let b=m.pathname||"/",E=b;if(h!=="/"){let C=h.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=TT(t,{pathname:E}),x=o_(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Pr([h,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:Pr([h,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,r);return e&&x?S.createElement(_c.Provider,{value:{location:js({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:_r.Pop}},x):x}function e_(){let t=l_(),e=KT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const t_=S.createElement(e_,null);class n_ extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Cn.Provider,{value:this.props.routeContext},S.createElement(jw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function r_(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(Tc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Cn.Provider,{value:e},r)}function o_(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);m>=0||Ke(!1),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:b,errors:E}=n,w=g.route.loader&&b[g.route.id]===void 0&&(!E||E[g.route.id]===void 0);if(g.route.lazy||w){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,g,b)=>{let E,w=!1,x=null,C=null;n&&(E=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||t_,h&&(f<0&&b===0?(u_("route-fallback"),w=!0,C=null):f===b&&(w=!0,C=g.route.hydrateFallbackElement||null)));let I=e.concat(l.slice(0,b+1)),_=()=>{let T;return E?T=x:w?T=C:g.route.Component?T=S.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=m,S.createElement(r_,{match:g,routeContext:{outlet:m,matches:I,isDataRoute:n!=null},children:T})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?S.createElement(n_,{location:n.location,revalidation:n.revalidation,component:x,error:E,children:_(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):_()},null)}var Fw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Fw||{}),Uw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Uw||{});function i_(t){let e=S.useContext(Tc);return e||Ke(!1),e}function s_(t){let e=S.useContext(Rw);return e||Ke(!1),e}function a_(t){let e=S.useContext(Cn);return e||Ke(!1),e}function Hw(t){let e=a_(),n=e.matches[e.matches.length-1];return n.route.id||Ke(!1),n.route.id}function l_(){var t;let e=S.useContext(jw),n=s_(),r=Hw();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function c_(){let{router:t}=i_(Fw.UseNavigateStable),e=Hw(Uw.UseNavigateStable),n=S.useRef(!1);return Dw(()=>{n.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,js({fromRouteId:e},a)))},[t,e])}const h0={};function u_(t,e,n){h0[t]||(h0[t]=!0)}function d_(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Xl(t){let{to:e,replace:n,state:r,relative:i}=t;ki()||Ke(!1);let{future:a,static:l}=S.useContext(Jn),{matches:u}=S.useContext(Cn),{pathname:h}=yo(),f=bo(),m=Hf(e,Uf(u,a.v7_relativeSplatPath),h,i==="path"),g=JSON.stringify(m);return S.useEffect(()=>f(JSON.parse(g),{replace:n,state:r,relative:i}),[f,g,i,n,r]),null}function $w(t){return JT(t.context)}function ct(t){Ke(!1)}function h_(t){let{basename:e="/",children:n=null,location:r,navigationType:i=_r.Pop,navigator:a,static:l=!1,future:u}=t;ki()&&Ke(!1);let h=e.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:h,navigator:a,static:l,future:js({v7_relativeSplatPath:!1},u)}),[h,u,a,l]);typeof r=="string"&&(r=xi(r));let{pathname:m="/",search:g="",hash:b="",state:E=null,key:w="default"}=r,x=S.useMemo(()=>{let C=fi(m,h);return C==null?null:{location:{pathname:C,search:g,hash:b,state:E,key:w},navigationType:i}},[h,m,g,b,E,w,i]);return x==null?null:S.createElement(Jn.Provider,{value:f},S.createElement(_c.Provider,{children:n,value:x}))}function f_(t){let{children:e,location:n}=t;return QT(zh(e),n)}new Promise(()=>{});function zh(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let a=[...e,i];if(r.type===S.Fragment){n.push.apply(n,zh(r.props.children,a));return}r.type!==ct&&Ke(!1),!r.props.index||!r.props.children||Ke(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=zh(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(this,arguments)}function Vw(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function p_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function m_(t,e){return t.button===0&&(!e||e==="_self")&&!p_(t)}function Wh(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function g_(t,e){let n=Wh(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const v_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],b_="6";try{window.__reactRouterVersion=b_}catch{}const w_=S.createContext({isTransitioning:!1}),x_="startTransition",f0=gT[x_];function k_(t){let{basename:e,children:n,future:r,window:i}=t,a=S.useRef();a.current==null&&(a.current=ET({window:i,v5Compat:!0}));let l=a.current,[u,h]=S.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},m=S.useCallback(g=>{f&&f0?f0(()=>h(g)):h(g)},[h,f]);return S.useLayoutEffect(()=>l.listen(m),[l,m]),S.useEffect(()=>d_(r),[r]),S.createElement(h_,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const E_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:u,target:h,to:f,preventScrollReset:m,viewTransition:g}=e,b=Vw(e,v_),{basename:E}=S.useContext(Jn),w,x=!1;if(typeof f=="string"&&C_.test(f)&&(w=f,E_))try{let T=new URL(window.location.href),A=f.startsWith("//")?new URL(T.protocol+f):new URL(f),L=fi(A.pathname,E);A.origin===T.origin&&L!=null?f=L+A.search+A.hash:x=!0}catch{}let C=GT(f,{relative:i}),I=T_(f,{replace:l,state:u,target:h,preventScrollReset:m,relative:i,viewTransition:g});function _(T){r&&r(T),T.defaultPrevented||I(T)}return S.createElement("a",Jl({},b,{href:w||C,onClick:x||a?r:_,ref:n,target:h}))}),vs=S.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:l=!1,style:u,to:h,viewTransition:f,children:m}=e,g=Vw(e,y_),b=Pc(h,{relative:g.relative}),E=yo(),w=S.useContext(Rw),{navigator:x,basename:C}=S.useContext(Jn),I=w!=null&&P_(b)&&f===!0,_=x.encodeLocation?x.encodeLocation(b).pathname:b.pathname,T=E.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(T=T.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&C&&(A=fi(A,C)||A);const L=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let F=T===_||!l&&T.startsWith(_)&&T.charAt(L)==="/",W=A!=null&&(A===_||!l&&A.startsWith(_)&&A.charAt(_.length)==="/"),R={isActive:F,isPending:W,isTransitioning:I},H=F?r:void 0,G;typeof a=="function"?G=a(R):G=[a,F?"active":null,W?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let ae=typeof u=="function"?u(R):u;return S.createElement(Be,Jl({},g,{"aria-current":H,className:G,ref:n,style:ae,to:h,viewTransition:f}),typeof m=="function"?m(R):m)});var Kh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Kh||(Kh={}));var p0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(p0||(p0={}));function S_(t){let e=S.useContext(Tc);return e||Ke(!1),e}function T_(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:u}=e===void 0?{}:e,h=bo(),f=yo(),m=Pc(t,{relative:l});return S.useCallback(g=>{if(m_(g,n)){g.preventDefault();let b=r!==void 0?r:Yl(f)===Yl(m);h(t,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[f,h,m,r,i,n,t,a,l,u])}function __(t){let e=S.useRef(Wh(t)),n=S.useRef(!1),r=yo(),i=S.useMemo(()=>g_(r.search,n.current?null:e.current),[r.search]),a=bo(),l=S.useCallback((u,h)=>{const f=Wh(typeof u=="function"?u(i):u);n.current=!0,a("?"+f,h)},[a,i]);return[i,l]}function P_(t,e){e===void 0&&(e={});let n=S.useContext(w_);n==null&&Ke(!1);let{basename:r}=S_(Kh.useViewTransitionState),i=Pc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=fi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=fi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vh(i.pathname,l)!=null||Vh(i.pathname,a)!=null}const jn=({name:t,type:e,id:n,value:r,placeholder:i,icon:a,disabled:l=!1})=>{const[u,h]=S.useState(!1);return y.jsxs("div",{className:"relative w-[100%] mb-4",children:[y.jsx("input",{name:t,type:e=="password"?u?"text":"password":e,placeholder:i,defaultValue:r,id:n,disabled:l,className:"input-box"}),y.jsx("i",{className:"fi "+a+" input-icon"}),e=="password"?y.jsx("i",{className:"fi fi-br-eye"+(u?"":"-crossed")+" input-icon left-[auto] right-4 cursor-pointer",onClick:()=>h(f=>!f)}):""]})},I_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAYAAACSN4jeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVeSURBVHgBzZhrbBRVFMfPuTO77dKtSCm1BQklppJCjEIfFIkUaHk2IKUEaQwR0FSNaIhA1BZCY2hVPho/CMQH0aatUgU+FLQPln5oKxTKIwEkJWwFoTwKWNjtY2fmeHaBdi3dmV12WfkluzN375mZ/9x79pxzL8ATCkIQUEGB6cb54+P5Lkka0gjUUAIJHQLopirJ7c/sbzwPj0jAwjrmvhwnq8oqDWA+S0vnn6J0zG8DUSOg+EmT5P3xvzdeAz/xW1hH9tQMCdRNRMiCQIIAIQAHAlaYTGLriAPNdiN7Q2FnF0+PjnG6SvnN10II4Af+xV8lo2qP7DCw8831WWmZJGAnnyZBiEGkckWWCxN8jJ7wdWFHdvr7JKj+cYhywy6RLyvqd776hxR2NSv9Q0H0Jb+XT+HBwv7WrvbhGt/9g0XNTpmLKA5AkKHEUJQLZsU3HL7g28aLW/MzEhVFbSCCseAHhHBcEOwD1A6TYv5TEeiSRV8MoJQApOWwwUK2SgxUlBvZu6G46HP+WxuKYptjAml9XG2LbYjudv608qfa3eicnbZaQdyCQOO4eUNFdVF8w9ELRs/oH7HrczIWk6buNb6AtsWq1iK02RTwk8uzJ4+ThWm7BtLG+NqmU/5c0y+st9La2lX53Ev0j9m3taCiuJqWUggDHmGuWnkanzZSj0TddaO13pMjH47sBFvj6o9shjAh7qnDAs8xUsVhORclS+YVQnS7Uj8XRs3I2QJhxDNiSq35EgGN8e5Qrli0u7+OF56pJVjNo/U9hBHRV2OaPFiUGzmhW0S/3gbS2Lsdo7SoCggzMgEm/3fWBpCG98HwlW31mHWmB/wgq8S5jVB7FYKE8/MHskCYoGuFUAf+glocv+PzECRCg0msi2L1jIikNgg/Y1gcDtOzIFXqgjCjAUVxuCD9CC5pZvgfEIjYqWdAqhq0zwSKAF7QcN2lm1BRUCqEHeyUVYRWHDpagJNk+NY5YXnK9vSNR9/e4TK6HWnaXq6Z7WAIzuKvGToGp5EOAle4puvceNq75291GGy4kwF2xequu3KPvla1B0JEVundGq75sn31C61nomDtCj+42rvjUF8Crbmd6RHlhkPKOggR8z/rTtQTxT5/sXZz7BlPElcV+sZ95AUCfO1Mho+70rCLTAPWhJlplbkbIAS4NFW/GCCeQ7hfXUTOUw52aJGn1nZNo13OJB/24ovU8qXLIAiySh1L2J1XGZj92C+MSwzK7Zzz6TFXrN4ChP/FWJFWuXQ9PIqokjsrOF2V6dlw+XW+rshac+/ci5SKZQ3sT6+AAewHZZImb2rOr7Ab2c7clx/rcFhKLFffeFN2pEj694VVdYXWXQ8Jm1qWl6RK2MID+BT4xy+cP3bz9LRGn+tssxXblAXVCyLuOC1jelwwnV9gEfflsJ0n7UXcWkIRN3OHnhUOW/WF1ikDzUHwqL3Fo7YTAscdDd2xTjeFmR0ZauS1NQhahBgQQV2qkF+0fWKxP/jtoaG9svv0sdF5ye5xnQmBgeDHLpBqviRc0c1gckxB1B7UD/jOwcIom7fdkDe6XHXm0Oi8SeyLMBMeAySc6IpuIkmJ0UTvs0X1m6xfDbbR3QZILc97jy22wX0fCTFOToXrjuRXDek2hvsTGeVLEhWUfuPTkFUZ/NATshArm5b/7HPxa7ib05y/x95ytiqZ08i7fEM7BMdt9t2Pos6+kKonyk1AOzrFxcWiesLJFbzozOdLs3l1FWl0DYeMbg4pTbyKrxDRkZV/LCzzqyJ+5K2mlJYCE5y7NVXI2kTOpZyYaST7jJnTbR8SdvKxndunemMsJ07O+8EBAfIvZzP9J7slOesAAAAASUVORK5CYII=",zw=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ic=S.createContext({}),Oc=S.createContext(null),Ac=typeof document<"u",$f=Ac?S.useLayoutEffect:S.useEffect,Ww=S.createContext({strict:!1}),Vf=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),O_="framerAppearId",Kw="data-"+Vf(O_);function A_(t,e,n,r){const{visualElement:i}=S.useContext(Ic),a=S.useContext(Ww),l=S.useContext(Oc),u=S.useContext(zw).reducedMotion,h=S.useRef();r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=h.current;S.useInsertionEffect(()=>{f&&f.update(n,l)});const m=S.useRef(!!(n[Kw]&&!window.HandoffComplete));return $f(()=>{f&&(f.render(),m.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(f.updateFeatures(),!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),f}function ni(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function N_(t,e,n){return S.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ni(n)&&(n.current=r))},[e])}function Ds(t){return typeof t=="string"||Array.isArray(t)}function Nc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const zf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wf=["initial",...zf];function Bc(t){return Nc(t.animate)||Wf.some(e=>Ds(t[e]))}function qw(t){return!!(Bc(t)||t.variants)}function B_(t,e){if(Bc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ds(n)?n:void 0,animate:Ds(r)?r:void 0}}return t.inherit!==!1?e:{}}function L_(t){const{initial:e,animate:n}=B_(t,S.useContext(Ic));return S.useMemo(()=>({initial:e,animate:n}),[m0(e),m0(n)])}function m0(t){return Array.isArray(t)?t.join(" "):t}const g0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fs={};for(const t in g0)Fs[t]={isEnabled:e=>g0[t].some(n=>!!e[n])};function M_(t){for(const e in t)Fs[e]={...Fs[e],...t[e]}}const Kf=S.createContext({}),Gw=S.createContext({}),R_=Symbol.for("motionComponentSymbol");function j_({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&M_(t);function a(u,h){let f;const m={...S.useContext(zw),...u,layoutId:D_(u)},{isStatic:g}=m,b=L_(u),E=r(u,g);if(!g&&Ac){b.visualElement=A_(i,E,m,e);const w=S.useContext(Gw),x=S.useContext(Ww).strict;b.visualElement&&(f=b.visualElement.loadFeatures(m,x,t,w))}return S.createElement(Ic.Provider,{value:b},f&&b.visualElement?S.createElement(f,{visualElement:b.visualElement,...m}):null,n(i,u,N_(E,b.visualElement,h),E,g,b.visualElement))}const l=S.forwardRef(a);return l[R_]=i,l}function D_({layoutId:t}){const e=S.useContext(Kf).id;return e&&t!==void 0?e+"-"+t:t}function F_(t){function e(r,i={}){return j_(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const U_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qf(t){return typeof t!="string"||t.includes("-")?!1:!!(U_.indexOf(t)>-1||/[A-Z]/.test(t))}const Ql={};function H_(t){Object.assign(Ql,t)}const Gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wo=new Set(Gs);function Yw(t,{layout:e,layoutId:n}){return wo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ql[t]||t==="opacity")}const Lt=t=>!!(t&&t.getVelocity),$_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V_=Gs.length;function z_(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let a="";for(let l=0;l<V_;l++){const u=Gs[l];if(t[u]!==void 0){const h=$_[u]||u;a+=`${h}(${t[u]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(t,r?"":a):n&&r&&(a="none"),a}const Xw=t=>e=>typeof e=="string"&&e.startsWith(t),Jw=Xw("--"),qh=Xw("var(--"),W_=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,K_=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Nr=(t,e,n)=>Math.min(Math.max(n,t),e),xo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ps={...xo,transform:t=>Nr(0,1,t)},xl={...xo,default:1},Is=t=>Math.round(t*1e5)/1e5,Lc=/(-)?([\d]*\.?[\d])+/g,Qw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,q_=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ys(t){return typeof t=="string"}const Xs=t=>({test:e=>Ys(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),br=Xs("deg"),bn=Xs("%"),pe=Xs("px"),G_=Xs("vh"),Y_=Xs("vw"),v0={...bn,parse:t=>bn.parse(t)/100,transform:t=>bn.transform(t*100)},y0={...xo,transform:Math.round},Zw={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,size:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,rotate:br,rotateX:br,rotateY:br,rotateZ:br,scale:xl,scaleX:xl,scaleY:xl,scaleZ:xl,skew:br,skewX:br,skewY:br,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Ps,originX:v0,originY:v0,originZ:pe,zIndex:y0,fillOpacity:Ps,strokeOpacity:Ps,numOctaves:y0};function Gf(t,e,n,r){const{style:i,vars:a,transform:l,transformOrigin:u}=t;let h=!1,f=!1,m=!0;for(const g in e){const b=e[g];if(Jw(g)){a[g]=b;continue}const E=Zw[g],w=K_(b,E);if(wo.has(g)){if(h=!0,l[g]=w,!m)continue;b!==(E.default||0)&&(m=!1)}else g.startsWith("origin")?(f=!0,u[g]=w):i[g]=w}if(e.transform||(h||r?i.transform=z_(t.transform,n,m,r):i.transform&&(i.transform="none")),f){const{originX:g="50%",originY:b="50%",originZ:E=0}=u;i.transformOrigin=`${g} ${b} ${E}`}}const Yf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ex(t,e,n){for(const r in e)!Lt(e[r])&&!Yw(r,n)&&(t[r]=e[r])}function X_({transformTemplate:t},e,n){return S.useMemo(()=>{const r=Yf();return Gf(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function J_(t,e,n){const r=t.style||{},i={};return ex(i,r,t),Object.assign(i,X_(t,e,n)),t.transformValues?t.transformValues(i):i}function Q_(t,e,n){const r={},i=J_(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Z_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Z_.has(t)}let tx=t=>!Zl(t);function eP(t){t&&(tx=e=>e.startsWith("on")?!Zl(e):t(e))}try{eP(require("@emotion/is-prop-valid").default)}catch{}function tP(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(tx(i)||n===!0&&Zl(i)||!e&&!Zl(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function b0(t,e,n){return typeof t=="string"?t:pe.transform(e+n*t)}function nP(t,e,n){const r=b0(e,t.x,t.width),i=b0(n,t.y,t.height);return`${r} ${i}`}const rP={offset:"stroke-dashoffset",array:"stroke-dasharray"},oP={offset:"strokeDashoffset",array:"strokeDasharray"};function iP(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?rP:oP;t[a.offset]=pe.transform(-r);const l=pe.transform(e),u=pe.transform(n);t[a.array]=`${l} ${u}`}function Xf(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...f},m,g,b){if(Gf(t,f,m,b),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:w,dimensions:x}=t;E.transform&&(x&&(w.transform=E.transform),delete E.transform),x&&(i!==void 0||a!==void 0||w.transform)&&(w.transformOrigin=nP(x,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),l!==void 0&&iP(E,l,u,h,!1)}const nx=()=>({...Yf(),attrs:{}}),Jf=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sP(t,e,n,r){const i=S.useMemo(()=>{const a=nx();return Xf(a,e,{enableHardwareAcceleration:!1},Jf(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};ex(a,t.style,t),i.style={...a,...i.style}}return i}function aP(t=!1){return(n,r,i,{latestValues:a},l)=>{const h=(qf(n)?sP:Q_)(r,a,l,n),m={...tP(r,typeof n=="string",t),...h,ref:i},{children:g}=r,b=S.useMemo(()=>Lt(g)?g.get():g,[g]);return S.createElement(n,{...m,children:b})}}function rx(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const ox=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ix(t,e,n,r){rx(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(ox.has(i)?i:Vf(i),e.attrs[i])}function Qf(t,e){const{style:n}=t,r={};for(const i in n)(Lt(n[i])||e.style&&Lt(e.style[i])||Yw(i,t))&&(r[i]=n[i]);return r}function sx(t,e){const n=Qf(t,e);for(const r in t)if(Lt(t[r])||Lt(e[r])){const i=Gs.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Zf(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function ax(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const ec=t=>Array.isArray(t),lP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),cP=t=>ec(t)?t[t.length-1]||0:t;function Al(t){const e=Lt(t)?t.get():t;return lP(e)?e.toValue():e}function uP({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,a){const l={latestValues:dP(r,i,a,t),renderState:e()};return n&&(l.mount=u=>n(r,u,l)),l}const lx=t=>(e,n)=>{const r=S.useContext(Ic),i=S.useContext(Oc),a=()=>uP(t,e,r,i);return n?a():ax(a)};function dP(t,e,n,r){const i={},a=r(t,{});for(const b in a)i[b]=Al(a[b]);let{initial:l,animate:u}=t;const h=Bc(t),f=qw(t);e&&f&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?u:l;return g&&typeof g!="boolean"&&!Nc(g)&&(Array.isArray(g)?g:[g]).forEach(E=>{const w=Zf(t,E);if(!w)return;const{transitionEnd:x,transition:C,...I}=w;for(const _ in I){let T=I[_];if(Array.isArray(T)){const A=m?T.length-1:0;T=T[A]}T!==null&&(i[_]=T)}for(const _ in x)i[_]=x[_]}),i}const Qe=t=>t;class w0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function hP(t){let e=new w0,n=new w0,r=0,i=!1,a=!1;const l=new WeakSet,u={schedule:(h,f=!1,m=!1)=>{const g=m&&i,b=g?e:n;return f&&l.add(h),b.add(h)&&g&&i&&(r=e.order.length),h},cancel:h=>{n.remove(h),l.delete(h)},process:h=>{if(i){a=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let f=0;f<r;f++){const m=e.order[f];m(h),l.has(m)&&(u.schedule(m),t())}i=!1,a&&(a=!1,u.process(h))}};return u}const kl=["prepare","read","update","preRender","render","postRender"],fP=40;function pP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=kl.reduce((g,b)=>(g[b]=hP(()=>n=!0),g),{}),l=g=>a[g].process(i),u=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,fP),1),i.timestamp=g,i.isProcessing=!0,kl.forEach(l),i.isProcessing=!1,n&&e&&(r=!1,t(u))},h=()=>{n=!0,r=!0,i.isProcessing||t(u)};return{schedule:kl.reduce((g,b)=>{const E=a[b];return g[b]=(w,x=!1,C=!1)=>(n||h(),E.schedule(w,x,C)),g},{}),cancel:g=>kl.forEach(b=>a[b].cancel(g)),state:i,steps:a}}const{schedule:je,cancel:Kn,state:vt,steps:dh}=pP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qe,!0),mP={useVisualState:lx({scrapeMotionValuesFromProps:sx,createRenderState:nx,onMount:(t,e,{renderState:n,latestValues:r})=>{je.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),je.render(()=>{Xf(n,r,{enableHardwareAcceleration:!1},Jf(e.tagName),t.transformTemplate),ix(e,n)})}})},gP={useVisualState:lx({scrapeMotionValuesFromProps:Qf,createRenderState:Yf})};function vP(t,{forwardMotionProps:e=!1},n,r){return{...qf(t)?mP:gP,preloadedFeatures:n,useRender:aP(e),createVisualElement:r,Component:t}}function Dn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const cx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Mc(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const yP=t=>e=>cx(e)&&t(e,Mc(e));function zn(t,e,n,r){return Dn(t,e,yP(n),r)}const bP=(t,e)=>n=>e(t(n)),Ir=(...t)=>t.reduce(bP);function ux(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const x0=ux("dragHorizontal"),k0=ux("dragVertical");function dx(t){let e=!1;if(t==="y")e=k0();else if(t==="x")e=x0();else{const n=x0(),r=k0();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function hx(){const t=dx(!0);return t?(t(),!1):!0}class Rr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function E0(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(a,l)=>{if(a.pointerType==="touch"||hx())return;const u=t.getProps();t.animationState&&u.whileHover&&t.animationState.setActive("whileHover",e),u[r]&&je.update(()=>u[r](a,l))};return zn(t.current,n,i,{passive:!t.getProps()[r]})}class wP extends Rr{mount(){this.unmount=Ir(E0(this.node,!0),E0(this.node,!1))}unmount(){}}class xP extends Rr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ir(Dn(this.node.current,"focus",()=>this.onFocus()),Dn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fx=(t,e)=>e?t===e?!0:fx(t,e.parentElement):!1;function hh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Mc(n))}class kP extends Rr{constructor(){super(...arguments),this.removeStartListeners=Qe,this.removeEndListeners=Qe,this.removeAccessibleListeners=Qe,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=zn(window,"pointerup",(u,h)=>{if(!this.checkPressEnd())return;const{onTap:f,onTapCancel:m,globalTapTarget:g}=this.node.getProps();je.update(()=>{!g&&!fx(this.node.current,u.target)?m&&m(u,h):f&&f(u,h)})},{passive:!(r.onTap||r.onPointerUp)}),l=zn(window,"pointercancel",(u,h)=>this.cancelPress(u,h),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ir(a,l),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=u=>{u.key!=="Enter"||!this.checkPressEnd()||hh("up",(h,f)=>{const{onTap:m}=this.node.getProps();m&&je.update(()=>m(h,f))})};this.removeEndListeners(),this.removeEndListeners=Dn(this.node.current,"keyup",l),hh("down",(u,h)=>{this.startPress(u,h)})},n=Dn(this.node.current,"keydown",e),r=()=>{this.isPressing&&hh("cancel",(a,l)=>this.cancelPress(a,l))},i=Dn(this.node.current,"blur",r);this.removeAccessibleListeners=Ir(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&je.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hx()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&je.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=zn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Dn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ir(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Gh=new WeakMap,fh=new WeakMap,EP=t=>{const e=Gh.get(t.target);e&&e(t)},CP=t=>{t.forEach(EP)};function SP({root:t,...e}){const n=t||document;fh.has(n)||fh.set(n,{});const r=fh.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(CP,{root:t,...e})),r[i]}function TP(t,e,n){const r=SP(e);return Gh.set(t,n),r.observe(t),()=>{Gh.delete(t),r.unobserve(t)}}const _P={some:0,all:1};class PP extends Rr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:_P[i]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),b=f?m:g;b&&b(h)};return TP(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(IP(e,n))&&this.startObserver()}unmount(){}}function IP({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const OP={inView:{Feature:PP},tap:{Feature:kP},focus:{Feature:xP},hover:{Feature:wP}};function px(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function AP(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function NP(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Rc(t,e,n){const r=t.getProps();return Zf(r,e,n!==void 0?n:r.custom,AP(t),NP(t))}let ep=Qe;const uo=t=>t*1e3,Wn=t=>t/1e3,BP={current:!1},mx=t=>Array.isArray(t)&&typeof t[0]=="number";function gx(t){return!!(!t||typeof t=="string"&&vx[t]||mx(t)||Array.isArray(t)&&t.every(gx))}const Cs=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cs([0,.65,.55,1]),circOut:Cs([.55,0,1,.45]),backIn:Cs([.31,.01,.66,-.59]),backOut:Cs([.33,1.53,.69,.99])};function yx(t){if(t)return mx(t)?Cs(t):Array.isArray(t)?t.map(yx):vx[t]}function LP(t,e,n,{delay:r=0,duration:i,repeat:a=0,repeatType:l="loop",ease:u,times:h}={}){const f={[e]:n};h&&(f.offset=h);const m=yx(u);return Array.isArray(m)&&(f.easing=m),t.animate(f,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function MP(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const bx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,RP=1e-7,jP=12;function DP(t,e,n,r,i){let a,l,u=0;do l=e+(n-e)/2,a=bx(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>RP&&++u<jP);return l}function Js(t,e,n,r){if(t===e&&n===r)return Qe;const i=a=>DP(a,0,1,t,n);return a=>a===0||a===1?a:bx(i(a),e,r)}const FP=Js(.42,0,1,1),UP=Js(0,0,.58,1),wx=Js(.42,0,.58,1),HP=t=>Array.isArray(t)&&typeof t[0]!="number",xx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kx=t=>e=>1-t(1-e),tp=t=>1-Math.sin(Math.acos(t)),Ex=kx(tp),$P=xx(tp),Cx=Js(.33,1.53,.69,.99),np=kx(Cx),VP=xx(np),zP=t=>(t*=2)<1?.5*np(t):.5*(2-Math.pow(2,-10*(t-1))),WP={linear:Qe,easeIn:FP,easeInOut:wx,easeOut:UP,circIn:tp,circInOut:$P,circOut:Ex,backIn:np,backInOut:VP,backOut:Cx,anticipate:zP},C0=t=>{if(Array.isArray(t)){ep(t.length===4);const[e,n,r,i]=t;return Js(e,n,r,i)}else if(typeof t=="string")return WP[t];return t},rp=(t,e)=>n=>!!(Ys(n)&&q_.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Sx=(t,e,n)=>r=>{if(!Ys(r))return r;const[i,a,l,u]=r.match(Lc);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},KP=t=>Nr(0,255,t),ph={...xo,transform:t=>Math.round(KP(t))},io={test:rp("rgb","red"),parse:Sx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ph.transform(t)+", "+ph.transform(e)+", "+ph.transform(n)+", "+Is(Ps.transform(r))+")"};function qP(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Yh={test:rp("#"),parse:qP,transform:io.transform},ri={test:rp("hsl","hue"),parse:Sx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+bn.transform(Is(e))+", "+bn.transform(Is(n))+", "+Is(Ps.transform(r))+")"},Et={test:t=>io.test(t)||Yh.test(t)||ri.test(t),parse:t=>io.test(t)?io.parse(t):ri.test(t)?ri.parse(t):Yh.parse(t),transform:t=>Ys(t)?t:t.hasOwnProperty("red")?io.transform(t):ri.transform(t)},ze=(t,e,n)=>-n*t+n*e+t;function mh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;i=mh(h,u,t+1/3),a=mh(h,u,t),l=mh(h,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const gh=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},YP=[Yh,io,ri],XP=t=>YP.find(e=>e.test(t));function S0(t){const e=XP(t);let n=e.parse(t);return e===ri&&(n=GP(n)),n}const Tx=(t,e)=>{const n=S0(t),r=S0(e),i={...n};return a=>(i.red=gh(n.red,r.red,a),i.green=gh(n.green,r.green,a),i.blue=gh(n.blue,r.blue,a),i.alpha=ze(n.alpha,r.alpha,a),io.transform(i))};function JP(t){var e,n;return isNaN(t)&&Ys(t)&&(((e=t.match(Lc))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Qw))===null||n===void 0?void 0:n.length)||0)>0}const _x={regex:W_,countKey:"Vars",token:"${v}",parse:Qe},Px={regex:Qw,countKey:"Colors",token:"${c}",parse:Et.parse},Ix={regex:Lc,countKey:"Numbers",token:"${n}",parse:xo.parse};function vh(t,{regex:e,countKey:n,token:r,parse:i}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...a.map(i)))}function tc(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&vh(n,_x),vh(n,Px),vh(n,Ix),n}function Ox(t){return tc(t).values}function Ax(t){const{values:e,numColors:n,numVars:r,tokenised:i}=tc(t),a=e.length;return l=>{let u=i;for(let h=0;h<a;h++)h<r?u=u.replace(_x.token,l[h]):h<r+n?u=u.replace(Px.token,Et.transform(l[h])):u=u.replace(Ix.token,Is(l[h]));return u}}const QP=t=>typeof t=="number"?0:t;function ZP(t){const e=Ox(t);return Ax(t)(e.map(QP))}const Br={test:JP,parse:Ox,createTransformer:Ax,getAnimatableNone:ZP},Nx=(t,e)=>n=>`${n>0?e:t}`;function Bx(t,e){return typeof t=="number"?n=>ze(t,e,n):Et.test(t)?Tx(t,e):t.startsWith("var(")?Nx(t,e):Mx(t,e)}const Lx=(t,e)=>{const n=[...t],r=n.length,i=t.map((a,l)=>Bx(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}},eI=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Bx(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},Mx=(t,e)=>{const n=Br.createTransformer(e),r=tc(t),i=tc(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ir(Lx(r.values,i.values),n):Nx(t,e)},Us=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},T0=(t,e)=>n=>ze(t,e,n);function tI(t){return typeof t=="number"?T0:typeof t=="string"?Et.test(t)?Tx:Mx:Array.isArray(t)?Lx:typeof t=="object"?eI:T0}function nI(t,e,n){const r=[],i=n||tI(t[0]),a=t.length-1;for(let l=0;l<a;l++){let u=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Qe:e;u=Ir(h,u)}r.push(u)}return r}function Rx(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(ep(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=nI(e,r,i),u=l.length,h=f=>{let m=0;if(u>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const g=Us(t[m],t[m+1],f);return l[m](g)};return n?f=>h(Nr(t[0],t[a-1],f)):h}function rI(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Us(0,e,r);t.push(ze(n,1,i))}}function oI(t){const e=[0];return rI(e,t.length-1),e}function iI(t,e){return t.map(n=>n*e)}function sI(t,e){return t.map(()=>e||wx).splice(0,t.length-1)}function nc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=HP(r)?r.map(C0):C0(r),a={done:!1,value:e[0]},l=iI(n&&n.length===e.length?n:oI(e),t),u=Rx(l,e,{ease:Array.isArray(i)?i:sI(e,i)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}function jx(t,e){return e?t*(1e3/e):0}const aI=5;function Dx(t,e,n){const r=Math.max(e-aI,0);return jx(n-t(r),e-r)}const _0=.001,lI=.01,cI=10,uI=.05,dI=1;function hI({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,a,l=1-e;l=Nr(uI,dI,l),t=Nr(lI,cI,Wn(t)),l<1?(i=f=>{const m=f*l,g=m*t,b=m-n,E=Xh(f,l),w=Math.exp(-g);return _0-b/E*w},a=f=>{const g=f*l*t,b=g*n+n,E=Math.pow(l,2)*Math.pow(f,2)*t,w=Math.exp(-g),x=Xh(Math.pow(f,2),l);return(-i(f)+_0>0?-1:1)*((b-E)*w)/x}):(i=f=>{const m=Math.exp(-f*t),g=(f-n)*t+1;return-.001+m*g},a=f=>{const m=Math.exp(-f*t),g=(n-f)*(t*t);return m*g});const u=5/t,h=pI(i,a,u);if(t=uo(t),isNaN(h))return{stiffness:100,damping:10,duration:t};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const fI=12;function pI(t,e,n){let r=n;for(let i=1;i<fI;i++)r=r-t(r)/e(r);return r}function Xh(t,e){return t*Math.sqrt(1-e*e)}const mI=["duration","bounce"],gI=["stiffness","damping","mass"];function P0(t,e){return e.some(n=>t[n]!==void 0)}function vI(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!P0(t,gI)&&P0(t,mI)){const n=hI(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Fx({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],a=t[t.length-1],l={done:!1,value:i},{stiffness:u,damping:h,mass:f,duration:m,velocity:g,isResolvedFromDuration:b}=vI({...r,velocity:-Wn(r.velocity||0)}),E=g||0,w=h/(2*Math.sqrt(u*f)),x=a-i,C=Wn(Math.sqrt(u/f)),I=Math.abs(x)<5;n||(n=I?.01:2),e||(e=I?.005:.5);let _;if(w<1){const T=Xh(C,w);_=A=>{const L=Math.exp(-w*C*A);return a-L*((E+w*C*x)/T*Math.sin(T*A)+x*Math.cos(T*A))}}else if(w===1)_=T=>a-Math.exp(-C*T)*(x+(E+C*x)*T);else{const T=C*Math.sqrt(w*w-1);_=A=>{const L=Math.exp(-w*C*A),F=Math.min(T*A,300);return a-L*((E+w*C*x)*Math.sinh(F)+T*x*Math.cosh(F))/T}}return{calculatedDuration:b&&m||null,next:T=>{const A=_(T);if(b)l.done=T>=m;else{let L=E;T!==0&&(w<1?L=Dx(_,T,A):L=0);const F=Math.abs(L)<=n,W=Math.abs(a-A)<=e;l.done=F&&W}return l.value=l.done?a:A,l}}}function I0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:m}){const g=t[0],b={done:!1,value:g},E=R=>u!==void 0&&R<u||h!==void 0&&R>h,w=R=>u===void 0?h:h===void 0||Math.abs(u-R)<Math.abs(h-R)?u:h;let x=n*e;const C=g+x,I=l===void 0?C:l(C);I!==C&&(x=I-g);const _=R=>-x*Math.exp(-R/r),T=R=>I+_(R),A=R=>{const H=_(R),G=T(R);b.done=Math.abs(H)<=f,b.value=b.done?I:G};let L,F;const W=R=>{E(b.value)&&(L=R,F=Fx({keyframes:[b.value,w(b.value)],velocity:Dx(T,R,b.value),damping:i,stiffness:a,restDelta:f,restSpeed:m}))};return W(0),{calculatedDuration:null,next:R=>{let H=!1;return!F&&L===void 0&&(H=!0,A(R),W(R)),L!==void 0&&R>L?F.next(R-L):(!H&&A(R),b)}}}const yI=t=>{const e=({timestamp:n})=>t(n);return{start:()=>je.update(e,!0),stop:()=>Kn(e),now:()=>vt.isProcessing?vt.timestamp:performance.now()}},O0=2e4;function A0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<O0;)e+=n,r=t.next(e);return e>=O0?1/0:e}const bI={decay:I0,inertia:I0,tween:nc,keyframes:nc,spring:Fx};function rc({autoplay:t=!0,delay:e=0,driver:n=yI,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",onPlay:h,onStop:f,onComplete:m,onUpdate:g,...b}){let E=1,w=!1,x,C;const I=()=>{C=new Promise(N=>{x=N})};I();let _;const T=bI[i]||nc;let A;T!==nc&&typeof r[0]!="number"&&(A=Rx([0,100],r,{clamp:!1}),r=[0,100]);const L=T({...b,keyframes:r});let F;u==="mirror"&&(F=T({...b,keyframes:[...r].reverse(),velocity:-(b.velocity||0)}));let W="idle",R=null,H=null,G=null;L.calculatedDuration===null&&a&&(L.calculatedDuration=A0(L));const{calculatedDuration:ae}=L;let oe=1/0,J=1/0;ae!==null&&(oe=ae+l,J=oe*(a+1)-l);let re=0;const ee=N=>{if(H===null)return;E>0&&(H=Math.min(H,N)),E<0&&(H=Math.min(N-J/E,H)),R!==null?re=R:re=Math.round(N-H)*E;const V=re-e*(E>=0?1:-1),be=E>=0?V<0:V>J;re=Math.max(V,0),W==="finished"&&R===null&&(re=J);let xe=re,Se=L;if(a){const Le=Math.min(re,J)/oe;let it=Math.floor(Le),Vt=Le%1;!Vt&&Le>=1&&(Vt=1),Vt===1&&it--,it=Math.min(it,a+1),!!(it%2)&&(u==="reverse"?(Vt=1-Vt,l&&(Vt-=l/oe)):u==="mirror"&&(Se=F)),xe=Nr(0,1,Vt)*oe}const Ee=be?{done:!1,value:r[0]}:Se.next(xe);A&&(Ee.value=A(Ee.value));let{done:Ae}=Ee;!be&&ae!==null&&(Ae=E>=0?re>=J:re<=0);const Ie=R===null&&(W==="finished"||W==="running"&&Ae);return g&&g(Ee.value),Ie&&X(),Ee},ue=()=>{_&&_.stop(),_=void 0},ke=()=>{W="idle",ue(),x(),I(),H=G=null},X=()=>{W="finished",m&&m(),ue(),x()},se=()=>{if(w)return;_||(_=n(ee));const N=_.now();h&&h(),R!==null?H=N-R:(!H||W==="finished")&&(H=N),W==="finished"&&I(),G=H,R=null,W="running",_.start()};t&&se();const Q={then(N,V){return C.then(N,V)},get time(){return Wn(re)},set time(N){N=uo(N),re=N,R!==null||!_||E===0?R=N:H=_.now()-N/E},get duration(){const N=L.calculatedDuration===null?A0(L):L.calculatedDuration;return Wn(N)},get speed(){return E},set speed(N){N===E||!_||(E=N,Q.time=Wn(re))},get state(){return W},play:se,pause:()=>{W="paused",R=re},stop:()=>{w=!0,W!=="idle"&&(W="idle",f&&f(),ke())},cancel:()=>{G!==null&&ee(G),ke()},complete:()=>{W="finished"},sample:N=>(H=0,ee(N))};return Q}function wI(t){let e;return()=>(e===void 0&&(e=t()),e)}const xI=wI(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),kI=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),El=10,EI=2e4,CI=(t,e)=>e.type==="spring"||t==="backgroundColor"||!gx(e.ease);function SI(t,e,{onUpdate:n,onComplete:r,...i}){if(!(xI()&&kI.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let l=!1,u,h,f=!1;const m=()=>{h=new Promise(T=>{u=T})};m();let{keyframes:g,duration:b=300,ease:E,times:w}=i;if(CI(e,i)){const T=rc({...i,repeat:0,delay:0});let A={done:!1,value:g[0]};const L=[];let F=0;for(;!A.done&&F<EI;)A=T.sample(F),L.push(A.value),F+=El;w=void 0,g=L,b=F-El,E="linear"}const x=LP(t.owner.current,e,g,{...i,duration:b,ease:E,times:w}),C=()=>{f=!1,x.cancel()},I=()=>{f=!0,je.update(C),u(),m()};return x.onfinish=()=>{f||(t.set(MP(g,i)),r&&r(),I())},{then(T,A){return h.then(T,A)},attachTimeline(T){return x.timeline=T,x.onfinish=null,Qe},get time(){return Wn(x.currentTime||0)},set time(T){x.currentTime=uo(T)},get speed(){return x.playbackRate},set speed(T){x.playbackRate=T},get duration(){return Wn(b)},play:()=>{l||(x.play(),Kn(C))},pause:()=>x.pause(),stop:()=>{if(l=!0,x.playState==="idle")return;const{currentTime:T}=x;if(T){const A=rc({...i,autoplay:!1});t.setWithVelocity(A.sample(T-El).value,A.sample(T).value,El)}I()},complete:()=>{f||x.finish()},cancel:I}}function TI({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Qe,pause:Qe,stop:Qe,then:a=>(a(),Promise.resolve()),cancel:Qe,complete:Qe});return e?rc({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const _I={type:"spring",stiffness:500,damping:25,restSpeed:10},PI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),II={type:"keyframes",duration:.8},OI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AI=(t,{keyframes:e})=>e.length>2?II:wo.has(t)?t.startsWith("scale")?PI(e[1]):_I:OI,Jh=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Br.test(e)||e==="0")&&!e.startsWith("url(")),NI=new Set(["brightness","contrast","saturate","opacity"]);function BI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Lc)||[];if(!r)return t;const i=n.replace(r,"");let a=NI.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const LI=/([a-z-]*)\(.*?\)/g,Qh={...Br,getAnimatableNone:t=>{const e=t.match(LI);return e?e.map(BI).join(" "):t}},MI={...Zw,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:Qh,WebkitFilter:Qh},op=t=>MI[t];function Ux(t,e){let n=op(t);return n!==Qh&&(n=Br),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Hx=t=>/^0[^.\s]+$/.test(t);function RI(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Hx(t)}function jI(t,e,n,r){const i=Jh(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const l=r.from!==void 0?r.from:t.get();let u;const h=[];for(let f=0;f<a.length;f++)a[f]===null&&(a[f]=f===0?l:a[f-1]),RI(a[f])&&h.push(f),typeof a[f]=="string"&&a[f]!=="none"&&a[f]!=="0"&&(u=a[f]);if(i&&h.length&&u)for(let f=0;f<h.length;f++){const m=h[f];a[m]=Ux(e,u)}return a}function DI({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:f,...m}){return!!Object.keys(m).length}function ip(t,e){return t[e]||t.default||t}const FI={skipAnimations:!1},sp=(t,e,n,r={})=>i=>{const a=ip(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-uo(l);const h=jI(e,t,n,a),f=h[0],m=h[h.length-1],g=Jh(t,f),b=Jh(t,m);let E={keyframes:h,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-u,onUpdate:w=>{e.set(w),a.onUpdate&&a.onUpdate(w)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(DI(a)||(E={...E,...AI(t,E)}),E.duration&&(E.duration=uo(E.duration)),E.repeatDelay&&(E.repeatDelay=uo(E.repeatDelay)),!g||!b||BP.current||a.type===!1||FI.skipAnimations)return TI(E);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=SI(e,t,E);if(w)return w}return rc(E)};function oc(t){return!!(Lt(t)&&t.add)}const $x=t=>/^\-?\d*\.?\d+$/.test(t);function ap(t,e){t.indexOf(e)===-1&&t.push(e)}function lp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class cp{constructor(){this.subscriptions=[]}add(e){return ap(this.subscriptions,e),()=>lp(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const UI=t=>!isNaN(parseFloat(t));class HI{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:l}=vt;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,je.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>je.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=UI(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cp);const r=this.events[e].add(n);return e==="change"?()=>{r(),je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?jx(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pi(t,e){return new HI(t,e)}const Vx=t=>e=>e.test(t),$I={test:t=>t==="auto",parse:t=>t},zx=[xo,pe,bn,br,Y_,G_,$I],ys=t=>zx.find(Vx(t)),VI=[...zx,Et,Br],zI=t=>VI.find(Vx(t));function WI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,pi(n))}function KI(t,e){const n=Rc(t,e);let{transitionEnd:r={},transition:i={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const l in a){const u=cP(a[l]);WI(t,l,u)}}function qI(t,e,n){var r,i;const a=Object.keys(e).filter(u=>!t.hasValue(u)),l=a.length;if(l)for(let u=0;u<l;u++){const h=a[u],f=e[h];let m=null;Array.isArray(f)&&(m=f[0]),m===null&&(m=(i=(r=n[h])!==null&&r!==void 0?r:t.readValue(h))!==null&&i!==void 0?i:e[h]),m!=null&&(typeof m=="string"&&($x(m)||Hx(m))?m=parseFloat(m):!zI(m)&&Br.test(f)&&(m=Ux(h,f)),t.addValue(h,pi(m,{owner:t})),n[h]===void 0&&(n[h]=m),m!==null&&t.setBaseTarget(h,m))}}function GI(t,e){return e?(e[t]||e.default||e).from:void 0}function YI(t,e,n){const r={};for(const i in t){const a=GI(i,e);if(a!==void 0)r[i]=a;else{const l=n.getValue(i);l&&(r[i]=l.get())}}return r}function XI({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function JI(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function Wx(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=t.makeTargetAnimatable(e);const h=t.getValue("willChange");r&&(a=r);const f=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const g in u){const b=t.getValue(g),E=u[g];if(!b||E===void 0||m&&XI(m,g))continue;const w={delay:n,elapsed:0,...ip(a||{},g)};if(window.HandoffAppearAnimations){const I=t.getProps()[Kw];if(I){const _=window.HandoffAppearAnimations(I,g,b,je);_!==null&&(w.elapsed=_,w.isHandoff=!0)}}let x=!w.isHandoff&&!JI(b,E);if(w.type==="spring"&&(b.getVelocity()||w.velocity)&&(x=!1),b.animation&&(x=!1),x)continue;b.start(sp(g,b,E,t.shouldReduceMotion&&wo.has(g)?{type:!1}:w));const C=b.animation;oc(h)&&(h.add(g),C.then(()=>h.remove(g))),f.push(C)}return l&&Promise.all(f).then(()=>{l&&KI(t,l)}),f}function Zh(t,e,n={}){const r=Rc(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(Wx(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:g}=i;return QI(t,e,f+h,m,g,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[h,f]=u==="beforeChildren"?[a,l]:[l,a];return h().then(()=>f())}else return Promise.all([a(),l(n.delay)])}function QI(t,e,n=0,r=0,i=1,a){const l=[],u=(t.variantChildren.size-1)*r,h=i===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(t.variantChildren).sort(ZI).forEach((f,m)=>{f.notify("AnimationStart",e),l.push(Zh(f,e,{...a,delay:n+h(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function ZI(t,e){return t.sortNodePosition(e)}function e2(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Zh(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Zh(t,e,n);else{const i=typeof e=="function"?Rc(t,e,n.custom):e;r=Promise.all(Wx(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const t2=[...zf].reverse(),n2=zf.length;function r2(t){return e=>Promise.all(e.map(({animation:n,options:r})=>e2(t,n,r)))}function o2(t){let e=r2(t);const n=s2();let r=!0;const i=(h,f)=>{const m=Rc(t,f);if(m){const{transition:g,transitionEnd:b,...E}=m;h={...h,...E,...b}}return h};function a(h){e=h(t)}function l(h,f){const m=t.getProps(),g=t.getVariantContext(!0)||{},b=[],E=new Set;let w={},x=1/0;for(let I=0;I<n2;I++){const _=t2[I],T=n[_],A=m[_]!==void 0?m[_]:g[_],L=Ds(A),F=_===f?T.isActive:null;F===!1&&(x=I);let W=A===g[_]&&A!==m[_]&&L;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),T.protectedKeys={...w},!T.isActive&&F===null||!A&&!T.prevProp||Nc(A)||typeof A=="boolean")continue;let H=i2(T.prevProp,A)||_===f&&T.isActive&&!W&&L||I>x&&L,G=!1;const ae=Array.isArray(A)?A:[A];let oe=ae.reduce(i,{});F===!1&&(oe={});const{prevResolvedValues:J={}}=T,re={...J,...oe},ee=ue=>{H=!0,E.has(ue)&&(G=!0,E.delete(ue)),T.needsAnimating[ue]=!0};for(const ue in re){const ke=oe[ue],X=J[ue];if(w.hasOwnProperty(ue))continue;let se=!1;ec(ke)&&ec(X)?se=!px(ke,X):se=ke!==X,se?ke!==void 0?ee(ue):E.add(ue):ke!==void 0&&E.has(ue)?ee(ue):T.protectedKeys[ue]=!0}T.prevProp=A,T.prevResolvedValues=oe,T.isActive&&(w={...w,...oe}),r&&t.blockInitialAnimation&&(H=!1),H&&(!W||G)&&b.push(...ae.map(ue=>({animation:ue,options:{type:_,...h}})))}if(E.size){const I={};E.forEach(_=>{const T=t.getBaseTarget(_);T!==void 0&&(I[_]=T)}),b.push({animation:I})}let C=!!b.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(b):Promise.resolve()}function u(h,f,m){var g;if(n[h].isActive===f)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(E=>{var w;return(w=E.animationState)===null||w===void 0?void 0:w.setActive(h,f)}),n[h].isActive=f;const b=l(m,h);for(const E in n)n[E].protectedKeys={};return b}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n}}function i2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!px(e,t):!1}function Zr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function s2(){return{animate:Zr(!0),whileInView:Zr(),whileHover:Zr(),whileTap:Zr(),whileDrag:Zr(),whileFocus:Zr(),exit:Zr()}}class a2 extends Rr{constructor(e){super(e),e.animationState||(e.animationState=o2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Nc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let l2=0;class c2 extends Rr{constructor(){super(...arguments),this.id=l2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const u2={animation:{Feature:a2},exit:{Feature:c2}},N0=(t,e)=>Math.abs(t-e);function d2(t,e){const n=N0(t.x,e.x),r=N0(t.y,e.y);return Math.sqrt(n**2+r**2)}class Kx{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=bh(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,E=d2(g.offset,{x:0,y:0})>=3;if(!b&&!E)return;const{point:w}=g,{timestamp:x}=vt;this.history.push({...w,timestamp:x});const{onStart:C,onMove:I}=this.handlers;b||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=yh(b,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:E,onSessionEnd:w,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=bh(g.type==="pointercancel"?this.lastMoveEventInfo:yh(b,this.transformPagePoint),this.history);this.startEvent&&E&&E(g,C),w&&w(g,C)},!cx(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Mc(e),u=yh(l,this.transformPagePoint),{point:h}=u,{timestamp:f}=vt;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,bh(u,this.history)),this.removeListeners=Ir(zn(this.contextWindow,"pointermove",this.handlePointerMove),zn(this.contextWindow,"pointerup",this.handlePointerUp),zn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Kn(this.updatePoint)}}function yh(t,e){return e?{point:e(t.point)}:t}function B0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bh({point:t},e){return{point:t,delta:B0(t,qx(e)),offset:B0(t,h2(e)),velocity:f2(e,.1)}}function h2(t){return t[0]}function qx(t){return t[t.length-1]}function f2(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=qx(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>uo(e)));)n--;if(!r)return{x:0,y:0};const a=Wn(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function $t(t){return t.max-t.min}function ef(t,e=0,n=.01){return Math.abs(t-e)<=n}function L0(t,e,n,r=.5){t.origin=r,t.originPoint=ze(e.min,e.max,t.origin),t.scale=$t(n)/$t(e),(ef(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ze(n.min,n.max,t.origin)-t.originPoint,(ef(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Os(t,e,n,r){L0(t.x,e.x,n.x,r?r.originX:void 0),L0(t.y,e.y,n.y,r?r.originY:void 0)}function M0(t,e,n){t.min=n.min+e.min,t.max=t.min+$t(e)}function p2(t,e,n){M0(t.x,e.x,n.x),M0(t.y,e.y,n.y)}function R0(t,e,n){t.min=e.min-n.min,t.max=t.min+$t(e)}function As(t,e,n){R0(t.x,e.x,n.x),R0(t.y,e.y,n.y)}function m2(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ze(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ze(n,t,r.max):Math.min(t,n)),t}function j0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function g2(t,{top:e,left:n,bottom:r,right:i}){return{x:j0(t.x,n,i),y:j0(t.y,e,r)}}function D0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function v2(t,e){return{x:D0(t.x,e.x),y:D0(t.y,e.y)}}function y2(t,e){let n=.5;const r=$t(t),i=$t(e);return i>r?n=Us(e.min,e.max-r,t.min):r>i&&(n=Us(t.min,t.max-i,e.min)),Nr(0,1,n)}function b2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const tf=.35;function w2(t=tf){return t===!1?t=0:t===!0&&(t=tf),{x:F0(t,"left","right"),y:F0(t,"top","bottom")}}function F0(t,e,n){return{min:U0(t,e),max:U0(t,n)}}function U0(t,e){return typeof t=="number"?t:t[e]||0}const H0=()=>({translate:0,scale:1,origin:0,originPoint:0}),oi=()=>({x:H0(),y:H0()}),$0=()=>({min:0,max:0}),et=()=>({x:$0(),y:$0()});function Jt(t){return[t("x"),t("y")]}function Gx({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function x2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function k2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wh(t){return t===void 0||t===1}function nf({scale:t,scaleX:e,scaleY:n}){return!wh(t)||!wh(e)||!wh(n)}function eo(t){return nf(t)||Yx(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Yx(t){return V0(t.x)||V0(t.y)}function V0(t){return t&&t!=="0%"}function ic(t,e,n){const r=t-n,i=e*r;return n+i}function z0(t,e,n,r,i){return i!==void 0&&(t=ic(t,i,r)),ic(t,n,r)+e}function rf(t,e=0,n=1,r,i){t.min=z0(t.min,e,n,r,i),t.max=z0(t.max,e,n,r,i)}function Xx(t,{x:e,y:n}){rf(t.x,e.translate,e.scale,e.originPoint),rf(t.y,n.translate,n.scale,n.originPoint)}function E2(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let u=0;u<i;u++){a=n[u],l=a.projectionDelta;const h=a.instance;h&&h.style&&h.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ii(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Xx(t,l)),r&&eo(a.latestValues)&&ii(t,a.latestValues))}e.x=W0(e.x),e.y=W0(e.y)}function W0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function kr(t,e){t.min=t.min+e,t.max=t.max+e}function K0(t,e,[n,r,i]){const a=e[i]!==void 0?e[i]:.5,l=ze(t.min,t.max,a);rf(t,e[n],e[r],l,e.scale)}const C2=["x","scaleX","originX"],S2=["y","scaleY","originY"];function ii(t,e){K0(t.x,e,C2),K0(t.y,e,S2)}function Jx(t,e){return Gx(k2(t.getBoundingClientRect(),e))}function T2(t,e,n){const r=Jx(t,n),{scroll:i}=e;return i&&(kr(r.x,i.offset.x),kr(r.y,i.offset.y)),r}const Qx=({current:t})=>t?t.ownerDocument.defaultView:null,_2=new WeakMap;class P2{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mc(m,"page").point)},a=(m,g)=>{const{drag:b,dragPropagation:E,onDragStart:w}=this.getProps();if(b&&!E&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dx(b),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jt(C=>{let I=this.getAxisMotionValue(C).get()||0;if(bn.test(I)){const{projection:_}=this.visualElement;if(_&&_.layout){const T=_.layout.layoutBox[C];T&&(I=$t(T)*(parseFloat(I)/100))}}this.originPoint[C]=I}),w&&je.update(()=>w(m,g),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(m,g)=>{const{dragPropagation:b,dragDirectionLock:E,onDirectionLock:w,onDrag:x}=this.getProps();if(!b&&!this.openGlobalLock)return;const{offset:C}=g;if(E&&this.currentDirection===null){this.currentDirection=I2(C),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,C),this.updateAxis("y",g.point,C),this.visualElement.render(),x&&x(m,g)},u=(m,g)=>this.stop(m,g),h=()=>Jt(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Kx(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:Qx(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&je.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Cl(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=m2(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&ni(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=g2(i.layoutBox,n):this.constraints=!1,this.elastic=w2(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Jt(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=b2(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ni(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=T2(r,i.root,this.visualElement.getTransformPagePoint());let l=v2(i.layout.layoutBox,a);if(n){const u=n(x2(l));this.hasMutatedConstraints=!!u,u&&(l=Gx(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=Jt(m=>{if(!Cl(m,n,this.currentDirection))return;let g=h&&h[m]||{};l&&(g={min:0,max:0});const b=i?200:1e6,E=i?40:1e7,w={type:"inertia",velocity:r?e[m]:0,bounceStiffness:b,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,w)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(sp(e,r,0,n))}stopAnimation(){Jt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Jt(n=>{const{drag:r}=this.getProps();if(!Cl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];a.set(e[n]-ze(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ni(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Jt(l=>{const u=this.getAxisMotionValue(l);if(u){const h=u.get();i[l]=y2({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jt(l=>{if(!Cl(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(ze(h,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;_2.set(this.visualElement,this);const e=this.visualElement.current,n=zn(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();ni(h)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const l=Dn(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Jt(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=h[m].translate,g.set(g.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=tf,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Cl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function I2(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class O2 extends Rr{constructor(e){super(e),this.removeGroupControls=Qe,this.removeListeners=Qe,this.controls=new P2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qe}unmount(){this.removeGroupControls(),this.removeListeners()}}const q0=t=>(e,n)=>{t&&je.update(()=>t(e,n))};class A2 extends Rr{constructor(){super(...arguments),this.removePointerDownListener=Qe}onPointerDown(e){this.session=new Kx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Qx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:q0(e),onStart:q0(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&je.update(()=>i(a,l))}}}mount(){this.removePointerDownListener=zn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function N2(){const t=S.useContext(Oc);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=S.useId();return S.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=G0(t,e.target.x),r=G0(t,e.target.y);return`${n}% ${r}%`}},B2={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Br.parse(t);if(i.length>5)return r;const a=Br.createTransformer(t),l=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=u,i[1+l]/=h;const f=ze(u,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),a(i)}};class L2 extends Ff.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;H_(M2),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||je.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Zx(t){const[e,n]=N2(),r=S.useContext(Kf);return Ff.createElement(L2,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(Gw),isPresent:e,safeToRemove:n})}const M2={borderRadius:{...bs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bs,borderTopRightRadius:bs,borderBottomLeftRadius:bs,borderBottomRightRadius:bs,boxShadow:B2},e1=["TopLeft","TopRight","BottomLeft","BottomRight"],R2=e1.length,Y0=t=>typeof t=="string"?parseFloat(t):t,X0=t=>typeof t=="number"||pe.test(t);function j2(t,e,n,r,i,a){i?(t.opacity=ze(0,n.opacity!==void 0?n.opacity:1,D2(r)),t.opacityExit=ze(e.opacity!==void 0?e.opacity:1,0,F2(r))):a&&(t.opacity=ze(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<R2;l++){const u=`border${e1[l]}Radius`;let h=J0(e,u),f=J0(n,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||X0(h)===X0(f)?(t[u]=Math.max(ze(Y0(h),Y0(f),r),0),(bn.test(f)||bn.test(h))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=ze(e.rotate||0,n.rotate||0,r))}function J0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const D2=t1(0,.5,Ex),F2=t1(.5,.95,Qe);function t1(t,e,n){return r=>r<t?0:r>e?1:n(Us(t,e,r))}function Q0(t,e){t.min=e.min,t.max=e.max}function Xt(t,e){Q0(t.x,e.x),Q0(t.y,e.y)}function Z0(t,e,n,r,i){return t-=e,t=ic(t,1/n,r),i!==void 0&&(t=ic(t,1/i,r)),t}function U2(t,e=0,n=1,r=.5,i,a=t,l=t){if(bn.test(e)&&(e=parseFloat(e),e=ze(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=ze(a.min,a.max,r);t===a&&(u-=e),t.min=Z0(t.min,e,n,u,i),t.max=Z0(t.max,e,n,u,i)}function eb(t,e,[n,r,i],a,l){U2(t,e[n],e[r],e[i],e.scale,a,l)}const H2=["x","scaleX","originX"],$2=["y","scaleY","originY"];function tb(t,e,n,r){eb(t.x,e,H2,n?n.x:void 0,r?r.x:void 0),eb(t.y,e,$2,n?n.y:void 0,r?r.y:void 0)}function nb(t){return t.translate===0&&t.scale===1}function n1(t){return nb(t.x)&&nb(t.y)}function V2(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function r1(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function rb(t){return $t(t.x)/$t(t.y)}class z2{constructor(){this.members=[]}add(e){ap(this.members,e),e.scheduleRender()}remove(e){if(lp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ob(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:h,rotateX:f,rotateY:m}=n;h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const W2=(t,e)=>t.depth-e.depth;class K2{constructor(){this.children=[],this.isDirty=!1}add(e){ap(this.children,e),this.isDirty=!0}remove(e){lp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(W2),this.isDirty=!1,this.children.forEach(e)}}function q2(t,e){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Kn(r),t(a-e))};return je.read(r,!0),()=>Kn(r)}function G2(t){window.MotionDebug&&window.MotionDebug.record(t)}function Y2(t){return t instanceof SVGElement&&t.tagName!=="svg"}function X2(t,e,n){const r=Lt(t)?t:pi(t);return r.start(sp("",r,e,n)),r.animation}const ib=["","X","Y","Z"],J2={visibility:"hidden"},sb=1e3;let Q2=0;const to={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function o1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=Q2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,to.totalNodes=to.resolvedTargetDeltas=to.recalculatedProjection=0,this.nodes.forEach(tO),this.nodes.forEach(sO),this.nodes.forEach(aO),this.nodes.forEach(nO),G2(to)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new K2)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new cp),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Y2(l),this.instance=l;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||h)&&(this.isLayoutDirty=!0),t){let g;const b=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=q2(b,250),Nl.hasAnimatedSinceResize&&(Nl.hasAnimatedSinceResize=!1,this.nodes.forEach(lb))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeTargetChanged:E,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||m.getDefaultTransition()||hO,{onLayoutAnimationStart:C,onLayoutAnimationComplete:I}=m.getProps(),_=!this.targetLayout||!r1(this.targetLayout,w)||E,T=!b&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||b&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,T);const A={...ip(x,"layout"),onPlay:C,onComplete:I};(m.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else b||lb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Kn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lO),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ab);return}this.isUpdating||this.nodes.forEach(oO),this.isUpdating=!1,this.nodes.forEach(iO),this.nodes.forEach(Z2),this.nodes.forEach(eO),this.clearAllSnapshots();const u=performance.now();vt.delta=Nr(0,1e3/60,u-vt.timestamp),vt.timestamp=u,vt.isProcessing=!0,dh.update.process(vt),dh.preRender.process(vt),dh.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(rO),this.sharedNodes.forEach(cO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!n1(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&(u||eo(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),fO(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return et();const u=l.measureViewportBox(),{scroll:h}=this.root;return h&&(kr(u.x,h.offset.x),kr(u.y,h.offset.y)),u}removeElementScroll(l){const u=et();Xt(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:m,options:g}=f;if(f!==this.root&&m&&g.layoutScroll){if(m.isRoot){Xt(u,l);const{scroll:b}=this.root;b&&(kr(u.x,-b.offset.x),kr(u.y,-b.offset.y))}kr(u.x,m.offset.x),kr(u.y,m.offset.y)}}return u}applyTransform(l,u=!1){const h=et();Xt(h,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ii(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),eo(m.latestValues)&&ii(h,m.latestValues)}return eo(this.latestValues)&&ii(h,this.latestValues),h}removeTransform(l){const u=et();Xt(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!eo(f.latestValues))continue;nf(f.latestValues)&&f.updateSnapshot();const m=et(),g=f.measurePageBox();Xt(m,g),tb(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return eo(this.latestValues)&&tb(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:g,layoutId:b}=this.options;if(!(!this.layout||!(g||b))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),As(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),p2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xt(this.target,this.layout.layoutBox),Xx(this.target,this.targetDelta)):Xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),As(this.relativeTargetOrigin,this.target,E.target),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}to.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||nf(this.parent.latestValues)||Yx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Xt(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,E=this.treeScale.y;E2(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:w}=u;if(!w){this.projectionTransform&&(this.projectionDelta=oi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=oi(),this.projectionDeltaWithTransform=oi());const x=this.projectionTransform;Os(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=ob(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==b||this.treeScale.y!==E)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),to.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},g=oi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=et(),E=h?h.source:void 0,w=this.layout?this.layout.source:void 0,x=E!==w,C=this.getStack(),I=!C||C.members.length<=1,_=!!(x&&!I&&this.options.crossfade===!0&&!this.path.some(dO));this.animationProgress=0;let T;this.mixTargetDelta=A=>{const L=A/1e3;cb(g.x,l.x,L),cb(g.y,l.y,L),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(As(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uO(this.relativeTarget,this.relativeTargetOrigin,b,L),T&&V2(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=et()),Xt(T,this.relativeTarget)),x&&(this.animationValues=m,j2(m,f,this.latestValues,L,_,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Kn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{Nl.hasAnimatedSinceResize=!0,this.currentAnimation=X2(0,sb,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:m}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&i1(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||et();const g=$t(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+g;const b=$t(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+b}Xt(u,h),ii(u,m),Os(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new z2),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(u=!0),!u)return;const f={};for(let m=0;m<ib.length;m++){const g="rotate"+ib[m];h[g]&&(f[g]=h[g],l.setStaticValue(g,0))}l.render();for(const m in f)l.setStaticValue(m,f[m]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return J2;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Al(l==null?void 0:l.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Al(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!eo(this.latestValues)&&(x.transform=m?m({},""):"none",this.hasProjected=!1),x}const b=g.animationValues||g.latestValues;this.applyTransformsToTarget(),f.transform=ob(this.projectionDeltaWithTransform,this.treeScale,b),m&&(f.transform=m(b,f.transform));const{x:E,y:w}=this.projectionDelta;f.transformOrigin=`${E.origin*100}% ${w.origin*100}% 0`,g.animationValues?f.opacity=g===this?(h=(u=b.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:f.opacity=g===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const x in Ql){if(b[x]===void 0)continue;const{correct:C,applyTo:I}=Ql[x],_=f.transform==="none"?b[x]:C(b[x],g);if(I){const T=I.length;for(let A=0;A<T;A++)f[I[A]]=_}else f[x]=_}return this.options.layoutId&&(f.pointerEvents=g===this?Al(l==null?void 0:l.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(ab),this.root.sharedNodes.clear()}}}function Z2(t){t.updateLayout()}function eO(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Jt(g=>{const b=l?n.measuredBox[g]:n.layoutBox[g],E=$t(b);b.min=r[g].min,b.max=b.min+E}):i1(a,n.layoutBox,r)&&Jt(g=>{const b=l?n.measuredBox[g]:n.layoutBox[g],E=$t(r[g]);b.max=b.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+E)});const u=oi();Os(u,r,n.layoutBox);const h=oi();l?Os(h,t.applyTransform(i,!0),n.measuredBox):Os(h,r,n.layoutBox);const f=!n1(u);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:E}=g;if(b&&E){const w=et();As(w,n.layoutBox,b.layoutBox);const x=et();As(x,r,E.layoutBox),r1(w,x)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=w,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function tO(t){to.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rO(t){t.clearSnapshot()}function ab(t){t.clearMeasurements()}function oO(t){t.isLayoutDirty=!1}function iO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function lb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sO(t){t.resolveTargetDelta()}function aO(t){t.calcProjection()}function lO(t){t.resetRotation()}function cO(t){t.removeLeadSnapshot()}function cb(t,e,n){t.translate=ze(e.translate,0,n),t.scale=ze(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ub(t,e,n,r){t.min=ze(e.min,n.min,r),t.max=ze(e.max,n.max,r)}function uO(t,e,n,r){ub(t.x,e.x,n.x,r),ub(t.y,e.y,n.y,r)}function dO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hO={duration:.45,ease:[.4,0,.1,1]},db=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),hb=db("applewebkit/")&&!db("chrome/")?Math.round:Qe;function fb(t){t.min=hb(t.min),t.max=hb(t.max)}function fO(t){fb(t.x),fb(t.y)}function i1(t,e,n){return t==="position"||t==="preserve-aspect"&&!ef(rb(e),rb(n),.2)}const pO=o1({attachResizeListener:(t,e)=>Dn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xh={current:void 0},s1=o1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xh.current){const t=new pO({});t.mount(window),t.setOptions({layoutScroll:!0}),xh.current=t}return xh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mO={pan:{Feature:A2},drag:{Feature:O2,ProjectionNode:s1,MeasureLayout:Zx}},gO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function vO(t){const e=gO.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function of(t,e,n=1){const[r,i]=vO(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return $x(l)?parseFloat(l):l}else return qh(i)?of(i,e,n+1):i}function yO(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const a=i.get();if(!qh(a))return;const l=of(a,r);l&&i.set(l)});for(const i in e){const a=e[i];if(!qh(a))continue;const l=of(a,r);l&&(e[i]=l,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:e,transitionEnd:n}}const bO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),a1=t=>bO.has(t),wO=t=>Object.keys(t).some(a1),pb=t=>t===xo||t===pe,mb=(t,e)=>parseFloat(t.split(", ")[e]),gb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return mb(i[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?mb(a[1],t):0}},xO=new Set(["x","y","z"]),kO=Gs.filter(t=>!xO.has(t));function EO(t){const e=[];return kO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const mi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:gb(4,13),y:gb(5,14)};mi.translateX=mi.x;mi.translateY=mi.y;const CO=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:l}=a,u={};l==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(f=>{u[f]=mi[f](r,a)}),e.render();const h=e.measureViewportBox();return n.forEach(f=>{const m=e.getValue(f);m&&m.jump(u[f]),t[f]=mi[f](h,a)}),t},SO=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(a1);let a=[],l=!1;const u=[];if(i.forEach(h=>{const f=t.getValue(h);if(!t.hasValue(h))return;let m=n[h],g=ys(m);const b=e[h];let E;if(ec(b)){const w=b.length,x=b[0]===null?1:0;m=b[x],g=ys(m);for(let C=x;C<w&&b[C]!==null;C++)E?ep(ys(b[C])===E):E=ys(b[C])}else E=ys(b);if(g!==E)if(pb(g)&&pb(E)){const w=f.get();typeof w=="string"&&f.set(parseFloat(w)),typeof b=="string"?e[h]=parseFloat(b):Array.isArray(b)&&E===pe&&(e[h]=b.map(parseFloat))}else g!=null&&g.transform&&(E!=null&&E.transform)&&(m===0||b===0)?m===0?f.set(E.transform(m)):e[h]=g.transform(b):(l||(a=EO(t),l=!0),u.push(h),r[h]=r[h]!==void 0?r[h]:e[h],f.jump(b))}),u.length){const h=u.indexOf("height")>=0?window.pageYOffset:null,f=CO(e,t,u);return a.length&&a.forEach(([m,g])=>{t.getValue(m).set(g)}),t.render(),Ac&&h!==null&&window.scrollTo({top:h}),{target:f,transitionEnd:r}}else return{target:e,transitionEnd:r}};function TO(t,e,n,r){return wO(e)?SO(t,e,n,r):{target:e,transitionEnd:r}}const _O=(t,e,n,r)=>{const i=yO(t,e,r);return e=i.target,r=i.transitionEnd,TO(t,e,n,r)},sf={current:null},l1={current:!1};function PO(){if(l1.current=!0,!!Ac)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>sf.current=t.matches;t.addListener(e),e()}else sf.current=!1}function IO(t,e,n){const{willChange:r}=e;for(const i in e){const a=e[i],l=n[i];if(Lt(a))t.addValue(i,a),oc(r)&&r.add(i);else if(Lt(l))t.addValue(i,pi(a,{owner:t})),oc(r)&&r.remove(i);else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);!u.hasAnimated&&u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,pi(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const vb=new WeakMap,c1=Object.keys(Fs),OO=c1.length,yb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],AO=Wf.length;class NO{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>je.render(this.render,!1,!0);const{latestValues:u,renderState:h}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=Bc(n),this.isVariantNode=qw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{});for(const g in m){const b=m[g];u[g]!==void 0&&Lt(b)&&(b.set(u[g],!1),oc(f)&&f.add(g))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,vb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),l1.current||PO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vb.delete(this.current),this.projection&&this.projection.unmount(),Kn(this.notifyUpdate),Kn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=wo.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&je.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,a){let l,u;for(let h=0;h<OO;h++){const f=c1[h],{isEnabled:m,Feature:g,ProjectionNode:b,MeasureLayout:E}=Fs[f];b&&(l=b),m(n)&&(!this.features[f]&&g&&(this.features[f]=new g(this)),E&&(u=E))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:f,drag:m,dragConstraints:g,layoutScroll:b,layoutRoot:E}=n;this.projection.setOptions({layoutId:h,layout:f,alwaysMeasureLayout:!!m||g&&ni(g),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:a,layoutScroll:b,layoutRoot:E})}return u}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<yb.length;r++){const i=yb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=IO(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<AO;r++){const i=Wf[r],a=this.props[i];(Ds(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=pi(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Zf(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Lt(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class u1 extends NO{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},a){let l=YI(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),l&&(l=i(l))),a){qI(this,r,l);const u=_O(this,r,l,n);n=u.transitionEnd,r=u.target}return{transition:e,transitionEnd:n,...r}}}function BO(t){return window.getComputedStyle(t)}class LO extends u1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(wo.has(n)){const r=op(n);return r&&r.default||0}else{const r=BO(e),i=(Jw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Jx(e,n)}build(e,n,r,i){Gf(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Qf(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){rx(e,n,r,i)}}class MO extends u1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wo.has(n)){const r=op(n);return r&&r.default||0}return n=ox.has(n)?n:Vf(n),e.getAttribute(n)}measureInstanceViewportBox(){return et()}scrapeMotionValuesFromProps(e,n){return sx(e,n)}build(e,n,r,i){Xf(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){ix(e,n,r,i)}mount(e){this.isSVGTag=Jf(e.tagName),super.mount(e)}}const RO=(t,e)=>qf(t)?new MO(e,{enableHardwareAcceleration:!1}):new LO(e,{enableHardwareAcceleration:!0}),jO={layout:{ProjectionNode:s1,MeasureLayout:Zx}},DO={...u2,...OP,...mO,...jO},FO=F_((t,e)=>vP(t,e,DO,RO));function d1(){const t=S.useRef(!1);return $f(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function UO(){const t=d1(),[e,n]=S.useState(0),r=S.useCallback(()=>{t.current&&n(e+1)},[e]);return[S.useCallback(()=>je.postRender(r),[r]),e]}class HO extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function $O({children:t,isPresent:e}){const n=S.useId(),r=S.useRef(null),i=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:a,height:l,top:u,left:h}=i.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),S.createElement(HO,{isPresent:e,childRef:r,sizeRef:i},S.cloneElement(t,{ref:r}))}const kh=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l})=>{const u=ax(VO),h=S.useId(),f=S.useMemo(()=>({id:h,initial:e,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const g of u.values())if(!g)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),a?void 0:[n]);return S.useMemo(()=>{u.forEach((m,g)=>u.set(g,!1))},[n]),S.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),l==="popLayout"&&(t=S.createElement($O,{isPresent:n},t)),S.createElement(Oc.Provider,{value:f},t)};function VO(){return new Map}function zO(t){return S.useEffect(()=>()=>t(),[])}const no=t=>t.key||"";function WO(t,e){t.forEach(n=>{const r=no(n);e.set(r,n)})}function KO(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const qO=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:l="sync"})=>{const u=S.useContext(Kf).forceRender||UO()[0],h=d1(),f=KO(t);let m=f;const g=S.useRef(new Map).current,b=S.useRef(m),E=S.useRef(new Map).current,w=S.useRef(!0);if($f(()=>{w.current=!1,WO(f,E),b.current=m}),zO(()=>{w.current=!0,E.clear(),g.clear()}),w.current)return S.createElement(S.Fragment,null,m.map(_=>S.createElement(kh,{key:no(_),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:l},_)));m=[...m];const x=b.current.map(no),C=f.map(no),I=x.length;for(let _=0;_<I;_++){const T=x[_];C.indexOf(T)===-1&&!g.has(T)&&g.set(T,void 0)}return l==="wait"&&g.size&&(m=[]),g.forEach((_,T)=>{if(C.indexOf(T)!==-1)return;const A=E.get(T);if(!A)return;const L=x.indexOf(T);let F=_;if(!F){const W=()=>{g.delete(T);const R=Array.from(E.keys()).filter(H=>!C.includes(H));if(R.forEach(H=>E.delete(H)),b.current=f.filter(H=>{const G=no(H);return G===T||R.includes(G)}),!g.size){if(h.current===!1)return;u(),r&&r()}};F=S.createElement(kh,{key:no(A),isPresent:!1,onExitComplete:W,custom:e,presenceAffectsLayout:a,mode:l},A),g.set(T,F)}m.splice(L,0,F)}),m=m.map(_=>{const T=_.key;return g.has(T)?_:S.createElement(kh,{key:no(_),isPresent:!0,presenceAffectsLayout:a,mode:l},_)}),S.createElement(S.Fragment,null,g.size?m:m.map(_=>S.cloneElement(_)))},tt=({children:t,keyValue:e,initial:n={opacity:0},animate:r={opacity:1},transition:i={duration:1},className:a})=>y.jsx(qO,{children:y.jsx(FO.div,{initial:n,animate:r,transition:i,className:a,children:t},e)});let GO={data:""},YO=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||GO,XO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,JO=/\/\*[^]*?\*\/|  +/g,bb=/\n+/g,Er=(t,e)=>{let n="",r="",i="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+l+";":r+=a[1]=="f"?Er(l,a):a+"{"+Er(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=Er(l,e?e.replace(/([^,])+/g,u=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Er.p?Er.p(a,l):a+":"+l+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Bn={},h1=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+h1(t[n]);return e}return t},QO=(t,e,n,r,i)=>{let a=h1(t),l=Bn[a]||(Bn[a]=(h=>{let f=0,m=11;for(;f<h.length;)m=101*m+h.charCodeAt(f++)>>>0;return"go"+m})(a));if(!Bn[l]){let h=a!==t?t:(f=>{let m,g,b=[{}];for(;m=XO.exec(f.replace(JO,""));)m[4]?b.shift():m[3]?(g=m[3].replace(bb," ").trim(),b.unshift(b[0][g]=b[0][g]||{})):b[0][m[1]]=m[2].replace(bb," ").trim();return b[0]})(t);Bn[l]=Er(i?{["@keyframes "+l]:h}:h,n?"":"."+l)}let u=n&&Bn.g?Bn.g:null;return n&&(Bn.g=Bn[l]),((h,f,m,g)=>{g?f.data=f.data.replace(g,h):f.data.indexOf(h)===-1&&(f.data=m?h+f.data:f.data+h)})(Bn[l],e,r,u),l},ZO=(t,e,n)=>t.reduce((r,i,a)=>{let l=e[a];if(l&&l.call){let u=l(n),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=h?"."+h:u&&typeof u=="object"?u.props?"":Er(u,""):u===!1?"":u}return r+i+(l??"")},"");function jc(t){let e=this||{},n=t.call?t(e.p):t;return QO(n.unshift?n.raw?ZO(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,YO(e.target),e.g,e.o,e.k)}let f1,af,lf;jc.bind({g:1});let qn=jc.bind({k:1});function eA(t,e,n,r){Er.p=e,f1=t,af=n,lf=r}function jr(t,e){let n=this||{};return function(){let r=arguments;function i(a,l){let u=Object.assign({},a),h=u.className||i.className;n.p=Object.assign({theme:af&&af()},u),n.o=/ *go\d+/.test(h),u.className=jc.apply(n,r)+(h?" "+h:"");let f=t;return t[0]&&(f=u.as||t,delete u.as),lf&&f[0]&&lf(u),f1(f,u)}return i}}var tA=t=>typeof t=="function",sc=(t,e)=>tA(t)?t(e):t,nA=(()=>{let t=0;return()=>(++t).toString()})(),p1=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),rA=20,m1=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,rA)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return m1(t,{type:t.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Bl=[],so={toasts:[],pausedAt:void 0},ko=t=>{so=m1(so,t),Bl.forEach(e=>{e(so)})},oA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},iA=(t={})=>{let[e,n]=S.useState(so),r=S.useRef(so);S.useEffect(()=>(r.current!==so&&n(so),Bl.push(n),()=>{let a=Bl.indexOf(n);a>-1&&Bl.splice(a,1)}),[]);let i=e.toasts.map(a=>{var l,u,h;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((l=t[a.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((u=t[a.type])==null?void 0:u.duration)||(t==null?void 0:t.duration)||oA[a.type],style:{...t.style,...(h=t[a.type])==null?void 0:h.style,...a.style}}});return{...e,toasts:i}},sA=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||nA()}),Qs=t=>(e,n)=>{let r=sA(e,t,n);return ko({type:2,toast:r}),r.id},te=(t,e)=>Qs("blank")(t,e);te.error=Qs("error");te.success=Qs("success");te.loading=Qs("loading");te.custom=Qs("custom");te.dismiss=t=>{ko({type:3,toastId:t})};te.remove=t=>ko({type:4,toastId:t});te.promise=(t,e,n)=>{let r=te.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?sc(e.success,i):void 0;return a?te.success(a,{id:r,...n,...n==null?void 0:n.success}):te.dismiss(r),i}).catch(i=>{let a=e.error?sc(e.error,i):void 0;a?te.error(a,{id:r,...n,...n==null?void 0:n.error}):te.dismiss(r)}),t};var aA=(t,e)=>{ko({type:1,toast:{id:t,height:e}})},lA=()=>{ko({type:5,time:Date.now()})},Ns=new Map,cA=1e3,uA=(t,e=cA)=>{if(Ns.has(t))return;let n=setTimeout(()=>{Ns.delete(t),ko({type:4,toastId:t})},e);Ns.set(t,n)},dA=t=>{let{toasts:e,pausedAt:n}=iA(t);S.useEffect(()=>{if(n)return;let a=Date.now(),l=e.map(u=>{if(u.duration===1/0)return;let h=(u.duration||0)+u.pauseDuration-(a-u.createdAt);if(h<0){u.visible&&te.dismiss(u.id);return}return setTimeout(()=>te.dismiss(u.id),h)});return()=>{l.forEach(u=>u&&clearTimeout(u))}},[e,n]);let r=S.useCallback(()=>{n&&ko({type:6,time:Date.now()})},[n]),i=S.useCallback((a,l)=>{let{reverseOrder:u=!1,gutter:h=8,defaultPosition:f}=l||{},m=e.filter(E=>(E.position||f)===(a.position||f)&&E.height),g=m.findIndex(E=>E.id===a.id),b=m.filter((E,w)=>w<g&&E.visible).length;return m.filter(E=>E.visible).slice(...u?[b+1]:[0,b]).reduce((E,w)=>E+(w.height||0)+h,0)},[e]);return S.useEffect(()=>{e.forEach(a=>{if(a.dismissed)uA(a.id,a.removeDelay);else{let l=Ns.get(a.id);l&&(clearTimeout(l),Ns.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:aA,startPause:lA,endPause:r,calculateOffset:i}}},hA=qn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,fA=qn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pA=qn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,mA=jr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${fA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${pA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,gA=qn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,vA=jr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${gA} 1s linear infinite;
`,yA=qn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bA=qn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,wA=jr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,xA=jr("div")`
  position: absolute;
`,kA=jr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,EA=qn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CA=jr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${EA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,SA=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?S.createElement(CA,null,e):e:n==="blank"?null:S.createElement(kA,null,S.createElement(vA,{...r}),n!=="loading"&&S.createElement(xA,null,n==="error"?S.createElement(mA,{...r}):S.createElement(wA,{...r})))},TA=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,_A=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,PA="0%{opacity:0;} 100%{opacity:1;}",IA="0%{opacity:1;} 100%{opacity:0;}",OA=jr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,AA=jr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,NA=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=p1()?[PA,IA]:[TA(n),_A(n)];return{animation:e?`${qn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},BA=S.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?NA(t.position||e||"top-center",t.visible):{opacity:0},a=S.createElement(SA,{toast:t}),l=S.createElement(AA,{...t.ariaProps},sc(t.message,t));return S.createElement(OA,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:l}):S.createElement(S.Fragment,null,a,l))});eA(S.createElement);var LA=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let a=S.useCallback(l=>{if(l){let u=()=>{let h=l.getBoundingClientRect().height;r(t,h)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return S.createElement("div",{ref:a,className:e,style:n},i)},MA=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:p1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},RA=jc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Sl=16,Qn=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:a,containerClassName:l})=>{let{toasts:u,handlers:h}=dA(n);return S.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Sl,left:Sl,right:Sl,bottom:Sl,pointerEvents:"none",...a},className:l,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(f=>{let m=f.position||e,g=h.calculateOffset(f,{reverseOrder:t,gutter:r,defaultPosition:e}),b=MA(m,g);return S.createElement(LA,{id:f.id,key:f.id,onHeightUpdate:h.updateHeight,className:f.visible?RA:"",style:b},f.type==="custom"?sc(f.message,f):i?i(f):S.createElement(BA,{toast:f,position:m}))}))};function g1(t,e){return function(){return t.apply(e,arguments)}}const{toString:jA}=Object.prototype,{getPrototypeOf:up}=Object,{iterator:Dc,toStringTag:v1}=Symbol,Fc=(t=>e=>{const n=jA.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),un=t=>(t=t.toLowerCase(),e=>Fc(e)===t),Uc=t=>e=>typeof e===t,{isArray:Ci}=Array,Hs=Uc("undefined");function DA(t){return t!==null&&!Hs(t)&&t.constructor!==null&&!Hs(t.constructor)&&Nt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const y1=un("ArrayBuffer");function FA(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&y1(t.buffer),e}const UA=Uc("string"),Nt=Uc("function"),b1=Uc("number"),Hc=t=>t!==null&&typeof t=="object",HA=t=>t===!0||t===!1,Ll=t=>{if(Fc(t)!=="object")return!1;const e=up(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(v1 in t)&&!(Dc in t)},$A=un("Date"),VA=un("File"),zA=un("Blob"),WA=un("FileList"),KA=t=>Hc(t)&&Nt(t.pipe),qA=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Nt(t.append)&&((e=Fc(t))==="formdata"||e==="object"&&Nt(t.toString)&&t.toString()==="[object FormData]"))},GA=un("URLSearchParams"),[YA,XA,JA,QA]=["ReadableStream","Request","Response","Headers"].map(un),ZA=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zs(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ci(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let u;for(r=0;r<l;r++)u=a[r],e.call(null,t[u],u,t)}}function w1(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const ao=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,x1=t=>!Hs(t)&&t!==ao;function cf(){const{caseless:t}=x1(this)&&this||{},e={},n=(r,i)=>{const a=t&&w1(e,i)||i;Ll(e[a])&&Ll(r)?e[a]=cf(e[a],r):Ll(r)?e[a]=cf({},r):Ci(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Zs(arguments[r],n);return e}const eN=(t,e,n,{allOwnKeys:r}={})=>(Zs(e,(i,a)=>{n&&Nt(i)?t[a]=g1(i,n):t[a]=i},{allOwnKeys:r}),t),tN=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nN=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},rN=(t,e,n,r)=>{let i,a,l;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)l=i[a],(!r||r(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&up(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},oN=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},iN=t=>{if(!t)return null;if(Ci(t))return t;let e=t.length;if(!b1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},sN=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&up(Uint8Array)),aN=(t,e)=>{const r=(t&&t[Dc]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},lN=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},cN=un("HTMLFormElement"),uN=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),wb=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),dN=un("RegExp"),k1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Zs(n,(i,a)=>{let l;(l=e(i,a,t))!==!1&&(r[a]=l||i)}),Object.defineProperties(t,r)},hN=t=>{k1(t,(e,n)=>{if(Nt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Nt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},fN=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Ci(t)?r(t):r(String(t).split(e)),n},pN=()=>{},mN=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function gN(t){return!!(t&&Nt(t.append)&&t[v1]==="FormData"&&t[Dc])}const vN=t=>{const e=new Array(10),n=(r,i)=>{if(Hc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=Ci(r)?[]:{};return Zs(r,(l,u)=>{const h=n(l,i+1);!Hs(h)&&(a[u]=h)}),e[i]=void 0,a}}return r};return n(t,0)},yN=un("AsyncFunction"),bN=t=>t&&(Hc(t)||Nt(t))&&Nt(t.then)&&Nt(t.catch),E1=((t,e)=>t?setImmediate:e?((n,r)=>(ao.addEventListener("message",({source:i,data:a})=>{i===ao&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ao.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Nt(ao.postMessage)),wN=typeof queueMicrotask<"u"?queueMicrotask.bind(ao):typeof process<"u"&&process.nextTick||E1,xN=t=>t!=null&&Nt(t[Dc]),U={isArray:Ci,isArrayBuffer:y1,isBuffer:DA,isFormData:qA,isArrayBufferView:FA,isString:UA,isNumber:b1,isBoolean:HA,isObject:Hc,isPlainObject:Ll,isReadableStream:YA,isRequest:XA,isResponse:JA,isHeaders:QA,isUndefined:Hs,isDate:$A,isFile:VA,isBlob:zA,isRegExp:dN,isFunction:Nt,isStream:KA,isURLSearchParams:GA,isTypedArray:sN,isFileList:WA,forEach:Zs,merge:cf,extend:eN,trim:ZA,stripBOM:tN,inherits:nN,toFlatObject:rN,kindOf:Fc,kindOfTest:un,endsWith:oN,toArray:iN,forEachEntry:aN,matchAll:lN,isHTMLForm:cN,hasOwnProperty:wb,hasOwnProp:wb,reduceDescriptors:k1,freezeMethods:hN,toObjectSet:fN,toCamelCase:uN,noop:pN,toFiniteNumber:mN,findKey:w1,global:ao,isContextDefined:x1,isSpecCompliantForm:gN,toJSONObject:vN,isAsyncFn:yN,isThenable:bN,setImmediate:E1,asap:wN,isIterable:xN};function we(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}U.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const C1=we.prototype,S1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{S1[t]={value:t}});Object.defineProperties(we,S1);Object.defineProperty(C1,"isAxiosError",{value:!0});we.from=(t,e,n,r,i,a)=>{const l=Object.create(C1);return U.toFlatObject(t,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),we.call(l,t.message,e,n,r,i),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const kN=null;function uf(t){return U.isPlainObject(t)||U.isArray(t)}function T1(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function xb(t,e,n){return t?t.concat(e).map(function(i,a){return i=T1(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function EN(t){return U.isArray(t)&&!t.some(uf)}const CN=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function $c(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,C){return!U.isUndefined(C[x])});const r=n.metaTokens,i=n.visitor||m,a=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(i))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(U.isDate(w))return w.toISOString();if(!h&&U.isBlob(w))throw new we("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(w)||U.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function m(w,x,C){let I=w;if(w&&!C&&typeof w=="object"){if(U.endsWith(x,"{}"))x=r?x:x.slice(0,-2),w=JSON.stringify(w);else if(U.isArray(w)&&EN(w)||(U.isFileList(w)||U.endsWith(x,"[]"))&&(I=U.toArray(w)))return x=T1(x),I.forEach(function(T,A){!(U.isUndefined(T)||T===null)&&e.append(l===!0?xb([x],A,a):l===null?x:x+"[]",f(T))}),!1}return uf(w)?!0:(e.append(xb(C,x,a),f(w)),!1)}const g=[],b=Object.assign(CN,{defaultVisitor:m,convertValue:f,isVisitable:uf});function E(w,x){if(!U.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+x.join("."));g.push(w),U.forEach(w,function(I,_){(!(U.isUndefined(I)||I===null)&&i.call(e,I,U.isString(_)?_.trim():_,x,b))===!0&&E(I,x?x.concat(_):[_])}),g.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return E(t),e}function kb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function dp(t,e){this._pairs=[],t&&$c(t,this,e)}const _1=dp.prototype;_1.append=function(e,n){this._pairs.push([e,n])};_1.toString=function(e){const n=e?function(r){return e.call(this,r,kb)}:kb;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function SN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function P1(t,e,n){if(!e)return t;const r=n&&n.encode||SN;U.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=U.isURLSearchParams(e)?e.toString():new dp(e,n).toString(r),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Eb{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(r){r!==null&&e(r)})}}const I1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},TN=typeof URLSearchParams<"u"?URLSearchParams:dp,_N=typeof FormData<"u"?FormData:null,PN=typeof Blob<"u"?Blob:null,IN={isBrowser:!0,classes:{URLSearchParams:TN,FormData:_N,Blob:PN},protocols:["http","https","file","blob","url","data"]},hp=typeof window<"u"&&typeof document<"u",df=typeof navigator=="object"&&navigator||void 0,ON=hp&&(!df||["ReactNative","NativeScript","NS"].indexOf(df.product)<0),AN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NN=hp&&window.location.href||"http://localhost",BN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hp,hasStandardBrowserEnv:ON,hasStandardBrowserWebWorkerEnv:AN,navigator:df,origin:NN},Symbol.toStringTag,{value:"Module"})),yt={...BN,...IN};function LN(t,e){return $c(t,new yt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,a){return yt.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function MN(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function RN(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function O1(t){function e(n,r,i,a){let l=n[a++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=a>=n.length;return l=!l&&U.isArray(i)?i.length:l,h?(U.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!U.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],a)&&U.isArray(i[l])&&(i[l]=RN(i[l])),!u)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,i)=>{e(MN(r),i,n,0)}),n}return null}function jN(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const ea={transitional:I1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=U.isObject(e);if(a&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return i?JSON.stringify(O1(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return LN(e,this.formSerializer).toString();if((u=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return $c(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),jN(e)):e}],transformResponse:[function(e){const n=this.transitional||ea.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?we.from(u,we.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yt.classes.FormData,Blob:yt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{ea.headers[t]={}});const DN=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FN=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&DN[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Cb=Symbol("internals");function ws(t){return t&&String(t).trim().toLowerCase()}function Ml(t){return t===!1||t==null?t:U.isArray(t)?t.map(Ml):String(t)}function UN(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const HN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Eh(t,e,n,r,i){if(U.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}function $N(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function VN(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,l){return this[r].call(this,e,i,a,l)},configurable:!0})})}let Bt=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(u,h,f){const m=ws(h);if(!m)throw new Error("header name must be a non-empty string");const g=U.findKey(i,m);(!g||i[g]===void 0||f===!0||f===void 0&&i[g]!==!1)&&(i[g||h]=Ml(u))}const l=(u,h)=>U.forEach(u,(f,m)=>a(f,m,h));if(U.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(U.isString(e)&&(e=e.trim())&&!HN(e))l(FN(e),n);else if(U.isObject(e)&&U.isIterable(e)){let u={},h,f;for(const m of e){if(!U.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[f=m[0]]=(h=u[f])?U.isArray(h)?[...h,m[1]]:[h,m[1]]:m[1]}l(u,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=ws(e),e){const r=U.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return UN(i);if(U.isFunction(n))return n.call(this,i,r);if(U.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ws(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Eh(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(l){if(l=ws(l),l){const u=U.findKey(r,l);u&&(!n||Eh(r,r[u],u,n))&&(delete r[u],i=!0)}}return U.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||Eh(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return U.forEach(this,(i,a)=>{const l=U.findKey(r,a);if(l){n[l]=Ml(i),delete n[a];return}const u=e?$N(a):String(a).trim();u!==a&&delete n[a],n[u]=Ml(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Cb]=this[Cb]={accessors:{}}).accessors,i=this.prototype;function a(l){const u=ws(l);r[u]||(VN(i,l),r[u]=!0)}return U.isArray(e)?e.forEach(a):a(e),this}};Bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(Bt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});U.freezeMethods(Bt);function Ch(t,e){const n=this||ea,r=e||n,i=Bt.from(r.headers);let a=r.data;return U.forEach(t,function(u){a=u.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function A1(t){return!!(t&&t.__CANCEL__)}function Si(t,e,n){we.call(this,t??"canceled",we.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(Si,we,{__CANCEL__:!0});function N1(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function zN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function WN(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,l;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),m=r[a];l||(l=f),n[i]=h,r[i]=f;let g=a,b=0;for(;g!==i;)b+=n[g++],g=g%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),f-l<e)return;const E=m&&f-m;return E?Math.round(b*1e3/E):void 0}}function KN(t,e){let n=0,r=1e3/e,i,a;const l=(f,m=Date.now())=>{n=m,i=null,a&&(clearTimeout(a),a=null),t.apply(null,f)};return[(...f)=>{const m=Date.now(),g=m-n;g>=r?l(f,m):(i=f,a||(a=setTimeout(()=>{a=null,l(i)},r-g)))},()=>i&&l(i)]}const ac=(t,e,n=3)=>{let r=0;const i=WN(50,250);return KN(a=>{const l=a.loaded,u=a.lengthComputable?a.total:void 0,h=l-r,f=i(h),m=l<=u;r=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&m?(u-l)/f:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(g)},n)},Sb=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Tb=t=>(...e)=>U.asap(()=>t(...e)),qN=yt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,yt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(yt.origin),yt.navigator&&/(msie|trident)/i.test(yt.navigator.userAgent)):()=>!0,GN=yt.hasStandardBrowserEnv?{write(t,e,n,r,i,a){const l=[t+"="+encodeURIComponent(e)];U.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),U.isString(r)&&l.push("path="+r),U.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function YN(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function XN(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function B1(t,e,n){let r=!YN(e);return t&&(r||n==!1)?XN(t,e):e}const _b=t=>t instanceof Bt?{...t}:t;function mo(t,e){e=e||{};const n={};function r(f,m,g,b){return U.isPlainObject(f)&&U.isPlainObject(m)?U.merge.call({caseless:b},f,m):U.isPlainObject(m)?U.merge({},m):U.isArray(m)?m.slice():m}function i(f,m,g,b){if(U.isUndefined(m)){if(!U.isUndefined(f))return r(void 0,f,g,b)}else return r(f,m,g,b)}function a(f,m){if(!U.isUndefined(m))return r(void 0,m)}function l(f,m){if(U.isUndefined(m)){if(!U.isUndefined(f))return r(void 0,f)}else return r(void 0,m)}function u(f,m,g){if(g in e)return r(f,m);if(g in t)return r(void 0,f)}const h={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,m,g)=>i(_b(f),_b(m),g,!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(m){const g=h[m]||i,b=g(t[m],e[m],m);U.isUndefined(b)&&g!==u||(n[m]=b)}),n}const L1=t=>{const e=mo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:u}=e;e.headers=l=Bt.from(l),e.url=P1(B1(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(U.isFormData(n)){if(yt.hasStandardBrowserEnv||yt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[f,...m]=h?h.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...m].join("; "))}}if(yt.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(e)),r||r!==!1&&qN(e.url))){const f=i&&a&&GN.read(a);f&&l.set(i,f)}return e},JN=typeof XMLHttpRequest<"u",QN=JN&&function(t){return new Promise(function(n,r){const i=L1(t);let a=i.data;const l=Bt.from(i.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:f}=i,m,g,b,E,w;function x(){E&&E(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function I(){if(!C)return;const T=Bt.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),L={data:!u||u==="text"||u==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:T,config:t,request:C};N1(function(W){n(W),x()},function(W){r(W),x()},L),C=null}"onloadend"in C?C.onloadend=I:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(I)},C.onabort=function(){C&&(r(new we("Request aborted",we.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new we("Network Error",we.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const L=i.transitional||I1;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new we(A,L.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,t,C)),C=null},a===void 0&&l.setContentType(null),"setRequestHeader"in C&&U.forEach(l.toJSON(),function(A,L){C.setRequestHeader(L,A)}),U.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),u&&u!=="json"&&(C.responseType=i.responseType),f&&([b,w]=ac(f,!0),C.addEventListener("progress",b)),h&&C.upload&&([g,E]=ac(h),C.upload.addEventListener("progress",g),C.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(m=T=>{C&&(r(!T||T.type?new Si(null,t,C):T),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const _=zN(i.url);if(_&&yt.protocols.indexOf(_)===-1){r(new we("Unsupported protocol "+_+":",we.ERR_BAD_REQUEST,t));return}C.send(a||null)})},ZN=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(f){if(!i){i=!0,u();const m=f instanceof Error?f:this.reason;r.abort(m instanceof we?m:new Si(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,a(new we(`timeout ${e} of ms exceeded`,we.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),t=null)};t.forEach(f=>f.addEventListener("abort",a));const{signal:h}=r;return h.unsubscribe=()=>U.asap(u),h}},eB=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},tB=async function*(t,e){for await(const n of nB(t))yield*eB(n,e)},nB=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Pb=(t,e,n,r)=>{const i=tB(t,e);let a=0,l,u=h=>{l||(l=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:f,value:m}=await i.next();if(f){u(),h.close();return}let g=m.byteLength;if(n){let b=a+=g;n(b)}h.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(h){return u(h),i.return()}},{highWaterMark:2})},Vc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",M1=Vc&&typeof ReadableStream=="function",rB=Vc&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),R1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},oB=M1&&R1(()=>{let t=!1;const e=new Request(yt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Ib=64*1024,hf=M1&&R1(()=>U.isReadableStream(new Response("").body)),lc={stream:hf&&(t=>t.body)};Vc&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!lc[e]&&(lc[e]=U.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new we(`Response type '${e}' is not supported`,we.ERR_NOT_SUPPORT,r)})})})(new Response);const iB=async t=>{if(t==null)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t))return(await new Request(yt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(U.isArrayBufferView(t)||U.isArrayBuffer(t))return t.byteLength;if(U.isURLSearchParams(t)&&(t=t+""),U.isString(t))return(await rB(t)).byteLength},sB=async(t,e)=>{const n=U.toFiniteNumber(t.getContentLength());return n??iB(e)},aB=Vc&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:a,timeout:l,onDownloadProgress:u,onUploadProgress:h,responseType:f,headers:m,withCredentials:g="same-origin",fetchOptions:b}=L1(t);f=f?(f+"").toLowerCase():"text";let E=ZN([i,a&&a.toAbortSignal()],l),w;const x=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let C;try{if(h&&oB&&n!=="get"&&n!=="head"&&(C=await sB(m,r))!==0){let L=new Request(e,{method:"POST",body:r,duplex:"half"}),F;if(U.isFormData(r)&&(F=L.headers.get("content-type"))&&m.setContentType(F),L.body){const[W,R]=Sb(C,ac(Tb(h)));r=Pb(L.body,Ib,W,R)}}U.isString(g)||(g=g?"include":"omit");const I="credentials"in Request.prototype;w=new Request(e,{...b,signal:E,method:n.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:I?g:void 0});let _=await fetch(w);const T=hf&&(f==="stream"||f==="response");if(hf&&(u||T&&x)){const L={};["status","statusText","headers"].forEach(H=>{L[H]=_[H]});const F=U.toFiniteNumber(_.headers.get("content-length")),[W,R]=u&&Sb(F,ac(Tb(u),!0))||[];_=new Response(Pb(_.body,Ib,W,()=>{R&&R(),x&&x()}),L)}f=f||"text";let A=await lc[U.findKey(lc,f)||"text"](_,t);return!T&&x&&x(),await new Promise((L,F)=>{N1(L,F,{data:A,headers:Bt.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:w})})}catch(I){throw x&&x(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,t,w),{cause:I.cause||I}):we.from(I,I&&I.code,t,w)}}),ff={http:kN,xhr:QN,fetch:aB};U.forEach(ff,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ob=t=>`- ${t}`,lB=t=>U.isFunction(t)||t===null||t===!1,j1={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let a=0;a<e;a++){n=t[a];let l;if(r=n,!lB(n)&&(r=ff[(l=String(n)).toLowerCase()],r===void 0))throw new we(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+a]=r}if(!r){const a=Object.entries(i).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(Ob).join(`
`):" "+Ob(a[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:ff};function Sh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Si(null,t)}function Ab(t){return Sh(t),t.headers=Bt.from(t.headers),t.data=Ch.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),j1.getAdapter(t.adapter||ea.adapter)(t).then(function(r){return Sh(t),r.data=Ch.call(t,t.transformResponse,r),r.headers=Bt.from(r.headers),r},function(r){return A1(r)||(Sh(t),r&&r.response&&(r.response.data=Ch.call(t,t.transformResponse,r.response),r.response.headers=Bt.from(r.response.headers))),Promise.reject(r)})}const D1="1.9.0",zc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{zc[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Nb={};zc.transitional=function(e,n,r){function i(a,l){return"[Axios v"+D1+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,u)=>{if(e===!1)throw new we(i(l," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!Nb[l]&&(Nb[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,l,u):!0}};zc.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function cB(t,e,n){if(typeof t!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],l=e[a];if(l){const u=t[a],h=u===void 0||l(u,a,t);if(h!==!0)throw new we("option "+a+" must be "+h,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+a,we.ERR_BAD_OPTION)}}const Rl={assertOptions:cB,validators:zc},gn=Rl.validators;let ho=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Eb,response:new Eb}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=mo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&Rl.assertOptions(r,{silentJSONParsing:gn.transitional(gn.boolean),forcedJSONParsing:gn.transitional(gn.boolean),clarifyTimeoutError:gn.transitional(gn.boolean)},!1),i!=null&&(U.isFunction(i)?n.paramsSerializer={serialize:i}:Rl.assertOptions(i,{encode:gn.function,serialize:gn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Rl.assertOptions(n,{baseUrl:gn.spelling("baseURL"),withXsrfToken:gn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&U.merge(a.common,a[n.method]);a&&U.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),n.headers=Bt.concat(l,a);const u=[];let h=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(h=h&&x.synchronous,u.unshift(x.fulfilled,x.rejected))});const f=[];this.interceptors.response.forEach(function(x){f.push(x.fulfilled,x.rejected)});let m,g=0,b;if(!h){const w=[Ab.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,f),b=w.length,m=Promise.resolve(n);g<b;)m=m.then(w[g++],w[g++]);return m}b=u.length;let E=n;for(g=0;g<b;){const w=u[g++],x=u[g++];try{E=w(E)}catch(C){x.call(this,C);break}}try{m=Ab.call(this,E)}catch(w){return Promise.reject(w)}for(g=0,b=f.length;g<b;)m=m.then(f[g++],f[g++]);return m}getUri(e){e=mo(this.defaults,e);const n=B1(e.baseURL,e.url,e.allowAbsoluteUrls);return P1(n,e.params,e.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(e){ho.prototype[e]=function(n,r){return this.request(mo(r||{},{method:e,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(e){function n(r){return function(a,l,u){return this.request(mo(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}ho.prototype[e]=n(),ho.prototype[e+"Form"]=n(!0)});let uB=class F1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(u=>{r.subscribe(u),a=u}).then(i);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,u){r.reason||(r.reason=new Si(a,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new F1(function(i){e=i}),cancel:e}}};function dB(t){return function(n){return t.apply(null,n)}}function hB(t){return U.isObject(t)&&t.isAxiosError===!0}const pf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pf).forEach(([t,e])=>{pf[e]=t});function U1(t){const e=new ho(t),n=g1(ho.prototype.request,e);return U.extend(n,ho.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return U1(mo(t,i))},n}const fe=U1(ea);fe.Axios=ho;fe.CanceledError=Si;fe.CancelToken=uB;fe.isCancel=A1;fe.VERSION=D1;fe.toFormData=$c;fe.AxiosError=we;fe.Cancel=fe.CanceledError;fe.all=function(e){return Promise.all(e)};fe.spread=dB;fe.isAxiosError=hB;fe.mergeConfig=mo;fe.AxiosHeaders=Bt;fe.formToJSON=t=>O1(U.isHTMLForm(t)?new FormData(t):t);fe.getAdapter=j1.getAdapter;fe.HttpStatusCode=pf;fe.default=fe;const{Axios:cF,AxiosError:uF,CanceledError:dF,isCancel:hF,CancelToken:fF,VERSION:pF,all:mF,Cancel:gF,isAxiosError:vF,spread:yF,toFormData:bF,AxiosHeaders:wF,HttpStatusCode:xF,formToJSON:kF,getAdapter:EF,mergeConfig:CF}=fe,cc=(t,e)=>sessionStorage.setItem(t,e),Bb=t=>sessionStorage.getItem(t),fB=t=>sessionStorage.removeItem(t);var Lb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},$1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,m=a>>2,g=(a&3)<<4|u>>4;let b=(u&15)<<2|f>>6,E=f&63;h||(E=64,l||(b=64)),r.push(n[m],n[g],n[b],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(H1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||g==null)throw new mB;const b=a<<2|u>>4;if(r.push(b),f!==64){const E=u<<4&240|f>>2;if(r.push(E),g!==64){const w=f<<6&192|g;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gB=function(t){const e=H1(t);return $1.encodeByteArray(e,!0)},V1=function(t){return gB(t).replace(/\./g,"")},z1=function(t){try{return $1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=()=>vB().__FIREBASE_DEFAULTS__,bB=()=>{if(typeof process>"u"||typeof Lb>"u")return;const t=Lb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z1(t[1]);return e&&JSON.parse(e)},fp=()=>{try{return yB()||bB()||wB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xB=t=>{var e,n;return(n=(e=fp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},W1=()=>{var t;return(t=fp())===null||t===void 0?void 0:t.config},K1=t=>{var e;return(e=fp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function CB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _B(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PB(){try{return typeof indexedDB=="object"}catch{return!1}}function IB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OB,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?AB(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Dr(i,u,r)}}function AB(t,e){return t.replace(NB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NB=/\{\$([^}]+)}/g;function BB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Mb(a)&&Mb(l)){if(!uc(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function LB(t,e){const n=new MB(t,e);return n.subscribe.bind(n)}class MB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Th),i.error===void 0&&(i.error=Th),i.complete===void 0&&(i.complete=Th);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Th(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t){return t&&t._delegate?t._delegate:t}class gi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FB(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DB(t){return t===ro?void 0:t}function FB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const HB={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},$B=Me.INFO,VB={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},zB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class q1{constructor(e){this.name=e,this._logLevel=$B,this._logHandler=zB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const WB=(t,e)=>e.some(n=>t instanceof n);let Rb,jb;function KB(){return Rb||(Rb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qB(){return jb||(jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G1=new WeakMap,mf=new WeakMap,Y1=new WeakMap,_h=new WeakMap,pp=new WeakMap;function GB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Or(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&G1.set(n,t)}).catch(()=>{}),pp.set(e,t),e}function YB(t){if(mf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});mf.set(t,e)}let gf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XB(t){gf=t(gf)}function JB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ph(this),e,...n);return Y1.set(r,e.sort?e.sort():[e]),Or(r)}:qB().includes(t)?function(...e){return t.apply(Ph(this),e),Or(G1.get(this))}:function(...e){return Or(t.apply(Ph(this),e))}}function QB(t){return typeof t=="function"?JB(t):(t instanceof IDBTransaction&&YB(t),WB(t,KB())?new Proxy(t,gf):t)}function Or(t){if(t instanceof IDBRequest)return GB(t);if(_h.has(t))return _h.get(t);const e=QB(t);return e!==t&&(_h.set(t,e),pp.set(e,t)),e}const Ph=t=>pp.get(t);function ZB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=Or(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Or(l.result),h.oldVersion,h.newVersion,Or(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const eL=["get","getKey","getAll","getAllKeys","count"],tL=["put","add","delete","clear"],Ih=new Map;function Db(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ih.get(e))return Ih.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eL.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&h.done]))[0]};return Ih.set(e,a),a}XB(t=>({...t,get:(e,n,r)=>Db(e,n)||t.get(e,n,r),has:(e,n)=>!!Db(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vf="@firebase/app",Fb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new q1("@firebase/app"),oL="@firebase/app-compat",iL="@firebase/analytics-compat",sL="@firebase/analytics",aL="@firebase/app-check-compat",lL="@firebase/app-check",cL="@firebase/auth",uL="@firebase/auth-compat",dL="@firebase/database",hL="@firebase/data-connect",fL="@firebase/database-compat",pL="@firebase/functions",mL="@firebase/functions-compat",gL="@firebase/installations",vL="@firebase/installations-compat",yL="@firebase/messaging",bL="@firebase/messaging-compat",wL="@firebase/performance",xL="@firebase/performance-compat",kL="@firebase/remote-config",EL="@firebase/remote-config-compat",CL="@firebase/storage",SL="@firebase/storage-compat",TL="@firebase/firestore",_L="@firebase/vertexai-preview",PL="@firebase/firestore-compat",IL="firebase",OL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="[DEFAULT]",AL={[vf]:"fire-core",[oL]:"fire-core-compat",[sL]:"fire-analytics",[iL]:"fire-analytics-compat",[lL]:"fire-app-check",[aL]:"fire-app-check-compat",[cL]:"fire-auth",[uL]:"fire-auth-compat",[dL]:"fire-rtdb",[hL]:"fire-data-connect",[fL]:"fire-rtdb-compat",[pL]:"fire-fn",[mL]:"fire-fn-compat",[gL]:"fire-iid",[vL]:"fire-iid-compat",[yL]:"fire-fcm",[bL]:"fire-fcm-compat",[wL]:"fire-perf",[xL]:"fire-perf-compat",[kL]:"fire-rc",[EL]:"fire-rc-compat",[CL]:"fire-gcs",[SL]:"fire-gcs-compat",[TL]:"fire-fst",[PL]:"fire-fst-compat",[_L]:"fire-vertex","fire-js":"fire-js",[IL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Map,NL=new Map,bf=new Map;function Ub(t,e){try{t.container.addComponent(e)}catch(n){Gn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $s(t){const e=t.name;if(bf.has(e))return Gn.debug(`There were multiple attempts to register component ${e}.`),!1;bf.set(e,t);for(const n of dc.values())Ub(n,t);for(const n of NL.values())Ub(n,t);return!0}function X1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new ta("app","Firebase",BL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=OL;function J1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ar.create("bad-app-name",{appName:String(i)});if(n||(n=W1()),!n)throw Ar.create("no-options");const a=dc.get(i);if(a){if(uc(n,a.options)&&uc(r,a.config))return a;throw Ar.create("duplicate-app",{appName:i})}const l=new UB(i);for(const h of bf.values())l.addComponent(h);const u=new LL(n,r,l);return dc.set(i,u),u}function ML(t=yf){const e=dc.get(t);if(!e&&t===yf&&W1())return J1();if(!e)throw Ar.create("no-app",{appName:t});return e}function ai(t,e,n){var r;let i=(r=AL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gn.warn(u.join(" "));return}$s(new gi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="firebase-heartbeat-database",jL=1,Vs="firebase-heartbeat-store";let Oh=null;function Q1(){return Oh||(Oh=ZB(RL,jL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ar.create("idb-open",{originalErrorMessage:t.message})})),Oh}async function DL(t){try{const n=(await Q1()).transaction(Vs),r=await n.objectStore(Vs).get(Z1(t));return await n.done,r}catch(e){if(e instanceof Dr)Gn.warn(e.message);else{const n=Ar.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gn.warn(n.message)}}}async function Hb(t,e){try{const r=(await Q1()).transaction(Vs,"readwrite");await r.objectStore(Vs).put(e,Z1(t)),await r.done}catch(n){if(n instanceof Dr)Gn.warn(n.message);else{const r=Ar.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gn.warn(r.message)}}}function Z1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=1024,UL=30*24*60*60*1e3;class HL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$b();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=UL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$b(),{heartbeatsToSend:r,unsentEntries:i}=$L(this._heartbeatsCache.heartbeats),a=V1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Gn.warn(n),""}}}function $b(){return new Date().toISOString().substring(0,10)}function $L(t,e=FL){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Vb(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PB()?IB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Vb(t){return V1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){$s(new gi("platform-logger",e=>new nL(e),"PRIVATE")),$s(new gi("heartbeat",e=>new HL(e),"PRIVATE")),ai(vf,Fb,t),ai(vf,Fb,"esm2017"),ai("fire-js","")}zL("");var WL="firebase",KL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(WL,KL,"app");function mp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ek(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qL=ek,tk=new ta("auth","Firebase",ek());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new q1("@firebase/auth");function GL(t,...e){hc.logLevel<=Me.WARN&&hc.warn(`Auth (${ra}): ${t}`,...e)}function jl(t,...e){hc.logLevel<=Me.ERROR&&hc.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,...e){throw vp(t,...e)}function ln(t,...e){return vp(t,...e)}function gp(t,e,n){const r=Object.assign(Object.assign({},qL()),{[e]:n});return new ta("auth","Firebase",r).create(e,{appName:t.name})}function fo(t){return gp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&En(t,"argument-error"),gp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tk.create(t,...e)}function ve(t,e,...n){if(!t)throw vp(e,...n)}function Un(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jl(e),new Error(e)}function Yn(t,e){t||Un(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function XL(){return zb()==="http:"||zb()==="https:"}function zb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XL()||SB()||"connection"in navigator)?navigator.onLine:!0}function QL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yn(n>e,"Short delay should be less than long delay!"),this.isMobile=EB()||TB()}get(){return JL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t,e){Yn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new oa(3e4,6e4);function bp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _i(t,e,n,r,i={}){return rk(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=na(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:h},a);return CB()||(f.referrerPolicy="no-referrer"),nk.fetch()(ok(t,t.config.apiHost,n,u),f)})}async function rk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZL),e);try{const i=new nM(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Tl(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tl(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Tl(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Tl(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw gp(t,m,f);En(t,m)}}catch(i){if(i instanceof Dr)throw i;En(t,"network-request-failed",{message:String(i)})}}async function tM(t,e,n,r,i={}){const a=await _i(t,e,n,r,i);return"mfaPendingCredential"in a&&En(t,"multi-factor-auth-required",{_serverResponse:a}),a}function ok(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?yp(t.config,i):`${t.config.apiScheme}://${i}`}class nM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ln(this.auth,"network-request-failed")),eM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ln(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e){return _i(t,"POST","/v1/accounts:delete",e)}async function ik(t,e){return _i(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oM(t,e=!1){const n=Ti(t),r=await n.getIdToken(e),i=wp(r);ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Bs(Ah(i.auth_time)),issuedAtTime:Bs(Ah(i.iat)),expirationTime:Bs(Ah(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ah(t){return Number(t)*1e3}function wp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jl("JWT malformed, contained fewer than 3 sections"),null;try{const i=z1(n);return i?JSON.parse(i):(jl("Failed to decode base64 JWT payload"),null)}catch(i){return jl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Wb(t){const e=wp(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dr&&iM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bs(this.lastLoginAt),this.creationTime=Bs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await zs(t,ik(n,{idToken:r}));ve(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?sk(a.providerUserInfo):[],u=lM(t.providerData,l),h=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),m=h?f:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new xf(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function aM(t){const e=Ti(t);await fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sk(t){return t.map(e=>{var{providerId:n}=e,r=mp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e){const n=await rk(t,{},async()=>{const r=na({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=ok(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",nk.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uM(t,e){return _i(t,"POST","/v2/accounts:revokeToken",bp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Wb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await cM(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new li;return r&&(ve(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(ve(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new li,this.toJSON())}_performRefresh(){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new xf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await zs(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oM(this,e)}reload(){return aM(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(fo(this.auth));const e=await this.getIdToken();return await zs(this,rM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,u,h,f,m;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(i=n.email)!==null&&i!==void 0?i:void 0,E=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,w=(l=n.photoURL)!==null&&l!==void 0?l:void 0,x=(u=n.tenantId)!==null&&u!==void 0?u:void 0,C=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,I=(f=n.createdAt)!==null&&f!==void 0?f:void 0,_=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:T,emailVerified:A,isAnonymous:L,providerData:F,stsTokenManager:W}=n;ve(T&&W,e,"internal-error");const R=li.fromJSON(this.name,W);ve(typeof T=="string",e,"internal-error"),yr(g,e.name),yr(b,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof L=="boolean",e,"internal-error"),yr(E,e.name),yr(w,e.name),yr(x,e.name),yr(C,e.name),yr(I,e.name),yr(_,e.name);const H=new Hn({uid:T,auth:e,email:b,emailVerified:A,displayName:g,isAnonymous:L,photoURL:w,phoneNumber:E,tenantId:x,stsTokenManager:R,createdAt:I,lastLoginAt:_});return F&&Array.isArray(F)&&(H.providerData=F.map(G=>Object.assign({},G))),C&&(H._redirectEventId=C),H}static async _fromIdTokenResponse(e,n,r=!1){const i=new li;i.updateFromServerResponse(n);const a=new Hn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fc(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ve(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?sk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new li;u.updateFromIdToken(r);const h=new Hn({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new xf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new Map;function $n(t){Yn(t instanceof Function,"Expected a class definition");let e=Kb.get(t);return e?(Yn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Kb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ak.type="NONE";const qb=ak;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t,e,n){return`firebase:${t}:${e}:${n}`}class ci{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Dl(this.userKey,i.apiKey,a),this.fullPersistenceKey=Dl("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ci($n(qb),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||$n(qb);const l=Dl(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(l);if(m){const g=Hn._fromJSON(e,m);f!==a&&(u=g),a=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new ci(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new ci(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fk(e))return"Blackberry";if(pk(e))return"Webos";if(ck(e))return"Safari";if((e.includes("chrome/")||uk(e))&&!e.includes("edge/"))return"Chrome";if(hk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lk(t=St()){return/firefox\//i.test(t)}function ck(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uk(t=St()){return/crios\//i.test(t)}function dk(t=St()){return/iemobile/i.test(t)}function hk(t=St()){return/android/i.test(t)}function fk(t=St()){return/blackberry/i.test(t)}function pk(t=St()){return/webos/i.test(t)}function xp(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dM(t=St()){var e;return xp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hM(){return _B()&&document.documentMode===10}function mk(t=St()){return xp(t)||hk(t)||pk(t)||fk(t)||/windows phone/i.test(t)||dk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t,e=[]){let n;switch(t){case"Browser":n=Gb(St());break;case"Worker":n=`${Gb(St())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e={}){return _i(t,"GET","/v2/passwordPolicy",bp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=6;class gM{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:mM,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yb(this),this.idTokenSubscription=new Yb(this),this.beforeStateQueue=new fM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ci.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ik(this,{idToken:e}),r=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(fo(this));const n=e?Ti(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(fo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(fo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($n(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pM(this),n=new gM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$n(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await ci.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&GL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wc(t){return Ti(t)}class Yb{constructor(e){this.auth=e,this.observer=null,this.addObserver=LB(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yM(t){kp=t}function bM(t){return kp.loadJS(t)}function wM(){return kp.gapiScript}function xM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t,e){const n=X1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(uc(a,e??{}))return i;En(i,"already-initialized")}return n.initialize({options:e})}function EM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($n);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CM(t,e,n){const r=Wc(t);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=vk(e),{host:l,port:u}=SM(e),h=u===null?"":`:${u}`;r.config.emulator={url:`${a}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),TM()}function vk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SM(t){const e=vk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Xb(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Xb(l)}}}function Xb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ui(t,e){return tM(t,"POST","/v1/accounts:signInWithIdp",bp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="http://localhost";class go extends yk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=mp(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new go(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ui(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ui(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ui(e,n)}buildRequest(){const e={requestUri:_M,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=na(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Ep{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends ia{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends ia{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return go._fromParams({providerId:Rn.PROVIDER_ID,signInMethod:Rn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rn.credentialFromTaggedObject(e)}static credentialFromError(e){return Rn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rn.credential(n,r)}catch{return null}}}Rn.GOOGLE_SIGN_IN_METHOD="google.com";Rn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends ia{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends ia{constructor(){super("twitter.com")}static credential(e,n){return go._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Tr.credential(n,r)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Hn._fromIdTokenResponse(e,r,i),l=Jb(r);return new vi({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Jb(r);return new vi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Jb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Dr{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new pc(e,n,r,i)}}function bk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?pc._fromErrorAndOperation(t,a,e,r):a})}async function PM(t,e,n=!1){const r=await zs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e,n=!1){const{auth:r}=t;if(Fn(r.app))return Promise.reject(fo(r));const i="reauthenticate";try{const a=await zs(t,bk(r,i,e,t),n);ve(a.idToken,r,"internal-error");const l=wp(a.idToken);ve(l,r,"internal-error");const{sub:u}=l;return ve(t.uid===u,r,"user-mismatch"),vi._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&En(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(t,e,n=!1){if(Fn(t.app))return Promise.reject(fo(t));const r="signIn",i=await bk(t,r,e),a=await vi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function AM(t,e,n,r){return Ti(t).onIdTokenChanged(e,n,r)}function NM(t,e,n){return Ti(t).beforeAuthStateChanged(e,n)}const mc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mc,"1"),this.storage.removeItem(mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=1e3,LM=10;class xk extends wk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);hM()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,LM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xk.type="LOCAL";const MM=xk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk extends wk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kk.type="SESSION";const Ek=kk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(n.origin,a)),h=await RM(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const f=Cp("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(b.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return window}function DM(t){wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(){return typeof wn().WorkerGlobalScope<"u"&&typeof wn().importScripts=="function"}async function FM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HM(){return Ck()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="firebaseLocalStorageDb",$M=1,gc="firebaseLocalStorage",Tk="fbase_key";class sa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qc(t,e){return t.transaction([gc],e?"readwrite":"readonly").objectStore(gc)}function VM(){const t=indexedDB.deleteDatabase(Sk);return new sa(t).toPromise()}function kf(){const t=indexedDB.open(Sk,$M);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gc,{keyPath:Tk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gc)?e(r):(r.close(),await VM(),e(await kf()))})})}async function Qb(t,e,n){const r=qc(t,!0).put({[Tk]:e,value:n});return new sa(r).toPromise()}async function zM(t,e){const n=qc(t,!1).get(e),r=await new sa(n).toPromise();return r===void 0?null:r.value}function Zb(t,e){const n=qc(t,!0).delete(e);return new sa(n).toPromise()}const WM=800,KM=3;class _k{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ck()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(HM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FM(),!this.activeServiceWorker)return;this.sender=new jM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kf();return await Qb(e,mc,"1"),await Zb(e,mc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=qc(i,!1).getAll();return new sa(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_k.type="LOCAL";const qM=_k;new oa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e){return e?$n(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends yk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ui(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ui(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GM(t){return OM(t.auth,new Sp(t),t.bypassAuthState)}function YM(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),IM(n,new Sp(t),t.bypassAuthState)}async function XM(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),PM(n,new Sp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GM;case"linkViaPopup":case"linkViaRedirect":return XM;case"reauthViaPopup":case"reauthViaRedirect":return YM;default:En(this.auth,"internal-error")}}resolve(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new oa(2e3,1e4);async function QM(t,e,n){if(Fn(t.app))return Promise.reject(ln(t,"operation-not-supported-in-this-environment"));const r=Wc(t);YL(t,e,Ep);const i=Pk(r,n);return new lo(r,"signInViaPopup",e,i).executeNotNull()}class lo extends Ik{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Yn(this.filter.length===1,"Popup operations only handle one event");const e=Cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JM.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="pendingRedirect",Fl=new Map;class eR extends Ik{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fl.get(this.auth._key());if(!e){try{const r=await tR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fl.set(this.auth._key(),e)}return this.bypassAuthState||Fl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tR(t,e){const n=oR(e),r=rR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function nR(t,e){Fl.set(t._key(),e)}function rR(t){return $n(t._redirectPersistence)}function oR(t){return Dl(ZM,t.config.apiKey,t.name)}async function iR(t,e,n=!1){if(Fn(t.app))return Promise.reject(fo(t));const r=Wc(t),i=Pk(r,e),l=await new eR(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=10*60*1e3;class aR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ok(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ln(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sR&&this.cachedEventUids.clear(),this.cachedEventUids.has(ew(e))}saveEventToCache(e){this.cachedEventUids.add(ew(e)),this.lastProcessedEventTime=Date.now()}}function ew(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ok({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ok(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(t,e={}){return _i(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dR=/^https?/;async function hR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cR(t);for(const n of e)try{if(fR(n))return}catch{}En(t,"unauthorized-domain")}function fR(t){const e=wf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!dR.test(n))return!1;if(uR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new oa(3e4,6e4);function tw(){const t=wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mR(t){return new Promise((e,n)=>{var r,i,a;function l(){tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tw(),n(ln(t,"network-request-failed"))},timeout:pR.get()})}if(!((i=(r=wn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=wn().gapi)===null||a===void 0)&&a.load)l();else{const u=xM("iframefcb");return wn()[u]=()=>{gapi.load?l():n(ln(t,"network-request-failed"))},bM(`${wM()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Ul=null,e})}let Ul=null;function gR(t){return Ul=Ul||mR(t),Ul}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new oa(5e3,15e3),yR="__/auth/iframe",bR="emulator/auth/iframe",wR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kR(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yp(e,bR):`https://${t.config.authDomain}/${yR}`,r={apiKey:e.apiKey,appName:t.name,v:ra},i=xR.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${na(r).slice(1)}`}async function ER(t){const e=await gR(t),n=wn().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:kR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wR,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=ln(t,"network-request-failed"),u=wn().setTimeout(()=>{a(l)},vR.get());function h(){wn().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SR=500,TR=600,_R="_blank",PR="http://localhost";class nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IR(t,e,n,r=SR,i=TR){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},CR),{width:r.toString(),height:i.toString(),top:a,left:l}),f=St().toLowerCase();n&&(u=uk(f)?_R:n),lk(f)&&(e=e||PR,h.scrollbars="yes");const m=Object.entries(h).reduce((b,[E,w])=>`${b}${E}=${w},`,"");if(dM(f)&&u!=="_self")return OR(e||"",u),new nw(null);const g=window.open(e||"",u,m);ve(g,t,"popup-blocked");try{g.focus()}catch{}return new nw(g)}function OR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="__/auth/handler",NR="emulator/auth/handler",BR=encodeURIComponent("fac");async function rw(t,e,n,r,i,a){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ra,eventId:i};if(e instanceof Ep){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",BB(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof ia){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${BR}=${encodeURIComponent(h)}`:"";return`${LR(t)}?${na(u).slice(1)}${f}`}function LR({config:t}){return t.emulator?yp(t,NR):`https://${t.authDomain}/${AR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="webStorageSupport";class MR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ek,this._completeRedirectFn=iR,this._overrideRedirectResult=nR}async _openPopup(e,n,r,i){var a;Yn((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await rw(e,n,r,wf(),i);return IR(e,l,Cp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await rw(e,n,r,wf(),i);return DM(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Yn(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ER(e),r=new aR(e);return n.register("authEvent",i=>(ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nh,{type:Nh},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Nh];l!==void 0&&n(!!l),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mk()||ck()||xp()}}const RR=MR;var ow="@firebase/auth",iw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FR(t){$s(new gi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;ve(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gk(t)},f=new vM(r,i,a,h);return EM(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$s(new gi("auth-internal",e=>{const n=Wc(e.getProvider("auth").getImmediate());return(r=>new jR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(ow,iw,DR(t)),ai(ow,iw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=5*60,HR=K1("authIdTokenMaxAge")||UR;let sw=null;const $R=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HR)return;const i=n==null?void 0:n.token;sw!==i&&(sw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function VR(t=ML()){const e=X1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kM(t,{popupRedirectResolver:RR,persistence:[qM,MM,Ek]}),r=K1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=$R(a.toString());NM(n,l,()=>l(n.currentUser)),AM(n,u=>l(u))}}const i=xB("auth");return i&&CM(n,`http://${i}`),n}function zR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ln("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",zR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FR("Browser");const WR={apiKey:"AIzaSyA5f6W0sWwal8ZsClzuxjo97DH5lYtt7wI",authDomain:"blog-website-fceb1.firebaseapp.com",projectId:"blog-website-fceb1",storageBucket:"blog-website-fceb1.firebasestorage.app",messagingSenderId:"648666757418",appId:"1:648666757418:web:95559e876e697e386ac653"};J1(WR);const KR=new Rn,qR=VR(),GR=async()=>{let t=null;return await QM(qR,KR).then(e=>{t=e.user}).catch(e=>{console.log(e)}),t},aw=({type:t})=>{let{userAuth:{access_token:e},setUserAuth:n}=S.useContext(nt);const r=(l,u)=>{fe.post("https://blog-server-b1gn.onrender.com"+l,u).then(({data:h})=>{cc("user",JSON.stringify(h)),n(h)}).catch(({response:h})=>{te.error(h.data.error)})},i=l=>{l.preventDefault();let u=t=="sign-in"?"/sign-in":"/sign-up",h=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,f=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/,m=new FormData(formElement),g={};for(let[x,C]of m.entries())g[x]=C;let{fullname:b,email:E,password:w}=g;if((b==null?void 0:b.length)<3)return te.error("Full Name must be at least 3 letters long");if(!E.length)return te.error("Enter valid email");if(!h.test(E))return te.error("Email is invalid");if(!f.test(w))return te.error("Password should be 6 to 20 characters long with a numeric, 1 lowercase and 1 uppercase letters");r(u,g)},a=l=>{l.preventDefault(),GR().then(u=>{let h="/google-auth",f={access_token:u.accessToken};r(h,f)}).catch(u=>(te.error("trouble login through Google"),console.log(u)))};return y.jsx(y.Fragment,{children:e?y.jsx(Xl,{to:"/"}):y.jsx(tt,{keyValue:t,children:y.jsxs("section",{className:"flex items-center justify-center h-cover",children:[y.jsx(Qn,{}),y.jsxs("form",{id:"formElement",className:"w-[80%] max-w-[400px]",children:[y.jsx("h1",{className:"mb-24 text-4xl text-center capitalize font-gelasio",children:t=="sign-in"?"Welcome back":"Join us today"}),t!="sign-in"?y.jsx(jn,{name:"fullname",type:"text",placeholder:"Full Name",icon:"fi-br-user"}):"",y.jsx(jn,{name:"email",type:"email",placeholder:"Email",icon:"fi-br-envelope"}),y.jsx(jn,{name:"password",type:"password",placeholder:"Password",icon:"fi-br-key"}),y.jsx("button",{className:"btn-dark center mt-14",type:"submit",onClick:i,children:t.replace("-"," ")}),y.jsxs("div",{className:"relative flex items-center w-full gap-2 my-10 font-bold text-black uppercase opacity-30",children:[y.jsx("hr",{className:"w-1/2 border-black"}),y.jsx("p",{children:"or"}),y.jsx("hr",{className:"w-1/2 border-black"})]}),y.jsxs("button",{className:"flex items-center justify-center btn-dark gap-4 w-[90%] center",onClick:a,children:[y.jsx("img",{src:I_,alt:"google icon",className:"w-5"}),"continue with google"]}),t=="sign-in"?y.jsxs("div",{className:"flex items-center justify-center mt-6",children:[y.jsx("p",{className:"text-xl text-center text-dark-grey",children:"Don't have an account?"}),y.jsx(Be,{to:"/sign-up",className:"ml-1 text-xl text-black underline",children:"Join us today"})]}):y.jsxs("div",{className:"flex items-center justify-center mt-6",children:[y.jsx("p",{className:"text-xl text-center text-dark-grey",children:"Already a member?"}),y.jsx(Be,{to:"/sign-in",className:"ml-1 text-xl text-black underline",children:"Sign In here"})]})]})]})})})},Ak="/assets/logo-dark-hvbxHG66.png",Nk="/assets/logo-light-DV8Hu2aC.png",YR=()=>{const t=bo(),{userAuth:{username:e,isAdmin:n,access_token:r},setUserAuth:i}=S.useContext(nt),a=()=>{fB("user"),i({access_token:null}),t("/sign-in")};return y.jsx(tt,{transition:{duration:.2},className:"absolute right-0 z-50",children:y.jsxs("div",{className:"absolute right-0 duration-200 bg-white border border-grey w-60",children:[n?y.jsxs(Be,{to:"/editor",className:"flex gap-2 py-4 pl-8 link md:hidden",children:[y.jsx("i",{className:"fi fi-br-edit"}),y.jsx("p",{children:"Write"})]}):null,y.jsxs(Be,{to:`/user/${e}`,className:"flex items-center gap-2 py-4 pl-8 link",children:[y.jsx("i",{className:"fi fi-br-user"}),y.jsx("p",{children:"Profile"})]}),n?y.jsxs(Be,{to:"/dashboard/blogs",className:"flex items-center gap-2 py-4 pl-8 link",children:[y.jsx("i",{className:"fi fi-br-apps"}),y.jsx("p",{children:"Dashboard"})]}):null,y.jsxs(Be,{to:"/settings/edit-profile",className:"flex items-center gap-2 py-4 pl-8 link",children:[y.jsx("i",{className:"fi fi-ss-settings"}),y.jsx("p",{children:"Settings"})]}),y.jsx("span",{className:"absolute border-t border-grey w-[100%]"}),y.jsxs("button",{className:"w-full p-4 py-4 pl-8 text-left hover:bg-grey",onClick:a,children:[y.jsxs("h2",{className:"flex items-center gap-2 !text-base font-bold",children:[y.jsx("i",{className:"text-xl fi fi-rr-exit"}),"Sign Out"]}),y.jsxs("p",{className:"text-sm text-dark-grey",children:["@",e]})]})]})})},XR=()=>{const[t,e]=S.useState(!1),{userAuth:n,userAuth:{access_token:r,profile_img:i,new_notification_available:a,isAdmin:l},setUserAuth:u}=S.useContext(nt);let{theme:h,setTheme:f}=S.useContext(uu);const[m,g]=S.useState(!1);let b=bo();S.useEffect(()=>{r&&fe.get("https://blog-server-b1gn.onrender.com/new-notification",{headers:{Authorization:`Bearer ${r}`}}).then(({data:I})=>{u({...n,...I})}).catch(I=>{console.log(I)})},[r]);const E=()=>{g(I=>!I)},w=I=>{let _=I.target.value;I.keyCode===13&&_.length&&b(`/search/${_}`)},x=()=>{setTimeout(()=>{g(!1)},300)},C=()=>{let I=h=="light"?"dark":"light";f(I),document.body.setAttribute("data-theme",I),cc("theme",I)};return y.jsxs(y.Fragment,{children:[y.jsxs("nav",{className:"z-50 navbar",children:[y.jsx(Be,{to:"/",className:"flex-none w-10 h-10 cursor-pointer",children:y.jsx("img",{src:h=="light"?Ak:Nk,alt:"logo",className:"flex-none w-full"})}),y.jsxs("div",{className:"absolute left-0 w-full bg-white top-full mt-0.5 border-b border-grey py-4 px-[5vw] md:border-0 md:block md:relative md:inset-0 md:p-0 md:w-auto md:show "+(t?"show":"hide"),children:[y.jsx("input",{type:"text",placeholder:"Search",className:"w-full p-4 pl-6 md:w-auto bg-grey pr-[12%] md:pr-6 rounded-full placeholder:text-dark-grey md:pl-12",onKeyDown:w}),y.jsx("i",{className:"fi fi-br-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-xl text-dark-grey"})]}),y.jsxs("div",{className:"flex items-center gap-3 ml-auto md:gap-6",children:[y.jsx("button",{className:"flex items-center justify-center w-12 h-12 rounded-full md:hidden bg-grey",onClick:()=>e(I=>!I),children:y.jsx("i",{className:"text-xl fi fi-br-search"})}),l?y.jsxs(Be,{to:"/editor",className:"hidden gap-2 md:flex link",children:[y.jsx("i",{className:"fi fi-br-edit"}),y.jsx("p",{children:"Write"})]}):null,y.jsx("button",{className:"relative w-12 h-12 rounded-full bg-grey hover:bg-black/10",onClick:C,children:y.jsx("i",{className:"fi fi-br-"+(h=="light"?"moon-stars":"sun")+" !text-2xl block mt-1"})}),r?y.jsxs(y.Fragment,{children:[y.jsx(Be,{to:"/dashboard/notifications",children:y.jsxs("button",{className:"relative w-12 h-12 rounded-full bg-grey hover:bg-black/10",children:[y.jsx("i",{className:"block mt-1 text-xl fi fi-br-bell"}),a?y.jsx("span",{className:"absolute z-10 w-2 h-2 rounded-full bg-red top-[13px] right-[13px]"}):null]})}),y.jsxs("div",{className:"relative",onClick:E,onBlur:x,children:[y.jsx("button",{className:"w-12 h-12 mt-1",children:y.jsx("img",{src:i,alt:i,className:"object-cover w-full h-full rounded-full"})}),m?y.jsx(YR,{}):null]})]}):y.jsxs(y.Fragment,{children:[y.jsx(Be,{className:"py-2 btn-dark",to:"/sign-in",children:"Sign In"}),y.jsx(Be,{className:"hidden py-2 btn-light md:block",to:"/sign-up",children:"Sign Up"})]})]})]}),y.jsx($w,{})]})};let _l,di;const Gc=({routes:t,defaultHidden:e=[],defaultActiveIndex:n=0,children:r})=>{_l=S.useRef(),di=S.useRef();let[i,a]=S.useState(n),[l,u]=S.useState(!1),[h,f]=S.useState(window.innerWidth);const m=(g,b)=>{let{offsetWidth:E,offsetLeft:w}=g;_l.current.style.width=E+"px",_l.current.style.left=w+"px",a(b)};return S.useEffect(()=>{h>766&&i!=n&&m(di.current,n),l||window.addEventListener("resize",()=>{l||u(!0),f(window.innerWidth)})},[h]),y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"relative flex mb-8 overflow-x-auto bg-white border-b border-grey flex-nowrap",children:[t.map((g,b)=>y.jsx("button",{ref:b==n?di:null,className:"p-4 px-5 capitalize "+(i==b?"text-black ":"text-dark-grey ")+(e.includes(g)?" md:hidden":""),onClick:E=>{m(E.target,b)},children:g},b)),y.jsx("hr",{ref:_l,className:"absolute bottom-0 duration-300 border-dark-grey"})]}),Array.isArray(r)?r[i]:r]})},Ht=()=>y.jsx("div",{className:"w-12 mx-auto my-8",children:y.jsxs("svg",{"aria-hidden":"true",className:"w-12 h-12 mr-2 text-white animate-spin fill-dark-grey",viewBox:"0 0 100 101",fill:"none",children:[y.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),y.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})});let Bk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];const Pi=t=>{let e=new Date(t);return`${e.getDate()} ${Bk[e.getMonth()]}`},JR=t=>{let e=new Date(t);return`${e.getDate()} ${Bk[e.getMonth()]} ${e.getFullYear()}`},Yc=({content:t,author:e})=>{let{publishedAt:n,tags:r,title:i,desc:a,banner:l,activity:{total_likes:u},blog_id:h}=t,{fullname:f,username:m,profile_img:g}=e;return y.jsxs(Be,{to:`/blog/${h}`,className:"flex items-center gap-8 pb-5 mb-4 border-b border-grey",children:[y.jsxs("div",{className:"w-full",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-7",children:[y.jsx("img",{src:g,alt:m,className:"w-6 h-6 rounded-full"}),y.jsxs("p",{className:"line-clamp-1",children:[f," @",m]}),y.jsx("p",{className:"min-w-fit",children:Pi(n)})]}),y.jsx("h1",{className:"blog-title",children:i}),y.jsx("p",{className:"my-3 text-xl leading-7 font-gelasio max-sm:hidden md:max-[1100px]:hidden line-clamp-2",children:a}),y.jsxs("div",{className:"flex gap-4 mt-7",children:[y.jsx("span",{className:"px-4 py-1 btn-light",children:r[0]}),y.jsxs("span",{className:"flex items-center gap-2 ml-3 text-dark-grey",children:[y.jsx("i",{className:"text-xl fi fi-br-heart"}),u]})]})]}),y.jsx("div",{className:"h-28 aspect-square bg-grey",children:y.jsx("img",{src:l,className:"object-cover w-full h-full aspect-square"})})]})},lw=({blog:t,index:e})=>{let{title:n,blog_id:r,author:{personal_info:{fullname:i,username:a,profile_img:l}},publishedAt:u}=t;return y.jsxs(Be,{to:`/blog/${r}`,className:"flex gap-5 mb-8",children:[y.jsx("h2",{className:"blog-index",children:e<10?"0"+(e+1):e+1}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-7",children:[y.jsx("img",{src:l,alt:i,className:"w-6 h-6 rounded-full"}),y.jsxs("p",{className:"line-clamp-1",children:[i," @",a]}),y.jsx("p",{className:"min-w-fit",children:Pi(u)})]}),y.jsx("h1",{className:"blog-title",children:n})]})]})},yi=async({create_new_arr:t=!1,state:e,data:n,page:r,countRoute:i,data_to_send:a={},user:l=void 0})=>{let u,h={};return l&&(h.headers={Authorization:`Bearer ${l}`}),e!==null&&!t?u={...e,results:[...e.results,...n],page:r}:await fe.post("https://blog-server-b1gn.onrender.com"+i,a,h).then(({data:{totalDocs:f}})=>{u={results:n,page:1,totalDocs:f}}).catch(f=>{console.log(f)}),u},xn=({message:t})=>y.jsx("div",{className:"w-full p-4 mt-4 text-center rounded-full bg-grey/50",children:y.jsx("p",{children:t})}),bi=({state:t,fetchDataFunc:e,aditionalParam:n})=>{if(t!==null&&t.totalDocs>t.results.length)return y.jsx("button",{className:"flex items-center gap-2 p-2 px-3 rounded-md text-dark-grey hover:bg-grey/30",onClick:()=>e({...n,page:t.page+1}),children:"Load More"})},QR=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(null),[i,a]=S.useState("home");let l=["programming","cryptocurrency","hollywood","film making","social media","cooking","sweet","tech","artificial intelligense","finances","travel"];const u=({page:g=1})=>{fe.post("https://blog-server-b1gn.onrender.com/latest-blogs",{page:g}).then(async({data:b})=>{let E=await yi({state:t,data:b.blogs,page:g,countRoute:"/all-latest-blogs-count"});e(E)}).catch(b=>{console.log(b)})},h=({page:g=1})=>{fe.post("https://blog-server-b1gn.onrender.com/search-blogs",{tag:i,page:g}).then(async({data:b})=>{let E=await yi({state:t,data:b.blogs,page:g,countRoute:"/search-blogs-count",data_to_send:{tag:i}});e(E)}).catch(b=>{console.log(b)})},f=()=>{fe.get("https://blog-server-b1gn.onrender.com/trending-blogs").then(({data:g})=>{r(g.blogs)}).catch(g=>{console.log(g)})},m=g=>{var E,w;let b=(w=(E=g.target)==null?void 0:E.innerText)==null?void 0:w.toLowerCase();if(e(null),i===b){a("home");return}a(b)};return S.useEffect(()=>{var g;(g=di==null?void 0:di.current)==null||g.click(),i==="home"?u({page:1}):h({page:1}),n||f()},[i]),y.jsx(tt,{children:y.jsxs("section",{className:"flex justify-center gap-10 h-cover",children:[y.jsx("div",{className:"w-full",children:y.jsxs(Gc,{routes:[i,"trending blogs"],defaultHidden:["trending blogs"],children:[y.jsxs(y.Fragment,{children:[t===null?y.jsx(Ht,{}):t!=null&&t.results.length?t==null?void 0:t.results.map((g,b)=>y.jsx(tt,{transition:{duration:1,delay:b*.1},children:y.jsx(Yc,{content:g,author:g.author.personal_info})},b)):y.jsx(xn,{message:"No blogs published"}),y.jsx(bi,{state:t,fetchDataFunc:i==="home"?u:h})]}),y.jsx(y.Fragment,{children:n===null?y.jsx(Ht,{}):n!=null&&n.length?n==null?void 0:n.map((g,b)=>y.jsx(tt,{transition:{duration:1,delay:b*.1},children:y.jsx(lw,{blog:g,index:b})},b)):y.jsx(xn,{message:"No trending blogs found"})})]})}),y.jsx("div",{className:"min-w-[40%] lg:min-w-[400px] max-w-min border-l border-grey pl-8 pt-3 max-md:hidden",children:y.jsxs("div",{className:"flex flex-col gap-10",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"mb-8 !text-xl font-medium",children:"Stories from all interests"}),y.jsx("div",{className:"flex flex-wrap gap-3",children:l==null?void 0:l.map((g,b)=>y.jsx("button",{onClick:m,className:"tag "+(i===g?"!bg-black text-white":""),children:g},b))})]}),y.jsxs("div",{children:[y.jsxs("h2",{className:"!text-xl font-medium mb-8",children:["Trending ",y.jsx("i",{className:"fi fi-br-arrow-trend-up"})]}),n==null?y.jsx(Ht,{}):n!=null&&n.length?n==null?void 0:n.map((g,b)=>y.jsx(tt,{transition:{duration:1,delay:b*.1},children:y.jsx(lw,{blog:g,index:b})},b)):y.jsx(xn,{message:"No trending blogs found"})]})]})})]})})},ZR="/assets/blog-banner-dark-kQ_6mTEG.png",ej="/assets/blog-banner-light-CeC6Biu5.png",Tp=async t=>{let e=null;return await fe.get("https://blog-server-b1gn.onrender.com/get-upload-url").then(async({data:{uploadURL:n}})=>{await fe({method:"PUT",url:n,headers:{"Content-Type":"multipart/form-data"},data:t}).then(()=>{e=n.split("?")[0]})}),e};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var Ws=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tj(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}function Bh(){}Object.assign(Bh,{default:Bh,register:Bh,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),i=parseInt(n.getPropertyValue("border-left-width")),a=this.offsetTop-e.offsetTop<e.scrollTop,l=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,u=this.offsetLeft-e.offsetLeft<e.scrollLeft,h=this.offsetLeft-e.offsetLeft+this.clientWidth-i>e.scrollLeft+e.clientWidth,f=a&&!l;(a||l)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(u||h)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-i+this.clientWidth/2),(a||l||u||h)&&!t&&this.scrollIntoView(f)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let nj=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var Lk=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(Lk||{});const ye={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46},rj={LEFT:0};function aa(t,e,n="log",r,i="color: inherit"){if(!("console"in window)||!window.console[n])return;const a=["info","log","warn","error"].includes(n),l=[];switch(aa.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!a||t)return;break}r&&l.push(r);const u="Editor.js 2.31.0-rc.7";t&&(a?(l.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,i),e=`%c${u}%c ${e}`):e=`( ${u} )${e}`);try{a?r?console[n](`${e} %o`,...l):console[n](e,...l):console[n](e)}catch{}}aa.logLevel="VERBOSE";function oj(t){aa.logLevel=t}const Oe=aa.bind(window,!1),Qt=aa.bind(window,!0);function vo(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function We(t){return vo(t)==="function"||vo(t)==="asyncfunction"}function ht(t){return vo(t)==="object"}function Xn(t){return vo(t)==="string"}function ij(t){return vo(t)==="boolean"}function cw(t){return vo(t)==="number"}function uw(t){return vo(t)==="undefined"}function Zt(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function Mk(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function sj(t,e=()=>{},n=()=>{}){async function r(i,a,l){try{await i.function(i.data),await a(uw(i.data)?{}:i.data)}catch{l(uw(i.data)?{}:i.data)}}return t.reduce(async(i,a)=>(await i,r(a,e,n)),Promise.resolve())}function Rk(t){return Array.prototype.slice.call(t)}function vc(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function aj(t){return t.name.split(".").pop()}function lj(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function dw(t,e,n){let r;return(...i)=>{const a=this,l=()=>{r=null,t.apply(a,i)};window.clearTimeout(r),r=window.setTimeout(l,e)}}function Ef(t,e,n=void 0){let r,i,a,l=null,u=0;n||(n={});const h=function(){u=n.leading===!1?0:Date.now(),l=null,a=t.apply(r,i),l||(r=i=null)};return function(){const f=Date.now();!u&&n.leading===!1&&(u=f);const m=e-(f-u);return r=this,i=arguments,m<=0||m>e?(l&&(clearTimeout(l),l=null),u=f,a=t.apply(r,i),l||(r=i=null)):!l&&n.trailing!==!1&&(l=setTimeout(h,m)),a}}function cj(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function yc(t){return t[0].toUpperCase()+t.slice(1)}function Cf(t,...e){if(!e.length)return t;const n=e.shift();if(ht(t)&&ht(n))for(const r in n)ht(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Cf(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Cf(t,...e)}function _p(t){const e=cj();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function uj(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function dj(){return nj(10)}function hj(t){window.open(t,"_blank")}function fj(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function Sf(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&Qt(r,"warn")}function Ii(t,e,n){const r=n.value?"value":"get",i=n[r],a=`#${e}Cache`;if(n[r]=function(...l){return this[a]===void 0&&(this[a]=i.apply(this,...l)),this[a]},r==="get"&&n.set){const l=n.set;n.set=function(u){delete t[a],l.apply(this,u)}}return n}const jk=650;function Oi(){return window.matchMedia(`(max-width: ${jk}px)`).matches}const Tf=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function pj(t,e){const n=Array.isArray(t)||ht(t),r=Array.isArray(e)||ht(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}let $=class kt{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const i=document.createElement(e);if(Array.isArray(n)){const a=n.filter(l=>l!==void 0);i.classList.add(...a)}else n&&i.classList.add(n);for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a]);return i}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),i=e.parentNode;i.insertBefore(r,e),i.insertBefore(e,n),i.insertBefore(n,r),i.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return Rk(e.querySelectorAll(kt.allInputsSelector)).reduce((n,r)=>kt.isNativeInput(r)||kt.containsOnlyInlineElements(r)?[...n,r]:[...n,...kt.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",i=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let a=e[r];if(kt.isSingleTag(a)&&!kt.isNativeInput(a)&&!kt.isLineBreakTag(a))if(a[i])a=a[i];else if(a.parentNode[i])a=a.parentNode[i];else return a.parentNode;return this.getDeepestNode(a,n)}return e}static isElement(e){return cw(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return cw(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(kt.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=kt.isContentEditable(e);return n}static isNodeEmpty(e,n){let r;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?r=e.value:r=e.textContent.replace("",""),n&&(r=r.replace(new RegExp(n,"g"),"")),r.length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,n){const r=[e];for(;r.length>0;)if(e=r.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,n))return!1;e.childNodes&&r.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=kt.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return kt.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;Xn(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=i=>!kt.blockElements.includes(i.tagName.toLowerCase())&&Array.from(i.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return kt.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...kt.getDeepestBlockElements(r)],[])}static getHolder(e){return Xn(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,a=n.top+i,l=n.left+r;return{top:a,left:l,bottom:a+n.height,right:l+n.width}}};function mj(t){return!/[^\t\n\r ]/.test(t)}function gj(t){const e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,i=parseFloat(e.paddingTop),a=parseFloat(e.borderTopWidth),l=parseFloat(e.marginTop),u=n*.8,h=(r-n)/2;return l+a+i+h+u}function Dk(t){t.dataset.empty=$.isEmpty(t)?"true":"false"}const vj={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},yj={Text:"",Link:"",Bold:"",Italic:""},bj={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},wj={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},Fk={ui:vj,toolNames:yj,tools:bj,blockTunes:wj},Uk=class Zo{static ui(e,n){return Zo._t(e,n)}static t(e,n){return Zo._t(e,n)}static setDictionary(e){Zo.currentDictionary=e}static _t(e,n){const r=Zo.getNamespace(e);return!r||!r[n]?n:r[n]}static getNamespace(e){return e.split(".").reduce((n,r)=>!n||!Object.keys(n).length?{}:n[r],Zo.currentDictionary)}};Uk.currentDictionary=Fk;let Ct=Uk;class Hk extends Error{}class la{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=i=>{const a=n(i),l=this.subscribers[e].indexOf(r);return l!==-1&&this.subscribers[e].splice(l,1),a};this.subscribers[e].push(r)}emit(e,n){Zt(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,i)=>{const a=i(r);return a!==void 0?a:r},n)}off(e,n){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers={}}}function Ln(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},get focusable(){return t.focusable},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()},getActiveToolboxEntry(){return t.getActiveToolboxEntry()}})}let ca=class{constructor(){this.allListeners=[]}on(e,n,r,i=!1){const a=fj("l"),l={id:a,element:e,eventType:n,handler:r,options:i};if(!this.findOne(e,n,r))return this.allListeners.push(l),e.addEventListener(n,r,i),a}off(e,n,r,i){const a=this.findAll(e,n,r);a.forEach((l,u)=>{const h=this.allListeners.indexOf(a[u]);h>-1&&(this.allListeners.splice(h,1),l.element.removeEventListener(l.eventType,l.handler,l.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const i=this.findAll(e,n,r);return i.length>0?i[0]:null}findAll(e,n,r){let i;const a=e?this.findByEventTarget(e):[];return e&&n&&r?i=a.filter(l=>l.eventType===n&&l.handler===r):e&&n?i=a.filter(l=>l.eventType===n):i=a,i}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}},Te=class $k{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new ca,this.readOnlyMutableListeners={on:(r,i,a,l=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,i,a,l))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===$k)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},me=class wr{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?$.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(wr.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${wr.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${wr.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!wr.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return Oe("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return Oe("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const i=document.createElement("span");if(i.getBoundingClientRect){i.appendChild(document.createTextNode("")),n.insertNode(i),r=i.getBoundingClientRect();const a=i.parentNode;a.removeChild(i),a.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),i=window.getSelection();return $.isNativeInput(e)?$.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),i.removeAllRanges(),i.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=wr.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=wr.range;if(e===null)return;const n=$.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return $.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=$.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=wr.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const i=window.getSelection();let a=null;return!i||!i.anchorNode||!i.focusNode?null:([i.anchorNode,i.focusNode].forEach(l=>{let u=r;for(;u>0&&l.parentNode&&!(l.tagName===e&&(a=l,n&&l.classList&&!l.classList.contains(n)&&(a=null),a));)l=l.parentNode,u--}),a)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}};function xj(t,e){const{type:n,target:r,addedNodes:i,removedNodes:a}=t;return t.type==="attributes"&&t.attributeName==="data-empty"?!1:!!(e.contains(r)||n==="childList"&&(Array.from(i).some(l=>l===e)||Array.from(a).some(l=>l===e)))}const _f="redactor dom changed",Vk="block changed",zk="fake cursor is about to be toggled",Wk="fake cursor have been set",Ks="editor mobile layout toggled";function Pf(t,e){if(!t.conversionConfig)return!1;const n=t.conversionConfig[e];return We(n)||Xn(n)}function bc(t,e){return Pf(t.tool,e)}function Kk(t,e){return Object.entries(t).some(([n,r])=>e[n]&&pj(e[n],r))}async function qk(t,e){const n=(await t.save()).data,r=e.find(i=>i.name===t.name);return r!==void 0&&!Pf(r,"export")?[]:e.reduce((i,a)=>{if(!Pf(a,"import")||a.toolbox===void 0)return i;const l=a.toolbox.filter(u=>{if(Zt(u)||u.icon===void 0)return!1;if(u.data!==void 0){if(Kk(u.data,n))return!1}else if(a.name===t.name)return!1;return!0});return i.push({...a,toolbox:l}),i},[])}function hw(t,e){return t.mergeable?t.name===e.name?!0:bc(e,"export")&&bc(t,"import"):!1}function kj(t,e){const n=e==null?void 0:e.export;return We(n)?n(t):Xn(n)?t[n]:(n!==void 0&&Oe("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function fw(t,e,n){const r=e==null?void 0:e.import;return We(r)?r(t,n):Xn(r)?{[r]:t}:(r!==void 0&&Oe("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var He=(t=>(t.Default="default",t.Separator="separator",t.Html="html",t))(He||{}),Mn=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(Mn||{});let Vn=class xr extends la{constructor({id:e=dj(),data:n,tool:r,readOnly:i,tunesData:a},l){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(u=void 0)=>{const h=u===void 0,f=u instanceof InputEvent;!h&&!f&&this.detectToolRootChange(u);let m;h||f?m=!0:m=!(u.length>0&&u.every(g=>{const{addedNodes:b,removedNodes:E,target:w}=g;return[...Array.from(b),...Array.from(E),w].some(x=>($.isElement(x)||(x=x.parentElement),x&&x.closest('[data-mutation-free="true"]')!==null))})),m&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.editorEventBus=l||null,this.blockAPI=new Ln(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,i),this.tunes=r.tunes,this.composeTunes(a),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=$.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!Zt(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return We(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=$.isEmpty(this.pluginsContent,"/"),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var n,r;this.holder.classList.toggle(xr.CSS.selected,e);const i=e===!0&&me.isRangeInsideContainer(this.holder),a=e===!1&&me.isFakeCursorInsideContainer(this.holder);(i||a)&&((n=this.editorEventBus)==null||n.emit(zk,{state:e}),i?me.addFakeCursor():me.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(Wk,{state:e}))}get selected(){return this.holder.classList.contains(xr.CSS.selected)}set stretched(e){this.holder.classList.toggle(xr.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(xr.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(xr.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(We(this.toolInstance[e])){e==="appendCallback"&&Oe("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){Oe(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([a,l])=>{if(We(l.save))try{n[a]=l.save()}catch(u){Oe(`Tune ${l.constructor.name} save method throws an Error %o`,"warn",u)}});const r=window.performance.now();let i;return Promise.resolve(e).then(a=>(i=window.performance.now(),{id:this.id,tool:this.name,data:a,tunes:n,time:i-r})).catch(a=>{Oe(`Saving process for ${this.name} tool failed due to the ${a}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=[],n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return $.isElement(r)?e.push({type:He.Html,element:r}):Array.isArray(r)?e.push(...r):e.push(r),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(i=>i.render()).forEach(i=>{$.isElement(i)?n.push({type:He.Html,element:i}):Array.isArray(i)?n.push(...i):n.push(i)}),{toolTunes:e,commonTunes:n}}updateCurrentInput(){this.currentInput=$.isNativeInput(document.activeElement)||!me.anchorNode?document.activeElement:me.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),We(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data,r=e;return r==null?void 0:r.find(i=>Kk(i.data,n))}async exportDataAsString(){const e=await this.data;return kj(e,this.tool.conversionConfig)}compose(){const e=$.make("div",xr.CSS.wrapper),n=$.make("div",xr.CSS.content),r=this.toolInstance.render();e.setAttribute("data-cy","block-wrapper"),e.dataset.id=this.id,this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let i=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(a=>{if(We(a.wrap))try{i=a.wrap(i)}catch(l){Oe(`Tune ${a.constructor.name} wrap method throws an Error %o`,"warn",l)}}),e.appendChild(i),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),$.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),$.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(i=>xj(i,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(_f,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(_f,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(Dk)}};class Ej extends Te{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},i,a,l,u)=>{const h=this.Editor.BlockManager.insert({id:u,tool:e,data:n,index:i,needToFocus:a,replace:l});return new Ln(h)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new Vn({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,n,r)=>{const{BlockManager:i}=this.Editor,a=i.getBlockById(e);if(a===void 0)throw new Error(`Block with id "${e}" not found`);const l=await i.update(a,n,r);return new Ln(l)},this.convert=async(e,n,r)=>{var i,a;const{BlockManager:l,Tools:u}=this.Editor,h=l.getBlockById(e);if(!h)throw new Error(`Block with id "${e}" not found`);const f=u.blockTools.get(h.name),m=u.blockTools.get(n);if(!m)throw new Error(`Block Tool with type "${n}" not found`);const g=((i=f==null?void 0:f.conversionConfig)==null?void 0:i.export)!==void 0,b=((a=m.conversionConfig)==null?void 0:a.import)!==void 0;if(g&&b){const E=await l.convert(h,n,r);return new Ln(E)}else{const E=[g?!1:yc(h.name),b?!1:yc(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${h.name}" to "${n}" is not possible. ${E} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const r=e.map(({id:i,type:a,data:l})=>this.Editor.BlockManager.composeBlock({id:i,tool:a||this.config.defaultBlock,data:l}));return this.Editor.BlockManager.insertMany(r,n),r.map(i=>new Ln(i))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){Qt("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){Qt("There is no block at index `"+e+"`","warn");return}return new Ln(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(Qt("There is no block with id `"+e+"`","warn"),null):new Ln(n)}getBlockByElement(e){const n=this.Editor.BlockManager.getBlock(e);if(n===void 0){Qt("There is no block corresponding to element `"+e+"`","warn");return}return new Ln(n)}swap(e,n){Oe("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(n)}catch(n){Qt(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){Sf(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){Oe("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}function Cj(t,e){return typeof t=="number"?e.BlockManager.getBlockByIndex(t):typeof t=="string"?e.BlockManager.getBlockById(t):e.BlockManager.getBlockById(t.id)}class Sj extends Te{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>{const i=Cj(e,this.Editor);return i===void 0?!1:(this.Editor.Caret.setToBlock(i,n,r),!0)},this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class Tj extends Te{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}let _j=class Gk extends Te{static getNamespace(e,n){return n?`blockTunes.${e}`:`tools.${e}`}get methods(){return{t:()=>{Qt("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,n){return Object.assign(this.methods,{t:r=>Ct.t(Gk.getNamespace(e,n),r)})}};class Pj extends Te{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,n){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,n)})}}class Ij extends Te{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class Oj extends Te{get methods(){return{on:(e,n,r,i)=>this.on(e,n,r,i),off:(e,n,r,i)=>this.off(e,n,r,i),offById:e=>this.offById(e)}}on(e,n,r,i){return this.listeners.on(e,n,r,i)}off(e,n,r,i){this.listeners.off(e,n,r,i)}offById(e){this.listeners.offById(e)}}var Yk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return n[a].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=r,i.d=function(a,l,u){i.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,l){if(1&l&&(a=i(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var h in a)i.d(u,h,(function(f){return a[f]}).bind(null,h));return u},i.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(l,"a",l),l},i.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},i.p="/",i(i.s=0)}([function(n,r,i){i(1),n.exports=function(){var a=i(6),l="cdx-notify--bounce-in",u=null;return{show:function(h){if(h.message){(function(){if(u)return!0;u=a.getWrapper(),document.body.appendChild(u)})();var f=null,m=h.time||8e3;switch(h.type){case"confirm":f=a.confirm(h);break;case"prompt":f=a.prompt(h);break;default:f=a.alert(h),window.setTimeout(function(){f.remove()},m)}u.appendChild(f),f.classList.add(l)}}}}()},function(n,r,i){var a=i(2);typeof a=="string"&&(a=[[n.i,a,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};i(4)(a,l),a.locals&&(n.exports=a.locals)},function(n,r,i){(n.exports=i(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(i){var a=[];return a.toString=function(){return this.map(function(l){var u=function(h,f){var m=h[1]||"",g=h[3];if(!g)return m;if(f&&typeof btoa=="function"){var b=(w=g,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(w))))+" */"),E=g.sources.map(function(x){return"/*# sourceURL="+g.sourceRoot+x+" */"});return[m].concat(E).concat([b]).join(`
`)}var w;return[m].join(`
`)}(l,i);return l[2]?"@media "+l[2]+"{"+u+"}":u}).join("")},a.i=function(l,u){typeof l=="string"&&(l=[[null,l,""]]);for(var h={},f=0;f<this.length;f++){var m=this[f][0];typeof m=="number"&&(h[m]=!0)}for(f=0;f<l.length;f++){var g=l[f];typeof g[0]=="number"&&h[g[0]]||(u&&!g[2]?g[2]=u:u&&(g[2]="("+g[2]+") and ("+u+")"),a.push(g))}},a}},function(n,r,i){var a,l,u={},h=(a=function(){return window&&document&&document.all&&!window.atob},function(){return l===void 0&&(l=a.apply(this,arguments)),l}),f=function(R){var H={};return function(G){if(typeof G=="function")return G();if(H[G]===void 0){var ae=(function(oe){return document.querySelector(oe)}).call(this,G);if(window.HTMLIFrameElement&&ae instanceof window.HTMLIFrameElement)try{ae=ae.contentDocument.head}catch{ae=null}H[G]=ae}return H[G]}}(),m=null,g=0,b=[],E=i(5);function w(R,H){for(var G=0;G<R.length;G++){var ae=R[G],oe=u[ae.id];if(oe){oe.refs++;for(var J=0;J<oe.parts.length;J++)oe.parts[J](ae.parts[J]);for(;J<ae.parts.length;J++)oe.parts.push(A(ae.parts[J],H))}else{var re=[];for(J=0;J<ae.parts.length;J++)re.push(A(ae.parts[J],H));u[ae.id]={id:ae.id,refs:1,parts:re}}}}function x(R,H){for(var G=[],ae={},oe=0;oe<R.length;oe++){var J=R[oe],re=H.base?J[0]+H.base:J[0],ee={css:J[1],media:J[2],sourceMap:J[3]};ae[re]?ae[re].parts.push(ee):G.push(ae[re]={id:re,parts:[ee]})}return G}function C(R,H){var G=f(R.insertInto);if(!G)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var ae=b[b.length-1];if(R.insertAt==="top")ae?ae.nextSibling?G.insertBefore(H,ae.nextSibling):G.appendChild(H):G.insertBefore(H,G.firstChild),b.push(H);else if(R.insertAt==="bottom")G.appendChild(H);else{if(typeof R.insertAt!="object"||!R.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var oe=f(R.insertInto+" "+R.insertAt.before);G.insertBefore(H,oe)}}function I(R){if(R.parentNode===null)return!1;R.parentNode.removeChild(R);var H=b.indexOf(R);H>=0&&b.splice(H,1)}function _(R){var H=document.createElement("style");return R.attrs.type===void 0&&(R.attrs.type="text/css"),T(H,R.attrs),C(R,H),H}function T(R,H){Object.keys(H).forEach(function(G){R.setAttribute(G,H[G])})}function A(R,H){var G,ae,oe,J;if(H.transform&&R.css){if(!(J=H.transform(R.css)))return function(){};R.css=J}if(H.singleton){var re=g++;G=m||(m=_(H)),ae=W.bind(null,G,re,!1),oe=W.bind(null,G,re,!0)}else R.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(G=function(ee){var ue=document.createElement("link");return ee.attrs.type===void 0&&(ee.attrs.type="text/css"),ee.attrs.rel="stylesheet",T(ue,ee.attrs),C(ee,ue),ue}(H),ae=(function(ee,ue,ke){var X=ke.css,se=ke.sourceMap,Q=ue.convertToAbsoluteUrls===void 0&&se;(ue.convertToAbsoluteUrls||Q)&&(X=E(X)),se&&(X+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(se))))+" */");var N=new Blob([X],{type:"text/css"}),V=ee.href;ee.href=URL.createObjectURL(N),V&&URL.revokeObjectURL(V)}).bind(null,G,H),oe=function(){I(G),G.href&&URL.revokeObjectURL(G.href)}):(G=_(H),ae=(function(ee,ue){var ke=ue.css,X=ue.media;if(X&&ee.setAttribute("media",X),ee.styleSheet)ee.styleSheet.cssText=ke;else{for(;ee.firstChild;)ee.removeChild(ee.firstChild);ee.appendChild(document.createTextNode(ke))}}).bind(null,G),oe=function(){I(G)});return ae(R),function(ee){if(ee){if(ee.css===R.css&&ee.media===R.media&&ee.sourceMap===R.sourceMap)return;ae(R=ee)}else oe()}}n.exports=function(R,H){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(H=H||{}).attrs=typeof H.attrs=="object"?H.attrs:{},H.singleton||typeof H.singleton=="boolean"||(H.singleton=h()),H.insertInto||(H.insertInto="head"),H.insertAt||(H.insertAt="bottom");var G=x(R,H);return w(G,H),function(ae){for(var oe=[],J=0;J<G.length;J++){var re=G[J];(ee=u[re.id]).refs--,oe.push(ee)}for(ae&&w(x(ae,H),H),J=0;J<oe.length;J++){var ee;if((ee=oe[J]).refs===0){for(var ue=0;ue<ee.parts.length;ue++)ee.parts[ue]();delete u[ee.id]}}}};var L,F=(L=[],function(R,H){return L[R]=H,L.filter(Boolean).join(`
`)});function W(R,H,G,ae){var oe=G?"":ae.css;if(R.styleSheet)R.styleSheet.cssText=F(H,oe);else{var J=document.createTextNode(oe),re=R.childNodes;re[H]&&R.removeChild(re[H]),re.length?R.insertBefore(J,re[H]):R.appendChild(J)}}},function(n,r){n.exports=function(i){var a=typeof window<"u"&&window.location;if(!a)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var l=a.protocol+"//"+a.host,u=l+a.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(h,f){var m,g=f.trim().replace(/^"(.*)"$/,function(b,E){return E}).replace(/^'(.*)'$/,function(b,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(g)?h:(m=g.indexOf("//")===0?g:g.indexOf("/")===0?l+g:u+g.replace(/^\.\//,""),"url("+JSON.stringify(m)+")")})}},function(n,r,i){var a,l,u,h,f,m,g,b,E;n.exports=(a="cdx-notifies",l="cdx-notify",u="cdx-notify__cross",h="cdx-notify__button--confirm",f="cdx-notify__button--cancel",m="cdx-notify__input",g="cdx-notify__button",b="cdx-notify__btns-wrapper",{alert:E=function(w){var x=document.createElement("DIV"),C=document.createElement("DIV"),I=w.message,_=w.style;return x.classList.add(l),_&&x.classList.add(l+"--"+_),x.innerHTML=I,C.classList.add(u),C.addEventListener("click",x.remove.bind(x)),x.appendChild(C),x},confirm:function(w){var x=E(w),C=document.createElement("div"),I=document.createElement("button"),_=document.createElement("button"),T=x.querySelector("."+u),A=w.cancelHandler,L=w.okHandler;return C.classList.add(b),I.innerHTML=w.okText||"Confirm",_.innerHTML=w.cancelText||"Cancel",I.classList.add(g),_.classList.add(g),I.classList.add(h),_.classList.add(f),A&&typeof A=="function"&&(_.addEventListener("click",A),T.addEventListener("click",A)),L&&typeof L=="function"&&I.addEventListener("click",L),I.addEventListener("click",x.remove.bind(x)),_.addEventListener("click",x.remove.bind(x)),C.appendChild(I),C.appendChild(_),x.appendChild(C),x},prompt:function(w){var x=E(w),C=document.createElement("div"),I=document.createElement("button"),_=document.createElement("input"),T=x.querySelector("."+u),A=w.cancelHandler,L=w.okHandler;return C.classList.add(b),I.innerHTML=w.okText||"Ok",I.classList.add(g),I.classList.add(h),_.classList.add(m),w.placeholder&&_.setAttribute("placeholder",w.placeholder),w.default&&(_.value=w.default),w.inputType&&(_.type=w.inputType),A&&typeof A=="function"&&T.addEventListener("click",A),L&&typeof L=="function"&&I.addEventListener("click",function(){L(_.value)}),I.addEventListener("click",x.remove.bind(x)),C.appendChild(_),C.appendChild(I),x.appendChild(C),x},getWrapper:function(){var w=document.createElement("DIV");return w.classList.add(a),w}})}])})})(Yk);var Aj=Yk.exports;const Nj=Xc(Aj);class Bj{show(e){Nj.show(e)}}class Lj extends Te{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new Bj}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class Mj extends Te{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Xk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ws,function(){function n(g){var b=g.tags,E=Object.keys(b),w=E.map(function(x){return typeof b[x]}).every(function(x){return x==="object"||x==="boolean"||x==="function"});if(!w)throw new Error("The configuration was invalid");this.config=g}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function i(g){return r.indexOf(g.nodeName)!==-1}var a=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function l(g){return a.indexOf(g.nodeName)!==-1}n.prototype.clean=function(g){const b=document.implementation.createHTMLDocument(),E=b.createElement("div");return E.innerHTML=g,this._sanitize(b,E),E.innerHTML},n.prototype._sanitize=function(g,b){var E=u(g,b),w=E.firstChild();if(w)do{if(w.nodeType===Node.TEXT_NODE)if(w.data.trim()===""&&(w.previousElementSibling&&i(w.previousElementSibling)||w.nextElementSibling&&i(w.nextElementSibling))){b.removeChild(w),this._sanitize(g,b);break}else continue;if(w.nodeType===Node.COMMENT_NODE){b.removeChild(w),this._sanitize(g,b);break}var x=l(w),C;x&&(C=Array.prototype.some.call(w.childNodes,i));var I=!!b.parentNode,_=i(b)&&i(w)&&I,T=w.nodeName.toLowerCase(),A=h(this.config,T,w),L=x&&C;if(L||f(w,A)||!this.config.keepNestedBlockElements&&_){if(!(w.nodeName==="SCRIPT"||w.nodeName==="STYLE"))for(;w.childNodes.length>0;)b.insertBefore(w.childNodes[0],w);b.removeChild(w),this._sanitize(g,b);break}for(var F=0;F<w.attributes.length;F+=1){var W=w.attributes[F];m(W,A,w)&&(w.removeAttribute(W.name),F=F-1)}this._sanitize(g,w)}while(w=E.nextSibling())};function u(g,b){return g.createTreeWalker(b,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function h(g,b,E){return typeof g.tags[b]=="function"?g.tags[b](E):g.tags[b]}function f(g,b){return typeof b>"u"?!0:typeof b=="boolean"?!b:!1}function m(g,b,E){var w=g.name.toLowerCase();return b===!0?!1:typeof b[w]=="function"?!b[w](g.value,E):typeof b[w]>"u"||b[w]===!1?!0:typeof b[w]=="string"?b[w]!==g.value:!1}return n})})(Xk);var Rj=Xk.exports;const jj=Xc(Rj);function Pp(t,e){return t.map(n=>{const r=We(e)?e(n.tool):e;return Zt(r)||(n.data=Ip(n.data,r)),n})}function yn(t,e={}){const n={tags:e};return new jj(n).clean(t)}function Ip(t,e){return Array.isArray(t)?Dj(t,e):ht(t)?Fj(t,e):Xn(t)?Uj(t,e):t}function Dj(t,e){return t.map(n=>Ip(n,e))}function Fj(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const i=t[r],a=Hj(e[r])?e[r]:e;n[r]=Ip(i,a)}return n}function Uj(t,e){return ht(e)?yn(t,e):e===!1?yn(t,{}):t}function Hj(t){return ht(t)||ij(t)||We(t)}class $j extends Te{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return yn(e,n)}}class Vj extends Te{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Qt(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class zj extends Te{constructor(){super(...arguments),this.selectionUtils=new me}get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,n){return this.selectionUtils.findParentTag(e,n)}expandToTag(e){this.selectionUtils.expandToTag(e)}}class Wj extends Te{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class Kj extends Te{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class qj extends Te{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Qt("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Qt("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Jk={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return n[a].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=r,i.d=function(a,l,u){i.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,l){if(1&l&&(a=i(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var h in a)i.d(u,h,(function(f){return a[f]}).bind(null,h));return u},i.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(l,"a",l),l},i.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},i.p="",i(i.s=0)}([function(n,r,i){n.exports=i(1)},function(n,r,i){i.r(r),i.d(r,"default",function(){return a});class a{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(u,h,f){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const m=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},f);if(m.hidingDelay&&(this.hidingDelay=m.hidingDelay),this.nodes.content.innerHTML="",typeof h=="string")this.nodes.content.appendChild(document.createTextNode(h));else{if(!(h instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof h+" given.");this.nodes.content.appendChild(h)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),m.placement){case"top":this.placeTop(u,m);break;case"left":this.placeLeft(u,m);break;case"right":this.placeRight(u,m);break;case"bottom":default:this.placeBottom(u,m)}m&&m.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},m.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(u=!1){if(this.hidingDelay&&!u)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(u,h,f){u.addEventListener("mouseenter",()=>{this.show(u,h,f)}),u.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const u="codex-tooltips-style";if(document.getElementById(u))return;const h=i(2),f=this.make("style",null,{textContent:h.toString(),id:u});this.prepend(document.head,f)}placeBottom(u,h){const f=u.getBoundingClientRect(),m=f.left+u.clientWidth/2-this.nodes.wrapper.offsetWidth/2,g=f.bottom+window.pageYOffset+this.offsetTop+h.marginTop;this.applyPlacement("bottom",m,g)}placeTop(u,h){const f=u.getBoundingClientRect(),m=f.left+u.clientWidth/2-this.nodes.wrapper.offsetWidth/2,g=f.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",m,g)}placeLeft(u,h){const f=u.getBoundingClientRect(),m=f.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-h.marginLeft,g=f.top+window.pageYOffset+u.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",m,g)}placeRight(u,h){const f=u.getBoundingClientRect(),m=f.right+this.offsetRight+h.marginRight,g=f.top+window.pageYOffset+u.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",m,g)}applyPlacement(u,h,f){this.nodes.wrapper.classList.add(this.CSS.placement[u]),this.nodes.wrapper.style.left=h+"px",this.nodes.wrapper.style.top=f+"px"}make(u,h=null,f={}){const m=document.createElement(u);Array.isArray(h)?m.classList.add(...h):h&&m.classList.add(h);for(const g in f)f.hasOwnProperty(g)&&(m[g]=f[g]);return m}append(u,h){Array.isArray(h)?h.forEach(f=>u.appendChild(f)):u.appendChild(h)}prepend(u,h){Array.isArray(h)?(h=h.reverse()).forEach(f=>u.prepend(f)):u.prepend(h)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(Jk);var Gj=Jk.exports;const Yj=Xc(Gj);let cn=null;function Op(){cn||(cn=new Yj)}function Xj(t,e,n){Op(),cn==null||cn.show(t,e,n)}function wc(t=!1){Op(),cn==null||cn.hide(t)}function xc(t,e,n){Op(),cn==null||cn.onHover(t,e,n)}function Jj(){cn==null||cn.destroy(),cn=null}class Qj extends Te{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n})}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){Xj(e,n,r)}hide(){wc()}onHover(e,n,r){xc(e,n,r)}}class Zj extends Te{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function Qk(t,e){const n={};return Object.entries(t).forEach(([r,i])=>{if(ht(i)){const a=e?`${e}.${r}`:r;Object.values(i).every(l=>Xn(l))?n[r]=a:n[r]=Qk(i,a);return}n[r]=i}),n}const Ut=Qk(Fk);function eD(t,e){const n={};return Object.keys(t).forEach(r=>{const i=e[r];i!==void 0?n[i]=t[r]:n[r]=t[r]}),n}const Zk=class Ss{constructor(e,n){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=n}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(Ss.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(Ss.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(this.items.length===0)return this.cursor;let n=this.cursor;return n===-1?n=e===Ss.directions.RIGHT?-1:0:this.items[n].classList.remove(this.focusedCssClass),e===Ss.directions.RIGHT?n=(n+1)%this.items.length:n=(this.items.length+n-1)%this.items.length,$.canSetCaret(this.items[n])&&vc(()=>me.setCursor(this.items[n]),50)(),this.items[n].classList.add(this.focusedCssClass),n}};Zk.directions={RIGHT:"right",LEFT:"left"};let xs=Zk,kc=class If{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(If.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case ye.TAB:this.handleTabPress(n);break;case ye.LEFT:case ye.UP:this.flipLeft();break;case ye.RIGHT:case ye.DOWN:this.flipRight();break;case ye.ENTER:this.handleEnterPress(n);break}},this.iterator=new xs(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||If.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[ye.TAB,ye.LEFT,ye.RIGHT,ye.ENTER,ye.UP,ye.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?xs.directions.LEFT:xs.directions.RIGHT){case xs.directions.RIGHT:this.flipRight();break;case xs.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),We(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}};const tD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',nD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',rD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',oD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',iD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',sD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',aD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',lD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',pw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',cD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',uD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',eE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',dD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',hD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',fD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',pD="__",mD="--";function Fr(t){return(e,n)=>[[t,e].filter(r=>!!r).join(pD),n].filter(r=>!!r).join(mD)}const ks=Fr("ce-hint"),Es={root:ks(),alignedStart:ks(null,"align-left"),alignedCenter:ks(null,"align-center"),title:ks("title"),description:ks("description")};class gD{constructor(e){this.nodes={root:$.make("div",[Es.root,e.alignment==="center"?Es.alignedCenter:Es.alignedStart]),title:$.make("div",Es.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),e.description!==void 0&&(this.nodes.description=$.make("div",Es.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}let Ap=class{constructor(e){this.params=e}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){wc()}onChildrenOpen(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onClose)=="function"&&this.params.children.onClose()}handleClick(){var e,n;this.params!==void 0&&"onActivate"in this.params&&((n=(e=this.params).onActivate)==null||n.call(e,this.params))}addHint(e,n){const r=new gD(n);xc(e,r.getElement(),{placement:n.position,hidingDelay:100})}get children(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.isOpen)===!0}get isChildrenFlippable(){var e;return!(this.params===void 0||!("children"in this.params)||((e=this.params.children)==null?void 0:e.isFlippable)===!1)}get isChildrenSearchable(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}};const Ft=Fr("ce-popover-item"),Ge={container:Ft(),active:Ft(null,"active"),disabled:Ft(null,"disabled"),focused:Ft(null,"focused"),hidden:Ft(null,"hidden"),confirmationState:Ft(null,"confirmation"),noHover:Ft(null,"no-hover"),noFocus:Ft(null,"no-focus"),title:Ft("title"),secondaryTitle:Ft("secondary-title"),icon:Ft("icon"),iconTool:Ft("icon","tool"),iconChevronRight:Ft("icon","chevron-right"),wobbleAnimation:Fr("wobble")()};let co=class extends Ap{constructor(e,n){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(Ge.noFocus)},this.removeSpecialHoverBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(Ge.noHover)},this.onErrorAnimationEnd=()=>{var r,i;(r=this.nodes.icon)==null||r.classList.remove(Ge.wobbleAnimation),(i=this.nodes.icon)==null||i.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,n)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(Ge.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Ge.active,e)}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Ge.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,n){var r,i;const a=(n==null?void 0:n.wrapperTag)||"div",l=$.make(a,Ge.container,{type:a==="button"?"button":void 0});return e.name&&(l.dataset.itemName=e.name),this.nodes.icon=$.make("div",[Ge.icon,Ge.iconTool],{innerHTML:e.icon||aD}),l.appendChild(this.nodes.icon),e.title!==void 0&&l.appendChild($.make("div",Ge.title,{innerHTML:e.title||""})),e.secondaryLabel&&l.appendChild($.make("div",Ge.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&l.appendChild($.make("div",[Ge.icon,Ge.iconChevronRight],{innerHTML:oD})),this.isActive&&l.classList.add(Ge.active),e.isDisabled&&l.classList.add(Ge.disabled),e.hint!==void 0&&((r=n==null?void 0:n.hint)==null?void 0:r.enabled)!==!1&&this.addHint(l,{...e.hint,position:((i=n==null?void 0:n.hint)==null?void 0:i.position)||"right"}),l}enableConfirmationMode(e){if(this.nodes.root===null)return;const n={...this.params,...e,confirmation:"confirmation"in e?e.confirmation:void 0},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(Ge.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(Ge.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,n,r;(e=this.nodes.root)==null||e.classList.add(Ge.noHover),(n=this.nodes.root)==null||n.classList.add(Ge.noFocus),(r=this.nodes.root)==null||r.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(e=this.nodes.root)==null||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var n;if(!("confirmation"in e)||e.confirmation===void 0)try{(n=e.onActivate)==null||n.call(e,e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){var e,n,r;(e=this.nodes.icon)!=null&&e.classList.contains(Ge.wobbleAnimation)||((n=this.nodes.icon)==null||n.classList.add(Ge.wobbleAnimation),(r=this.nodes.icon)==null||r.addEventListener("animationend",this.onErrorAnimationEnd))}};const Lh=Fr("ce-popover-item-separator"),Mh={container:Lh(),line:Lh("line"),hidden:Lh(null,"hidden")};class tE extends Ap{constructor(){super(),this.nodes={root:$.make("div",Mh.container),line:$.make("div",Mh.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Mh.hidden,e)}}var kn=(t=>(t.Closed="closed",t.ClosedOnActivate="closed-on-activate",t))(kn||{});const xt=Fr("ce-popover"),Je={popover:xt(),popoverContainer:xt("container"),popoverOpenTop:xt(null,"open-top"),popoverOpenLeft:xt(null,"open-left"),popoverOpened:xt(null,"opened"),search:xt("search"),nothingFoundMessage:xt("nothing-found-message"),nothingFoundMessageDisplayed:xt("nothing-found-message","displayed"),items:xt("items"),overlay:xt("overlay"),overlayHidden:xt("overlay","hidden"),popoverNested:xt(null,"nested"),getPopoverNestedClass:t=>xt(null,`nested-level-${t.toString()}`),popoverInline:xt(null,"inline"),popoverHeader:xt("header")};var hi=(t=>(t.NestingLevel="--nesting-level",t.PopoverHeight="--popover-height",t.InlinePopoverWidth="--inline-popover-width",t.TriggerItemLeft="--trigger-item-left",t.TriggerItemTop="--trigger-item-top",t))(hi||{});const mw=Fr("ce-popover-item-html"),gw={root:mw(),hidden:mw(null,"hidden")};class qs extends Ap{constructor(e,n){var r,i;super(e),this.nodes={root:$.make("div",gw.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),e.hint!==void 0&&((r=n==null?void 0:n.hint)==null?void 0:r.enabled)!==!1&&this.addHint(this.nodes.root,{...e.hint,position:((i=n==null?void 0:n.hint)==null?void 0:i.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(gw.hidden,e)}getControls(){const e=this.nodes.root.querySelectorAll(`button, ${$.allInputsSelector}`);return Array.from(e)}}class nE extends la{constructor(e,n={}){super(),this.params=e,this.itemsRenderParams=n,this.listeners=new ca,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages={...this.messages,...e.messages}),this.nodes={},this.nodes.popoverContainer=$.make("div",[Je.popoverContainer]),this.nodes.nothingFoundMessage=$.make("div",[Je.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=$.make("div",[Je.items]),this.items.forEach(r=>{const i=r.getElement();i!==null&&this.nodes.items.appendChild(i)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",r=>this.handleClick(r)),this.nodes.popover=$.make("div",[Je.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(e=>e instanceof co)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(Je.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(Je.popoverOpened),this.nodes.popover.classList.remove(Je.popoverOpenTop),this.itemsDefault.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),this.emit(kn.Closed)}destroy(){var e;this.items.forEach(n=>n.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(e=this.search)==null||e.destroy()}activateItemByName(e){const n=this.items.find(r=>r.name===e);this.handleItemClick(n)}buildItems(e){return e.map(n=>{switch(n.type){case He.Separator:return new tE;case He.Html:return new qs(n,this.itemsRenderParams[He.Html]);default:return new co(n,this.itemsRenderParams[He.Default])}})}getTargetItem(e){return this.items.filter(n=>n instanceof co||n instanceof qs).find(n=>{const r=n.getElement();return r===null?!1:e.composedPath().includes(r)})}handleItemClick(e){if(!("isDisabled"in e&&e.isDisabled)){if(e.hasChildren){this.showNestedItems(e),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick();return}this.itemsDefault.filter(n=>n!==e).forEach(n=>n.reset()),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit(kn.ClosedOnActivate))}}handleClick(e){const n=this.getTargetItem(e);n!==void 0&&this.handleItemClick(n)}toggleItemActivenessIfNeeded(e){if(e instanceof co&&(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string")){const n=this.itemsDefault.filter(r=>r.toggle===e.toggle);if(n.length===1){e.toggleActive();return}n.forEach(r=>{r.toggleActive(r===e)})}}}var Ec=(t=>(t.Search="search",t))(Ec||{});const Rh=Fr("cdx-search-field"),jh={wrapper:Rh(),icon:Rh("icon"),input:Rh("input")};class vD extends la{constructor({items:e,placeholder:n}){super(),this.listeners=new ca,this.items=e,this.wrapper=$.make("div",jh.wrapper);const r=$.make("div",jh.icon,{innerHTML:dD});this.input=$.make("input",jh.input,{placeholder:n,tabIndex:-1}),this.wrapper.appendChild(r),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(Ec.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(Ec.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n,r;const i=((n=e.title)==null?void 0:n.toLowerCase())||"",a=(r=this.searchQuery)==null?void 0:r.toLowerCase();return a!==void 0?i.includes(a):!1}}var yD=Object.defineProperty,bD=Object.getOwnPropertyDescriptor,wD=(t,e,n,r)=>{for(var i=bD(e,n),a=t.length-1,l;a>=0;a--)(l=t[a])&&(i=l(e,n,i)||i);return i&&yD(e,n,i),i};const rE=class oE extends nE{constructor(e,n){super(e,n),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var r;super.hide(),this.destroyNestedPopoverIfExists(),(r=this.flipper)==null||r.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const r=this.itemsDefault.find(i=>i.isFocused);r==null||r.onFocus()},this.onSearch=r=>{var i;const a=r.query==="",l=r.items.length===0;this.items.forEach(h=>{let f=!1;h instanceof co?f=!r.items.includes(h):(h instanceof tE||h instanceof qs)&&(f=l||!a),h.toggleHidden(f)}),this.toggleNothingFoundMessage(l);const u=r.query===""?this.flippableElements:r.items.map(h=>h.getElement());(i=this.flipper)!=null&&i.isActivated&&(this.flipper.deactivate(),this.flipper.activate(u))},e.nestingLevel!==void 0&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(Je.popoverNested),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",r=>this.handleHover(r)),e.searchable&&this.addSearch(),e.flippable!==!1&&(this.flipper=new kc({items:this.flippableElements,focusedItemClass:Ge.focused,allowedKeys:[ye.TAB,ye.UP,ye.DOWN,ye.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(hi.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(Je.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(Je.popoverOpenLeft),super.show(),(e=this.flipper)==null||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){const n=this.getTargetItem(e);n!==void 0&&this.previouslyHoveredItem!==n&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=n,n.hasChildren&&this.showNestedPopoverForItem(n))}setTriggerItemPosition(e,n){const r=n.getElement(),i=(r?r.offsetTop:0)-this.scrollTop,a=this.offsetTop+i;e.style.setProperty(hi.TriggerItemTop,a+"px")}destroyNestedPopoverIfExists(){var e,n;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(kn.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(e=this.flipper)==null||e.activate(this.flippableElements),(n=this.nestedPopoverTriggerItem)==null||n.onChildrenClose())}showNestedPopoverForItem(e){var n;this.nestedPopover=new oE({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on(kn.ClosedOnActivate,this.hide);const r=this.nestedPopover.getElement();return this.nodes.popover.appendChild(r),this.setTriggerItemPosition(r,e),r.style.setProperty(hi.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(n=this.flipper)==null||n.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popoverContainer.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.height,i=e.top+r,a=e.top-r,l=Math.min(window.innerHeight,n.bottom);return a<n.top||i<=l}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popover.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.width,i=e.right+r,a=e.left-r,l=Math.min(window.innerWidth,n.right);return a<n.left||i<=l}get size(){var e;const n={height:0,width:0};if(this.nodes.popover===null)return n;const r=this.nodes.popover.cloneNode(!0);r.style.visibility="hidden",r.style.position="absolute",r.style.top="-1000px",r.classList.add(Je.popoverOpened),(e=r.querySelector("."+Je.popoverNested))==null||e.remove(),document.body.appendChild(r);const i=r.querySelector("."+Je.popoverContainer);return n.height=i.offsetHeight,n.width=i.offsetWidth,r.remove(),n}get flippableElements(){return this.items.map(e=>{if(e instanceof co)return e.getElement();if(e instanceof qs)return e.getControls()}).flat().filter(e=>e!=null)}addSearch(){this.search=new vD({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(Ec.Search,this.onSearch);const e=this.search.getElement();e.classList.add(Je.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(Je.nothingFoundMessageDisplayed,e)}};wD([Ii],rE.prototype,"size");let Np=rE;class xD extends Np{constructor(e){const n=!Oi();super({...e,class:Je.popoverInline},{[He.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:n}},[He.Html]:{hint:{position:"top",alignment:"center",enabled:n}}}),this.items.forEach(r=>{!(r instanceof co)&&!(r instanceof qs)||r.hasChildren&&r.isChildrenOpen&&this.showNestedItems(r)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(hi.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,n){const r=n.getElement(),i=r?r.offsetLeft:0,a=this.offsetLeft+i;e.style.setProperty(hi.TriggerItemLeft,a+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(e)}showNestedPopoverForItem(e){const n=super.showNestedPopoverForItem(e);return n.getElement().classList.add(Je.getPopoverNestedClass(n.nestingLevel)),n}handleItemClick(e){var n;e!==this.nestedPopoverTriggerItem&&((n=this.nestedPopoverTriggerItem)==null||n.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}}const iE=class Ts{constructor(){this.scrollPosition=null}lock(){Tf?this.lockHard():document.body.classList.add(Ts.CSS.scrollLocked)}unlock(){Tf?this.unlockHard():document.body.classList.remove(Ts.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Ts.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Ts.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};iE.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let kD=iE;const Dh=Fr("ce-popover-header"),Fh={root:Dh(),text:Dh("text"),backButton:Dh("back-button")};class ED{constructor({text:e,onBackButtonClick:n}){this.listeners=new ca,this.text=e,this.onBackButtonClick=n,this.nodes={root:$.make("div",[Fh.root]),backButton:$.make("button",[Fh.backButton]),text:$.make("div",[Fh.text])},this.nodes.backButton.innerHTML=rD,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class CD{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}class sE extends nE{constructor(e){super(e,{[He.Default]:{hint:{enabled:!1}},[He.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new kD,this.history=new CD,this.isHidden=!0,this.nodes.overlay=$.make("div",[Je.overlay,Je.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove(Je.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(Je.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,n){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),n!==void 0){this.header=new ED({text:n,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const r=this.header.getElement();r!==null&&this.nodes.popoverContainer.insertBefore(r,this.nodes.popoverContainer.firstChild)}this.items.forEach(r=>{var i;return(i=r.getElement())==null?void 0:i.remove()}),this.items=this.buildItems(e),this.items.forEach(r=>{var i;const a=r.getElement();a!==null&&((i=this.nodes.items)==null||i.appendChild(a))})}}class SD extends Te{constructor(){super(...arguments),this.opened=!1,this.selection=new me,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,me.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(kn.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(this.popover!==null)return"flipper"in this.popover?(e=this.popover)==null?void 0:e.flipper:void 0}make(){this.nodes.wrapper=$.make("div",[this.CSS.settings]),this.nodes.wrapper.setAttribute("data-cy","block-tunes"),this.eventsDispatcher.on(Ks,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(Ks,this.close)}async open(e=this.Editor.BlockManager.currentBlock){var n;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const{toolTunes:r,commonTunes:i}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);const a=Oi()?sE:Np;this.popover=new a({searchable:!0,items:await this.getTunesItems(e,i,r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Ct.ui(Ut.ui.popover,"Nothing found"),search:Ct.ui(Ut.ui.popover,"Filter")}}),this.popover.on(kn.Closed,this.onPopoverClose),(n=this.nodes.wrapper)==null||n.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(e,n,r){const i=[];r!==void 0&&r.length>0&&(i.push(...r),i.push({type:He.Separator}));const a=Array.from(this.Editor.Tools.blockTools.values()),l=(await qk(e,a)).reduce((u,h)=>(h.toolbox.forEach(f=>{u.push({icon:f.icon,title:Ct.t(Ut.toolNames,f.title),name:h.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:m,Caret:g,Toolbar:b}=this.Editor,E=await m.convert(e,h.name,f.data);b.close(),g.setToBlock(E,g.positions.END)}})}),u),[]);return l.length>0&&(i.push({icon:eE,name:"convert-to",title:Ct.ui(Ut.ui.popover,"Convert to"),children:{searchable:!0,items:l}}),i.push({type:He.Separator})),i.push(...n),i.map(u=>this.resolveTuneAliases(u))}resolveTuneAliases(e){if(e.type===He.Separator||e.type===He.Html)return e;const n=eD(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}var aE={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return n[a].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=r,i.d=function(a,l,u){i.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,l){if(1&l&&(a=i(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var h in a)i.d(u,h,(function(f){return a[f]}).bind(null,h));return u},i.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(l,"a",l),l},i.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},i.p="",i(i.s=0)}([function(n,r,i){function a(h,f){for(var m=0;m<f.length;m++){var g=f[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}function l(h,f,m){return f&&a(h.prototype,f),m&&a(h,m),h}i.r(r);var u=function(){function h(f){var m=this;(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,h),this.commands={},this.keys={},this.name=f.name,this.parseShortcutName(f.name),this.element=f.on,this.callback=f.callback,this.executeShortcut=function(g){m.execute(g)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return l(h,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),l(h,[{key:"parseShortcutName",value:function(f){f=f.split("+");for(var m=0;m<f.length;m++){f[m]=f[m].toUpperCase();var g=!1;for(var b in h.supportedCommands)if(h.supportedCommands[b].includes(f[m])){g=this.commands[b]=!0;break}g||(this.keys[f[m]]=!0)}for(var E in h.supportedCommands)this.commands[E]||(this.commands[E]=!1)}},{key:"execute",value:function(f){var m,g={CMD:f.ctrlKey||f.metaKey,SHIFT:f.shiftKey,ALT:f.altKey},b=!0;for(m in this.commands)this.commands[m]!==g[m]&&(b=!1);var E,w=!0;for(E in this.keys)w=w&&f.keyCode===h.keyCodes[E];b&&w&&this.callback(f)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),h}();r.default=u}]).default})})(aE);var TD=aE.exports;const _D=Xc(TD);class PD{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new _D({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const i=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,i.filter(a=>a!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const wi=new PD;var ID=Object.defineProperty,OD=Object.getOwnPropertyDescriptor,lE=(t,e,n,r)=>{for(var i=OD(e,n),a=t.length-1,l;a>=0;a--)(l=t[a])&&(i=l(e,n,i)||i);return i&&ID(e,n,i),i},Hl=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(Hl||{});const Bp=class cE extends la{constructor({api:e,tools:n,i18nLabels:r}){super(),this.opened=!1,this.listeners=new ca,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=n,this.i18nLabels=r,this.enableShortcuts(),this.nodes={toolbox:$.make("div",cE.CSS.toolbox)},this.initPopover(),this.nodes.toolbox.setAttribute("data-cy","toolbox"),this.api.events.on(Ks,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(e=this.popover)==null||e.off(kn.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(Ks,this.handleMobileLayoutToggle)}toolButtonActivated(e,n){this.insertNewBlock(e,n)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;const n=Oi()?sE:Np;this.popover=new n({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(kn.Closed,this.onPopoverClose),(e=this.nodes.toolbox)==null||e.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(kn.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(n=>{n.toolbox&&e.push(n)}),e}get toolboxItemsToBeDisplayed(){const e=(n,r,i=!0)=>({icon:n.icon,title:Ct.t(Ut.toolNames,n.title||yc(r.name)),name:r.name,onActivate:()=>{this.toolButtonActivated(r.name,n.data)},secondaryLabel:r.shortcut&&i?_p(r.shortcut):""});return this.toolsToBeDisplayed.reduce((n,r)=>(Array.isArray(r.toolbox)?r.toolbox.forEach((i,a)=>{n.push(e(i,r,a===0))}):r.toolbox!==void 0&&n.push(e(r.toolbox,r)),n),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&this.enableShortcutForTool(e.name,n)})}enableShortcutForTool(e,n){wi.add({name:n,on:this.api.ui.nodes.redactor,handler:async r=>{r.preventDefault();const i=this.api.blocks.getCurrentBlockIndex(),a=this.api.blocks.getBlockByIndex(i);if(a)try{const l=await this.api.blocks.convert(a.id,e);this.api.caret.setToBlock(l,"end");return}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&wi.remove(this.api.ui.nodes.redactor,n)})}async insertNewBlock(e,n){const r=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(r);if(!i)return;const a=i.isEmpty?r:r+1;let l;if(n){const h=await this.api.blocks.composeBlockData(e);l=Object.assign(h,n)}const u=this.api.blocks.insert(e,l,void 0,a,void 0,i.isEmpty);u.call(Mn.APPEND_CALLBACK),this.api.caret.setToBlock(a),this.emit("toolbox-block-added",{block:u}),this.api.toolbar.close()}};lE([Ii],Bp.prototype,"toolsToBeDisplayed");lE([Ii],Bp.prototype,"toolboxItemsToBeDisplayed");let AD=Bp;const uE="block hovered";async function ND(t,e){const n=navigator.keyboard;if(!n)return e;try{return(await n.getLayoutMap()).get(t)||e}catch(r){return console.error(r),e}}class BD extends Te{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){Oe("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){Oe("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){Oe("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI;let i;const a=20,l=e.firstInput,u=n.getBoundingClientRect(),h=l!==void 0?l.getBoundingClientRect():null,f=h!==null?h.top-u.top:null,m=f!==null?f>a:void 0;if(r)i=n.offsetTop+n.offsetHeight;else if(l===void 0||m){const g=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);i=n.offsetTop+g}else{const g=gj(l),b=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);i=n.offsetTop+g-b+8+f}this.nodes.wrapper.style.top=`${Math.floor(i)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,n;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(n=this.toolboxInstance)==null||n.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=$.make("div",this.CSS.toolbar),["content","actions"].forEach(a=>{this.nodes[a]=$.make("div",this.CSS[a])}),$.append(this.nodes.wrapper,this.nodes.content),$.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=$.make("div",this.CSS.plusButton,{innerHTML:uD}),$.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{wc(!0),this.plusButtonClicked()},!1);const e=$.make("div");e.appendChild(document.createTextNode(Ct.ui(Ut.ui.toolbar.toolbox,"Add"))),e.appendChild($.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),xc(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=$.make("span",this.CSS.settingsToggler,{innerHTML:cD}),$.append(this.nodes.actions,this.nodes.settingsToggler);const n=$.make("div"),r=$.text(Ct.ui(Ut.ui.blockTunes.toggler,"Click to tune")),i=await ND("Slash","/");n.appendChild(r),n.appendChild($.make("div",this.CSS.plusButtonShortcut,{textContent:_p(`CMD + ${i}`)})),xc(this.nodes.settingsToggler,n,{hidingDelay:400}),$.append(this.nodes.actions,this.makeToolbox()),$.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),$.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new AD({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Ct.ui(Ut.ui.popover,"Filter"),nothingFound:Ct.ui(Ut.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Hl.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Hl.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Hl.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,i=n.getBlockById(e.id);i.inputs.length===0&&(i===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var n;e.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),wc(!0)},!0),Oi()||this.eventsDispatcher.on(uE,e=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var po=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(po||{}),$l=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))($l||{}),dE=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(dE||{}),ei=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(ei||{}),Cc=(t=>(t.IsInline="isInline",t.Title="title",t.IsReadOnlySupported="isReadOnlySupported",t))(Cc||{}),Of=(t=>(t.IsTune="isTune",t))(Of||{});let Lp=class{constructor({name:e,constructable:n,config:r,api:i,isDefault:a,isInternal:l=!1,defaultPlaceholder:u}){this.api=i,this.name=e,this.constructable=n,this.config=r,this.isDefault=a,this.isInternal=l,this.defaultPlaceholder=u}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(We(this.constructable.reset))return this.constructable.reset()}prepare(){if(We(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===po.Inline}isBlock(){return this.type===po.Block}isTune(){return this.type===po.Tune}};class LD extends Te{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=Oi()?20:6,this.tools=new Map,window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1){e&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var e,n;if(this.opened){for(const[r,i]of this.tools){const a=this.getToolShortcut(r.name);a!==void 0&&wi.remove(this.Editor.UI.nodes.redactor,a),We(i.clear)&&i.clear()}this.tools=new Map,this.reset(),this.opened=!1,(e=this.popover)==null||e.hide(),(n=this.popover)==null||n.destroy(),this.popover=null}}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),(e=this.popover)==null||e.destroy(),this.popover=null}make(){this.nodes.wrapper=$.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.wrapper.setAttribute("data-cy","inline-toolbar"),$.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var e;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy(),this.createToolsInstances();const n=await this.getPopoverItems();this.popover=new xD({items:n,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Ct.ui(Ut.ui.popover,"Nothing found"),search:Ct.ui(Ut.ui.popover,"Filter")}}),this.move(this.popover.size.width),(e=this.nodes.wrapper)==null||e.append(this.popover.getElement()),this.popover.show()}move(e){const n=me.rect,r=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),i={x:n.x-r.x,y:n.y+n.height-r.top+this.toolbarVerticalMargin};i.x+e+r.x>this.Editor.UI.contentRect.right&&(i.x=this.Editor.UI.contentRect.right-e-r.x),this.nodes.wrapper.style.left=Math.floor(i.x)+"px",this.nodes.wrapper.style.top=Math.floor(i.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],n=me.get(),r=me.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const i=$.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(i===null||n!==null&&e.includes(i.tagName))return!1;const a=this.Editor.BlockManager.getBlock(n.anchorNode);return!a||this.getTools().some(l=>a.tool.inlineTools.has(l.name))===!1?!1:i.closest("[contenteditable]")!==null}getTools(){const e=this.Editor.BlockManager.currentBlock;return e?Array.from(e.tool.inlineTools.values()).filter(n=>!(this.Editor.ReadOnly.isEnabled&&n.isReadOnlySupported!==!0)):[]}createToolsInstances(){this.tools=new Map,this.getTools().forEach(e=>{const n=e.create();this.tools.set(e,n)})}async getPopoverItems(){const e=[];let n=0;for(const[r,i]of this.tools){const a=await i.render(),l=this.getToolShortcut(r.name);if(l!==void 0)try{this.enableShortcuts(r.name,l)}catch{}const u=l!==void 0?_p(l):void 0,h=Ct.t(Ut.toolNames,r.title||yc(r.name));[a].flat().forEach(f=>{var m,g;const b={name:r.name,onActivate:()=>{this.toolClicked(i)},hint:{title:h,description:u}};if($.isElement(f)){const E={...b,element:f,type:He.Html};if(We(i.renderActions)){const w=i.renderActions();E.children={isOpen:(m=i.checkState)==null?void 0:m.call(i,me.get()),isFlippable:!1,items:[{type:He.Html,element:w}]}}else(g=i.checkState)==null||g.call(i,me.get());e.push(E)}else if(f.type===He.Html)e.push({...b,...f,type:He.Html});else if(f.type===He.Separator)e.push({type:He.Separator});else{const E={...b,...f,type:He.Default};"children"in E&&n!==0&&e.push({type:He.Separator}),e.push(E),"children"in E&&n<this.tools.size-1&&e.push({type:He.Separator})}}),n++}return e}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),i=n.internal.inlineTools;return Array.from(i.keys()).includes(e)?this.inlineTools[e][dE.Shortcut]:r==null?void 0:r.shortcut}enableShortcuts(e,n){wi.add({name:n,handler:r=>{var i;const{currentBlock:a}=this.Editor.BlockManager;a&&a.tool.enabledInlineTools&&(r.preventDefault(),(i=this.popover)==null||i.activateItemByName(e))},on:document})}toolClicked(e){var n;const r=me.range;(n=e.surround)==null||n.call(e,r),this.checkToolsState()}checkToolsState(){var e;(e=this.tools)==null||e.forEach(n=>{var r;(r=n.checkState)==null||r.call(n,me.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}}function hE(){const t=window.getSelection();if(t===null)return[null,0];let e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],n=e.textContent.length)),[e,n])}function fE(t,e,n,r){const i=document.createRange();r==="left"?(i.setStart(t,0),i.setEnd(e,n)):(i.setStart(e,n),i.setEnd(t,t.childNodes.length));const a=i.cloneContents(),l=document.createElement("div");l.appendChild(a);const u=l.textContent||"";return mj(u)}function Vl(t){const e=$.getDeepestNode(t);if(e===null||$.isEmpty(t))return!0;if($.isNativeInput(e))return e.selectionEnd===0;if($.isEmpty(t))return!0;const[n,r]=hE();return n===null?!1:fE(t,n,r,"left")}function zl(t){const e=$.getDeepestNode(t,!0);if(e===null)return!0;if($.isNativeInput(e))return e.selectionEnd===e.value.length;const[n,r]=hE();return n===null?!1:fE(t,n,r,"right")}var pE={},Mp={},Jc={},Eo={},Rp={},jp={};Object.defineProperty(jp,"__esModule",{value:!0});jp.allInputsSelector=MD;function MD(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=jp;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(Rp);var Co={},Dp={};Object.defineProperty(Dp,"__esModule",{value:!0});Dp.isNativeInput=RD;function RD(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=Dp;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(Co);var mE={},Fp={};Object.defineProperty(Fp,"__esModule",{value:!0});Fp.append=jD;function jD(t,e){Array.isArray(e)?e.forEach(function(n){t.appendChild(n)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=Fp;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(mE);var Up={},Hp={};Object.defineProperty(Hp,"__esModule",{value:!0});Hp.blockElements=DD;function DD(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=Hp;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(Up);var gE={},$p={};Object.defineProperty($p,"__esModule",{value:!0});$p.calculateBaseline=FD;function FD(t){var e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,i=parseFloat(e.paddingTop),a=parseFloat(e.borderTopWidth),l=parseFloat(e.marginTop),u=n*.8,h=(r-n)/2,f=l+a+i+h+u;return f}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=$p;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(gE);var vE={},Vp={},zp={},Wp={};Object.defineProperty(Wp,"__esModule",{value:!0});Wp.isContentEditable=UD;function UD(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=Wp;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(zp);Object.defineProperty(Vp,"__esModule",{value:!0});Vp.canSetCaret=VD;var HD=Co,$D=zp;function VD(t){var e=!0;if((0,HD.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,$D.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=Vp;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(vE);var Qc={},Kp={};function zD(t,e,n){const r=n.value!==void 0?"value":"get",i=n[r],a=`#${e}Cache`;if(n[r]=function(...l){return this[a]===void 0&&(this[a]=i.apply(this,l)),this[a]},r==="get"&&n.set){const l=n.set;n.set=function(u){delete t[a],l.apply(this,u)}}return n}function yE(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e!==void 0&&(t[e]=!0),t}function qp(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function WD(t){return!qp(t)}const KD=()=>typeof window<"u"&&window.navigator!==null&&qp(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function qD(t){const e=yE();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function GD(t){return t[0].toUpperCase()+t.slice(1)}function YD(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const n=window.getSelection(),r=document.createRange();if(r.selectNode(e),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}function XD(t,e,n){let r;return(...i)=>{const a=this,l=()=>{r=void 0,n!==!0&&t.apply(a,i)},u=n===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(l,e),u&&t.apply(a,i)}}function Lr(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function JD(t){return Lr(t)==="boolean"}function bE(t){return Lr(t)==="function"||Lr(t)==="asyncfunction"}function QD(t){return bE(t)&&/^\s*class\s+/.test(t.toString())}function ZD(t){return Lr(t)==="number"}function Wl(t){return Lr(t)==="object"}function e4(t){return Promise.resolve(t)===t}function t4(t){return Lr(t)==="string"}function n4(t){return Lr(t)==="undefined"}function Af(t,...e){if(!e.length)return t;const n=e.shift();if(Wl(t)&&Wl(n))for(const r in n)Wl(n[r])?(t[r]===void 0&&Object.assign(t,{[r]:{}}),Af(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Af(t,...e)}function r4(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&console.warn(r)}function o4(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function i4(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const s4={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},a4={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};let l4=class{constructor(){this.completed=Promise.resolve()}add(t){return new Promise((e,n)=>{this.completed=this.completed.then(t).then(e).catch(n)})}};function c4(t,e,n=void 0){let r,i,a,l=null,u=0;n||(n={});const h=function(){u=n.leading===!1?0:Date.now(),l=null,a=t.apply(r,i),l===null&&(r=i=null)};return function(){const f=Date.now();!u&&n.leading===!1&&(u=f);const m=e-(f-u);return r=this,i=arguments,m<=0||m>e?(l&&(clearTimeout(l),l=null),u=f,a=t.apply(r,i),l===null&&(r=i=null)):!l&&n.trailing!==!1&&(l=setTimeout(h,m)),a}}const u4=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:l4,beautifyShortcut:qD,cacheable:zD,capitalize:GD,copyTextToClipboard:YD,debounce:XD,deepMerge:Af,deprecationAssert:r4,getUserOS:yE,getValidUrl:o4,isBoolean:JD,isClass:QD,isEmpty:WD,isFunction:bE,isIosDevice:KD,isNumber:ZD,isObject:Wl,isPrintableKey:i4,isPromise:e4,isString:t4,isUndefined:n4,keyCodes:s4,mouseButtons:a4,notEmpty:qp,throttle:c4,typeOf:Lr},Symbol.toStringTag,{value:"Module"})),Gp=tj(u4);Object.defineProperty(Kp,"__esModule",{value:!0});Kp.containsOnlyInlineElements=f4;var d4=Gp,h4=Up;function f4(t){var e;(0,d4.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var n=function(r){return!(0,h4.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(n)};return Array.from(e.children).every(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=Kp;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(Qc);var wE={},Yp={},Zc={},Xp={};Object.defineProperty(Xp,"__esModule",{value:!0});Xp.make=p4;function p4(t,e,n){var r;e===void 0&&(e=null),n===void 0&&(n={});var i=document.createElement(t);if(Array.isArray(e)){var a=e.filter(function(u){return u!==void 0});(r=i.classList).add.apply(r,a)}else e!==null&&i.classList.add(e);for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(i[l]=n[l]);return i}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=Xp;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(Zc);Object.defineProperty(Yp,"__esModule",{value:!0});Yp.fragmentToString=g4;var m4=Zc;function g4(t){var e=(0,m4.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=Yp;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(wE);var xE={},Jp={};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.getContentLength=y4;var v4=Co;function y4(t){var e,n;return(0,v4.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(n=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=Jp;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(xE);var Qp={},Zp={},vw=Ws&&Ws.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.getDeepestBlockElements=kE;var b4=Qc;function kE(t){return(0,b4.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,n){return vw(vw([],e,!0),kE(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=Zp;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(Qp);var EE={},em={},eu={},tm={};Object.defineProperty(tm,"__esModule",{value:!0});tm.isLineBreakTag=w4;function w4(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=tm;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(eu);var tu={},nm={};Object.defineProperty(nm,"__esModule",{value:!0});nm.isSingleTag=x4;function x4(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=nm;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(tu);Object.defineProperty(em,"__esModule",{value:!0});em.getDeepestNode=CE;var k4=Co,E4=eu,C4=tu;function CE(t,e){e===void 0&&(e=!1);var n=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[n]){var i=t[n];if((0,C4.isSingleTag)(i)&&!(0,k4.isNativeInput)(i)&&!(0,E4.isLineBreakTag)(i))if(i[r])i=i[r];else if(i.parentNode!==null&&i.parentNode[r])i=i.parentNode[r];else return i.parentNode;return CE(i,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=em;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(EE);var SE={},rm={},Pl=Ws&&Ws.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))};Object.defineProperty(rm,"__esModule",{value:!0});rm.findAllInputs=I4;var S4=Qc,T4=Qp,_4=Rp,P4=Co;function I4(t){return Array.from(t.querySelectorAll((0,_4.allInputsSelector)())).reduce(function(e,n){return(0,P4.isNativeInput)(n)||(0,S4.containsOnlyInlineElements)(n)?Pl(Pl([],e,!0),[n],!1):Pl(Pl([],e,!0),(0,T4.getDeepestBlockElements)(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=rm;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(SE);var TE={},om={};Object.defineProperty(om,"__esModule",{value:!0});om.isCollapsedWhitespaces=O4;function O4(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=om;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(TE);var im={},sm={};Object.defineProperty(sm,"__esModule",{value:!0});sm.isElement=N4;var A4=Gp;function N4(t){return(0,A4.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=sm;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(im);var _E={},am={},lm={},cm={};Object.defineProperty(cm,"__esModule",{value:!0});cm.isLeaf=B4;function B4(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=cm;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(lm);var um={},dm={};Object.defineProperty(dm,"__esModule",{value:!0});dm.isNodeEmpty=D4;var L4=eu,M4=im,R4=Co,j4=tu;function D4(t,e){var n="";return(0,j4.isSingleTag)(t)&&!(0,L4.isLineBreakTag)(t)?!1:((0,M4.isElement)(t)&&(0,R4.isNativeInput)(t)?n=t.value:t.textContent!==null&&(n=t.textContent.replace("","")),e!==void 0&&(n=n.replace(new RegExp(e,"g"),"")),n.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=dm;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(um);Object.defineProperty(am,"__esModule",{value:!0});am.isEmpty=H4;var F4=lm,U4=um;function H4(t,e){t.normalize();for(var n=[t];n.length>0;){var r=n.shift();if(r){if(t=r,(0,F4.isLeaf)(t)&&!(0,U4.isNodeEmpty)(t,e))return!1;n.push.apply(n,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=am;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(_E);var PE={},hm={};Object.defineProperty(hm,"__esModule",{value:!0});hm.isFragment=V4;var $4=Gp;function V4(t){return(0,$4.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=hm;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(PE);var IE={},fm={};Object.defineProperty(fm,"__esModule",{value:!0});fm.isHTMLString=W4;var z4=Zc;function W4(t){var e=(0,z4.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=fm;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(IE);var OE={},pm={};Object.defineProperty(pm,"__esModule",{value:!0});pm.offset=K4;function K4(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,i=e.top+r,a=e.left+n;return{top:i,left:a,bottom:i+e.height,right:a+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=pm;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(OE);var AE={},mm={};Object.defineProperty(mm,"__esModule",{value:!0});mm.prepend=q4;function q4(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(n){return t.prepend(n)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=mm;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(AE);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=Rp;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var n=Co;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var r=mE;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return r.append}});var i=Up;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return i.blockElements}});var a=gE;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return a.calculateBaseline}});var l=vE;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return l.canSetCaret}});var u=Qc;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return u.containsOnlyInlineElements}});var h=wE;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return h.fragmentToString}});var f=xE;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return f.getContentLength}});var m=Qp;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return m.getDeepestBlockElements}});var g=EE;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return g.getDeepestNode}});var b=SE;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return b.findAllInputs}});var E=TE;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return E.isCollapsedWhitespaces}});var w=zp;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return w.isContentEditable}});var x=im;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return x.isElement}});var C=_E;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return C.isEmpty}});var I=PE;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return I.isFragment}});var _=IE;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return _.isHTMLString}});var T=lm;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return T.isLeaf}});var A=um;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return A.isNodeEmpty}});var L=eu;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return L.isLineBreakTag}});var F=tu;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return F.isSingleTag}});var W=Zc;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return W.make}});var R=OE;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return R.offset}});var H=AE;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return H.prepend}})})(Eo);var nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.getContenteditableSlice=Y4;var G4=Eo;function Y4(t,e,n,r,i){var a;i===void 0&&(i=!1);var l=document.createRange();if(r==="left"?(l.setStart(t,0),l.setEnd(e,n)):(l.setStart(e,n),l.setEnd(t,t.childNodes.length)),i===!0){var u=l.extractContents();return(0,G4.fragmentToString)(u)}var h=l.cloneContents(),f=document.createElement("div");f.appendChild(h);var m=(a=f.textContent)!==null&&a!==void 0?a:"";return m}Object.defineProperty(Jc,"__esModule",{value:!0});Jc.checkContenteditableSliceForEmptiness=Q4;var X4=Eo,J4=nu;function Q4(t,e,n,r){var i=(0,J4.getContenteditableSlice)(t,e,n,r);return(0,X4.isCollapsedWhitespaces)(i)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkContenteditableSliceForEmptiness=void 0;var e=Jc;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}})})(Mp);var NE={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContenteditableSlice=void 0;var e=nu;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return e.getContenteditableSlice}})})(NE);var BE={},gm={};Object.defineProperty(gm,"__esModule",{value:!0});gm.focus=e5;var Z4=Eo;function e5(t,e){var n,r;if(e===void 0&&(e=!0),(0,Z4.isNativeInput)(t)){t.focus();var i=e?0:t.value.length;t.setSelectionRange(i,i)}else{var a=document.createRange(),l=window.getSelection();if(!l)return;var u=function(b){var E=document.createTextNode("");b.appendChild(E),a.setStart(E,0),a.setEnd(E,0)},h=function(b){return b!=null},f=t.childNodes,m=e?f[0]:f[f.length-1];if(h(m)){for(;h(m)&&m.nodeType!==Node.TEXT_NODE;)m=e?m.firstChild:m.lastChild;if(h(m)&&m.nodeType===Node.TEXT_NODE){var g=(r=(n=m.textContent)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0,i=e?0:g;a.setStart(m,i),a.setEnd(m,i)}else u(t)}else u(t);l.removeAllRanges(),l.addRange(a)}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.focus=void 0;var e=gm;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return e.focus}})})(BE);var vm={},ru={};Object.defineProperty(ru,"__esModule",{value:!0});ru.getCaretNodeAndOffset=t5;function t5(){var t=window.getSelection();if(t===null)return[null,0];var e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]!==void 0?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],e.textContent!==null&&(n=e.textContent.length))),[e,n])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretNodeAndOffset=void 0;var e=ru;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return e.getCaretNodeAndOffset}})})(vm);var LE={},ou={};Object.defineProperty(ou,"__esModule",{value:!0});ou.getRange=n5;function n5(){var t=window.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRange=void 0;var e=ou;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return e.getRange}})})(LE);var ME={},ym={};Object.defineProperty(ym,"__esModule",{value:!0});ym.isCaretAtEndOfInput=i5;var yw=Eo,r5=vm,o5=Mp;function i5(t){var e=(0,yw.getDeepestNode)(t,!0);if(e===null)return!0;if((0,yw.isNativeInput)(e))return e.selectionEnd===e.value.length;var n=(0,r5.getCaretNodeAndOffset)(),r=n[0],i=n[1];return r===null?!1:(0,o5.checkContenteditableSliceForEmptiness)(t,r,i,"right")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtEndOfInput=void 0;var e=ym;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return e.isCaretAtEndOfInput}})})(ME);var RE={},bm={};Object.defineProperty(bm,"__esModule",{value:!0});bm.isCaretAtStartOfInput=l5;var Il=Eo,s5=ru,a5=Jc;function l5(t){var e=(0,Il.getDeepestNode)(t);if(e===null||(0,Il.isEmpty)(t))return!0;if((0,Il.isNativeInput)(e))return e.selectionEnd===0;if((0,Il.isEmpty)(t))return!0;var n=(0,s5.getCaretNodeAndOffset)(),r=n[0],i=n[1];return r===null?!1:(0,a5.checkContenteditableSliceForEmptiness)(t,r,i,"left")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtStartOfInput=void 0;var e=bm;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return e.isCaretAtStartOfInput}})})(RE);var jE={},wm={};Object.defineProperty(wm,"__esModule",{value:!0});wm.save=d5;var c5=Eo,u5=ou;function d5(){var t=(0,u5.getRange)(),e=(0,c5.make)("span");if(e.id="cursor",e.hidden=!0,!!t)return t.insertNode(e),function(){var n=window.getSelection();n&&(t.setStartAfter(e),t.setEndAfter(e),n.removeAllRanges(),n.addRange(t),setTimeout(function(){e.remove()},150))}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=void 0;var e=wm;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return e.save}})})(jE);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=t.isCaretAtStartOfInput=t.isCaretAtEndOfInput=t.getRange=t.getCaretNodeAndOffset=t.focus=t.getContenteditableSlice=t.checkContenteditableSliceForEmptiness=void 0;var e=Mp;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}});var n=NE;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return n.getContenteditableSlice}});var r=BE;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return r.focus}});var i=vm;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return i.getCaretNodeAndOffset}});var a=LE;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return a.getRange}});var l=ME;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return l.isCaretAtEndOfInput}});var u=RE;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return u.isCaretAtStartOfInput}});var h=jE;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return h.save}})})(pE);class h5 extends Te{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case ye.BACKSPACE:this.backspace(e);break;case ye.DELETE:this.delete(e);break;case ye.ENTER:this.enter(e);break;case ye.DOWN:case ye.RIGHT:this.arrowRightAndDown(e);break;case ye.UP:case ye.LEFT:this.arrowLeftAndUp(e);break;case ye.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&Mk(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:i}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const a=r.removeSelectedBlocks(),l=r.insertDefaultBlockAtIndex(a,!0);i.setToBlock(l,i.positions.START),n.clearSelection(e)})}tabPressed(e){const{InlineToolbar:n,Caret:r}=this.Editor;n.opened||(e.shiftKey?r.navigatePrevious(!0):r.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){this.Editor.BlockManager.currentBlock.isEmpty&&(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){const{BlockManager:n,UI:r}=this.Editor,i=n.currentBlock;if(i===void 0||i.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey&&!Tf)return;let a=i;i.currentInput!==void 0&&Vl(i.currentInput)&&!i.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):i.currentInput&&zl(i.currentInput)?a=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):a=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(a),this.Editor.Toolbar.moveAndOpen(a),e.preventDefault()}backspace(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:i,previousBlock:a}=n;if(!(i===void 0||!me.isCollapsed||!i.currentInput||!Vl(i.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.firstInput){r.navigatePrevious();return}if(a!==null){if(a.isEmpty){n.removeBlock(a);return}if(i.isEmpty){n.removeBlock(i);const l=n.currentBlock;r.setToBlock(l,r.positions.END);return}hw(a,i)?this.mergeBlocks(a,i):r.setToBlock(a,r.positions.END)}}}delete(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:i,nextBlock:a}=n;if(!(!me.isCollapsed||!zl(i.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.lastInput){r.navigateNext();return}if(a!==null){if(a.isEmpty){n.removeBlock(a);return}if(i.isEmpty){n.removeBlock(i),r.setToBlock(a,r.positions.START);return}hw(i,a)?this.mergeBlocks(i,a):r.setToBlock(a,r.positions.START)}}}mergeBlocks(e,n){const{BlockManager:r,Toolbar:i}=this.Editor;e.lastInput!==void 0&&(pE.focus(e.lastInput,!1),r.mergeBlocks(e,n).then(()=>{i.close()}))}arrowRightAndDown(e){const n=kc.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===ye.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.Toolbar.close();const{currentBlock:r}=this.Editor.BlockManager,i=((r==null?void 0:r.currentInput)!==void 0?zl(r.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===ye.DOWN&&i){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===ye.DOWN||e.keyCode===ye.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}vc(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(kc.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===ye.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:n}=this.Editor.BlockManager,r=((n==null?void 0:n.currentInput)!==void 0?Vl(n.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===ye.UP&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===ye.UP||e.keyCode===ye.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}vc(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===ye.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===ye.ENTER&&this.Editor.BlockSettings.opened,i=e.keyCode===ye.ENTER&&this.Editor.InlineToolbar.opened,a=e.keyCode===ye.TAB;return!(e.shiftKey||a||n||r||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}let Uh=class{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return Rk(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];$.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],i=e-1,a=Math.max(0,i),l=this.blocks[a];e>0?this.insertToDOM(r,"afterend",l):this.insertToDOM(r,"beforebegin",l),this.blocks.splice(e,0,r);const u=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(Mn.MOVED,u)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(Mn.REMOVED));const i=r?1:0;if(this.blocks.splice(e,i,n),e>0){const a=this.blocks[e-1];this.insertToDOM(n,"afterend",a)}else{const a=this.blocks[e+1];a?this.insertToDOM(n,"beforebegin",a):this.insertToDOM(n)}}replace(e,n){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(n.holder),this.blocks[e]=n}insertMany(e,n){const r=new DocumentFragment;for(const i of e)r.appendChild(i.holder);if(this.length>0){if(n>0){const i=Math.min(n-1,this.length-1);this.blocks[i].holder.after(r)}else n===0&&this.workingArea.prepend(r);this.blocks.splice(n,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(r);e.forEach(i=>i.call(Mn.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Mn.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(Mn.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(Mn.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}};const bw="block-removed",ww="block-added",f5="block-moved",xw="block-changed";class p5{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}class m5 extends Te{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Uh(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Uh.set,get:Uh.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:i={}}){const a=this.Editor.ReadOnly.isEnabled,l=this.Editor.Tools.blockTools.get(e),u=new Vn({id:r,data:n,tool:l,api:this.Editor.API,readOnly:a,tunesData:i},this.eventsDispatcher);return a||window.requestIdleCallback(()=>{this.bindBlockEvents(u)},{timeout:2e3}),u}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:i,needToFocus:a=!0,replace:l=!1,tunes:u={}}={}){let h=i;h===void 0&&(h=this.currentBlockIndex+(l?0:1));const f=this.composeBlock({id:e,tool:n,data:r,tunes:u});return l&&this.blockDidMutated(bw,this.getBlockByIndex(h),{index:h}),this._blocks.insert(h,f,l),this.blockDidMutated(ww,f,{index:h}),a?this.currentBlockIndex=h:h<=this.currentBlockIndex&&this.currentBlockIndex++,f}insertMany(e,n=0){this._blocks.insertMany(e,n)}async update(e,n,r){if(!n&&!r)return e;const i=await e.data,a=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},i,n??{}),tunes:r??e.tunes}),l=this.getBlockIndex(e);return this._blocks.replace(l,a),this.blockDidMutated(xw,a,{index:l}),a}replace(e,n,r){const i=this.getBlockIndex(e);return this.insert({tool:n,data:r,index:i,replace:!0})}paste(e,n,r=!1){const i=this.insert({tool:e,replace:r});try{window.requestIdleCallback(()=>{i.call(Mn.ON_PASTE,n)})}catch(a){Oe(`${e}: onPaste callback call is failed`,"error",a)}return i}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(ww,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){let r;if(e.name===n.name&&e.mergeable){const i=await n.data;if(Zt(i)){console.error("Could not merge Block. Failed to extract original Block data.");return}const[a]=Pp([i],e.tool.sanitizeConfig);r=a}else if(e.mergeable&&bc(n,"export")&&bc(e,"import")){const i=await n.exportDataAsString(),a=yn(i,e.tool.sanitizeConfig);r=fw(a,e.tool.conversionConfig)}r!==void 0&&(await e.mergeWith(r),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(e))}removeBlock(e,n=!0){return new Promise(r=>{const i=this._blocks.indexOf(e);if(!this.validateIndex(i))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(i),this.blockDidMutated(bw,e,{index:i}),this.currentBlockIndex>=i&&this.currentBlockIndex--,this.blocks.length?i===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),n&&this.insert()),r()})}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=$.make("div");n.appendChild(e);const r={text:$.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){$.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${Vn.CSS.wrapper}`),i=n.indexOf(r);if(i>=0)return this._blocks[i]}setCurrentBlockByChildNode(e){$.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Vn.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;$.isElement(e)||(e=e.parentNode);const n=e.closest(`.${Vn.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){Oe("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){Oe("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(f5,this.currentBlock,{fromIndex:n,toIndex:e})}async convert(e,n,r){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const i=this.Editor.Tools.blockTools.get(n);if(!i)throw new Error(`Could not convert Block. Tool ${n} not found.`);const a=await e.exportDataAsString(),l=yn(a,i.sanitizeConfig);let u=fw(l,i.conversionConfig,i.settings);return r&&(u=Object.assign(u,r)),this.replace(e,i.name,u)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(e=!1){const n=new p5;this.blocks.forEach(r=>{n.add(async()=>{await this.removeBlock(r,!1)})}),await n.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(xw,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const i=new CustomEvent(e,{detail:{target:new Ln(n),...r}});return this.eventsDispatcher.emit(Vk,{event:i}),n}}class g5 extends Te{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new me,wi.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){me.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:i,RectangleSelection:a}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const l=e&&e instanceof KeyboardEvent,u=l&&Mk(e.keyCode);if(this.anyBlockSelected&&l&&u&&!me.isSelectionExists){const h=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(h,!0),i.setToBlock(r.currentBlock),vc(()=>{const f=e.key;i.insertContentAtCaretPosition(f.length>1?"":f)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||a.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=$.make("div");this.selectedBlocks.forEach(a=>{const l=yn(a.holder.innerHTML,this.sanitizerConfig),u=$.make("p");u.innerHTML=l,n.appendChild(u)});const r=Array.from(n.childNodes).map(a=>a.textContent).join(`

`),i=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",i),Promise.all(this.selectedBlocks.map(a=>a.save())).then(a=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(a))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor,r=n.getBlockByIndex(e);r!==void 0&&this.selectBlock(r)}selectBlock(e){this.selection.save(),me.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){wi.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),$.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target),r=n.inputs;if(r.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(r.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(n),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),me.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}let v5=class Nf extends Te{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e,n=this.positions.DEFAULT,r=0){var i;const{BlockManager:a,BlockSelection:l}=this.Editor;if(l.clearSelection(),!e.focusable){(i=window.getSelection())==null||i.removeAllRanges(),l.selectBlock(e),a.currentBlock=e;return}let u;switch(n){case this.positions.START:u=e.firstInput;break;case this.positions.END:u=e.lastInput;break;default:u=e.currentInput}if(!u)return;const h=$.getDeepestNode(u,n===this.positions.END),f=$.getContentLength(h);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>f:r=f;break}this.set(h,r),a.setCurrentBlockByChildNode(e.holder),a.currentBlock.currentInput=u}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:i}=this.Editor.BlockManager,a=$.getDeepestNode(e);switch(n){case this.positions.START:this.set(a,0);break;case this.positions.END:this.set(a,$.getContentLength(a));break;default:r&&this.set(a,r)}i.currentInput=e}set(e,n=0){const{top:r,bottom:i}=me.setCursor(e,n),{innerHeight:a}=window;r<0?window.scrollBy(0,r-30):i>a&&window.scrollBy(0,i-a+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=me.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if($.isNativeInput(r)){const i=r,a=document.createDocumentFragment(),l=i.value.substring(0,i.selectionStart),u=i.value.substring(i.selectionStart);return a.textContent=u,i.value=l,a}else{const i=n.cloneRange();return i.selectNodeContents(r),i.setStart(n.endContainer,n.endOffset),i.extractContents()}}}navigateNext(e=!1){const{BlockManager:n}=this.Editor,{currentBlock:r,nextBlock:i}=n;if(r===void 0)return!1;const{nextInput:a,currentInput:l}=r,u=l!==void 0?zl(l):void 0;let h=i;const f=e||u||!r.focusable;if(a&&f)return this.setToInput(a,this.positions.START),!0;if(h===null){if(r.tool.isDefault||!f)return!1;h=n.insertAtEnd()}return f?(this.setToBlock(h,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:n,previousBlock:r}=this.Editor.BlockManager;if(!n)return!1;const{previousInput:i,currentInput:a}=n,l=a!==void 0?Vl(a):void 0,u=e||l||!n.focusable;return i&&u?(this.setToInput(i,this.positions.END),!0):r!==null&&u?(this.setToBlock(r,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(Nf.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${Nf.CSS.shadowCaret}`);if(!n)return;new me().expandToTag(n);const r=document.createRange();r.selectNode(n),r.extractContents()}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),i=me.get(),a=me.range;r.innerHTML=e,Array.from(r.childNodes).forEach(f=>n.appendChild(f)),n.childNodes.length===0&&n.appendChild(new Text);const l=n.lastChild;a.deleteContents(),a.insertNode(n);const u=document.createRange(),h=l.nodeType===Node.TEXT_NODE?l:l.firstChild;h!==null&&h.textContent!==null&&u.setStart(h,h.textContent.length),i.removeAllRanges(),i.addRange(u)}};class y5 extends Te{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const i=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,a=n.getBlockByChildNode(e.target);if(!(!i||!a)&&a!==i){if(i===this.firstSelectedBlock){me.get().removeAllRanges(),i.selected=!0,a.selected=!0,r.clearCache();return}if(a===this.firstSelectedBlock){i.selected=!1,a.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(i,a),this.lastSelectedBlock=a}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==rj.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),me.get().removeAllRanges());const i=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),a=n.blocks[i];a&&(this.lastSelectedBlock.selected!==a.selected?(a.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=a,this.Editor.InlineToolbar.close(),a.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:i}=this.Editor,a=n.blocks.indexOf(this.firstSelectedBlock),l=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&a>-1&&l>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case ye.DOWN:case ye.RIGHT:i.setToBlock(n.blocks[Math.max(a,l)],i.positions.END);break;case ye.UP:case ye.LEFT:i.setToBlock(n.blocks[Math.min(a,l)],i.positions.START);break;default:i.setToBlock(n.blocks[Math.max(a,l)],i.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;me.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:i}=this.Editor,a=r.blocks.indexOf(e),l=r.blocks.indexOf(n),u=e.selected!==n.selected;for(let h=Math.min(a,l);h<=Math.max(a,l);h++){const f=r.blocks[h];f!==this.firstSelectedBlock&&f!==(u?e:n)&&(r.blocks[h].selected=!r.blocks[h].selected,i.clearCache())}}}class b5 extends Te{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Paste:r,Caret:i}=this.Editor;e.preventDefault(),n.blocks.forEach(l=>{l.dropTarget=!1}),me.isAtEditor&&!me.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const a=n.setCurrentBlockByChildNode(e.target);if(a)this.Editor.Caret.setToBlock(a,i.positions.END);else{const l=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(l,i.positions.END)}await r.processDataTransfer(e.dataTransfer,!0)}processDragStart(){me.isAtEditor&&!me.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}const w5=180,x5=400;class k5 extends Te{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=x5,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(Vk,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(zk,()=>{this.disable()}),this.eventsDispatcher.on(Wk,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!We(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(_f,{mutations:e})}}const DE=class FE extends Te{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const n=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!We(n.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(n){Oe(`Paste handling for ${e.name} Tool hasn't been set up because of the error`,"warn",n)}},this.handlePasteEvent=async e=>{const{BlockManager:n,Toolbar:r}=this.Editor,i=n.setCurrentBlockByChildNode(e.target);!i||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||i&&this.exceptionList.includes(i.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),r.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,n=!1){const{Tools:r}=this.Editor,i=e.types;if((i.includes?i.includes("Files"):i.contains("Files"))&&!Zt(this.toolsFiles)){await this.processFiles(e.files);return}const a=e.getData(this.MIME_TYPE),l=e.getData("text/plain");let u=e.getData("text/html");if(a)try{this.insertEditorJSData(JSON.parse(a));return}catch{}n&&l.trim()&&u.trim()&&(u="<p>"+(u.trim()?u:l)+"</p>");const h=Object.keys(this.toolsTags).reduce((g,b)=>(g[b.toLowerCase()]=this.toolsTags[b].sanitizationConfig??{},g),{}),f=Object.assign({},h,r.getAllInlineToolsSanitizeConfig(),{br:{}}),m=yn(u,f);!m.trim()||m.trim()===l||!$.isHTMLString(m)?await this.processText(l):await this.processText(m,!0)}async processText(e,n=!1){const{Caret:r,BlockManager:i}=this.Editor,a=n?this.processHTML(e):this.processPlain(e);if(!a.length)return;if(a.length===1){a[0].isBlock?this.processSingleBlock(a.pop()):this.processInlinePaste(a.pop());return}const l=i.currentBlock&&i.currentBlock.tool.isDefault&&i.currentBlock.isEmpty;a.map(async(u,h)=>this.insertBlock(u,h===0&&l)),i.currentBlock&&r.setToBlock(i.currentBlock,r.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return Xn(e)?[e]:ht(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const n=e.pasteConfig.tags||[],r=[];n.forEach(i=>{const a=this.collectTagNames(i);r.push(...a),a.forEach(l=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,l)){Oe(`Paste handler for ${e.name} Tool on ${l} tag is skipped because it is already used by ${this.toolsTags[l].tool.name} Tool.`,"warn");return}const u=ht(i)?i[l]:null;this.toolsTags[l.toUpperCase()]={tool:e,sanitizationConfig:u}})}),this.tagsByTool[e.name]=r.map(i=>i.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:n={}}=e.pasteConfig;let{extensions:r,mimeTypes:i}=n;!r&&!i||(r&&!Array.isArray(r)&&(Oe(`extensions property of the onDrop config for ${e.name} Tool should be an array`),r=[]),i&&!Array.isArray(i)&&(Oe(`mimeTypes property of the onDrop config for ${e.name} Tool should be an array`),i=[]),i&&(i=i.filter(a=>lj(a)?!0:(Oe(`MIME type value ${a} for the ${e.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:r||[],mimeTypes:i||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||Zt(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([n,r])=>{r instanceof RegExp||Oe(`Pattern ${r} for ${e.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:n,pattern:r,tool:e})})}isNativeBehaviour(e){return $.isNativeInput(e)}async processFiles(e){const{BlockManager:n}=this.Editor;let r;r=await Promise.all(Array.from(e).map(a=>this.processFile(a))),r=r.filter(a=>!!a);const i=n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;r.forEach((a,l)=>{n.paste(a.type,a.event,l===0&&i)})}async processFile(e){const n=aj(e),r=Object.entries(this.toolsFiles).find(([a,{mimeTypes:l,extensions:u}])=>{const[h,f]=e.type.split("/"),m=u.find(b=>b.toLowerCase()===n.toLowerCase()),g=l.find(b=>{const[E,w]=b.split("/");return E===h&&(w===f||w==="*")});return!!m||!!g});if(!r)return;const[i]=r;return{event:this.composePasteEvent("file",{file:e}),type:i}}processHTML(e){const{Tools:n}=this.Editor,r=$.make("DIV");return r.innerHTML=e,this.getNodes(r).map(i=>{let a,l=n.defaultTool,u=!1;switch(i.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:a=$.make("div"),a.appendChild(i);break;case Node.ELEMENT_NODE:a=i,u=!0,this.toolsTags[a.tagName]&&(l=this.toolsTags[a.tagName].tool);break}const{tags:h}=l.pasteConfig||{tags:[]},f=h.reduce((b,E)=>(this.collectTagNames(E).forEach(w=>{const x=ht(E)?E[w]:null;b[w.toLowerCase()]=x||{}}),b),{}),m=Object.assign({},f,l.baseSanitizeConfig);if(a.tagName.toLowerCase()==="table"){const b=yn(a.outerHTML,m);a=$.make("div",void 0,{innerHTML:b}).firstChild}else a.innerHTML=yn(a.innerHTML,m);const g=this.composePasteEvent("tag",{data:a});return{content:a,isBlock:u,tool:l.name,event:g}}).filter(i=>{const a=$.isEmpty(i.content),l=$.isSingleTag(i.content);return!a||l})}processPlain(e){const{defaultBlock:n}=this.config;if(!e)return[];const r=n;return e.split(/\r?\n/).filter(i=>i.trim()).map(i=>{const a=$.make("div");a.textContent=i;const l=this.composePasteEvent("tag",{data:a});return{content:a,tool:r,isBlock:!1,event:l}})}async processSingleBlock(e){const{Caret:n,BlockManager:r}=this.Editor,{currentBlock:i}=r;if(!i||e.tool!==i.name||!$.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(i==null?void 0:i.tool.isDefault)&&i.isEmpty);return}n.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:n,Caret:r}=this.Editor,{content:i}=e;if(n.currentBlock&&n.currentBlock.tool.isDefault&&i.textContent.length<FE.PATTERN_PROCESSING_MAX_LENGTH){const a=await this.processPattern(i.textContent);if(a){const l=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,u=n.paste(a.tool,a.event,l);r.setToBlock(u,r.positions.END);return}}if(n.currentBlock&&n.currentBlock.currentInput){const a=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,yn(i.innerHTML,a))}else this.insertBlock(e)}async processPattern(e){const n=this.toolsPatterns.find(r=>{const i=r.pattern.exec(e);return i?e===i.shift():!1});return n?{event:this.composePasteEvent("pattern",{key:n.key,data:e}),tool:n.tool.name}:void 0}insertBlock(e,n=!1){const{BlockManager:r,Caret:i}=this.Editor,{currentBlock:a}=r;let l;if(n&&a&&a.isEmpty){l=r.paste(e.tool,e.event,!0),i.setToBlock(l,i.positions.END);return}l=r.paste(e.tool,e.event),i.setToBlock(l,i.positions.END)}insertEditorJSData(e){const{BlockManager:n,Caret:r,Tools:i}=this.Editor;Pp(e,a=>i.blockTools.get(a).sanitizeConfig).forEach(({tool:a,data:l},u)=>{let h=!1;u===0&&(h=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);const f=n.insert({tool:a,data:l,replace:h});r.setToBlock(f,r.positions.END)})}processElementNode(e,n,r){const i=Object.keys(this.toolsTags),a=e,{tool:l}=this.toolsTags[a.tagName]||{},u=this.tagsByTool[l==null?void 0:l.name]||[],h=i.includes(a.tagName),f=$.blockElements.includes(a.tagName.toLowerCase()),m=Array.from(a.children).some(({tagName:b})=>i.includes(b)&&!u.includes(b)),g=Array.from(a.children).some(({tagName:b})=>$.blockElements.includes(b.toLowerCase()));if(!f&&!h&&!m)return r.appendChild(a),[...n,r];if(h&&!m||f&&!g&&!m)return[...n,r,a]}getNodes(e){const n=Array.from(e.childNodes);let r;const i=(a,l)=>{if($.isEmpty(l)&&!$.isSingleTag(l))return a;const u=a[a.length-1];let h=new DocumentFragment;switch(u&&$.isFragment(u)&&(h=a.pop()),l.nodeType){case Node.ELEMENT_NODE:if(r=this.processElementNode(l,a,h),r)return r;break;case Node.TEXT_NODE:return h.appendChild(l),[...a,h];default:return[...a,h]}return[...a,...Array.from(l.childNodes).reduce(i,[])]};return n.reduce(i,[])}composePasteEvent(e,n){return new CustomEvent(e,{detail:n})}};DE.PATTERN_PROCESSING_MAX_LENGTH=450;let E5=DE;class C5 extends Te{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([i,a])=>{a.isReadOnlySupported||r.push(i)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(e=!this.readOnlyEnabled,n=!1){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const r=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const a in this.Editor)this.Editor[a].toggleReadOnly&&this.Editor[a].toggleReadOnly(e);if(r===e)return this.readOnlyEnabled;if(n)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const i=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(i.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new Hk(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class Ls extends Te{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const i=[`.${Vn.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],a=r.closest("."+this.Editor.UI.CSS.editorWrapper),l=i.some(u=>!!r.closest(u));!a||l||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",Ef(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Ef(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest($.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=$.make("div",Ls.CSS.overlay,{}),i=$.make("div",Ls.CSS.overlayContainer,{}),a=$.make("div",Ls.CSS.rect,{});return i.appendChild(a),r.appendChild(i),n.appendChild(r),this.overlayRectangle=a,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:i}=this.genInfoForMouseSelection(),a=this.startX>n&&this.mouseX>n,l=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(a||l),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),i!==void 0&&(this.trySelectNextBlock(i),this.inverseSelection(),me.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),i=this.Editor.BlockManager.getBlockByChildNode(r);let a;i!==void 0&&(a=this.Editor.BlockManager.blocks.findIndex(m=>m.holder===i.holder));const l=this.Editor.BlockManager.lastBlock.holder.querySelector("."+Vn.CSS.content),u=Number.parseInt(window.getComputedStyle(l).width,10)/2,h=e-u,f=e+u;return{index:a,leftPos:h,rightPos:f}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,i=1,a=-1,l=0;if(n)return;const u=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let h=l;r>1&&(h=u?i:a);const f=e>this.stackOfSelected[r-1]&&h===i,m=e<this.stackOfSelected[r-1]&&h===a,g=!(f||m||h===l);if(!g&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let w=this.stackOfSelected[r-1]+1||e;for(w;w<=e;w++)this.addBlockInSelection(w);return}if(!g&&e<this.stackOfSelected[r-1]){for(let w=this.stackOfSelected[r-1]-1;w>=e;w--)this.addBlockInSelection(w);return}if(!g)return;let b=r-1,E;for(e>this.stackOfSelected[r-1]?E=()=>e>this.stackOfSelected[b]:E=()=>e<this.stackOfSelected[b];E();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[b]),this.stackOfSelected.pop(),b--}}class S5 extends Te{async render(e){return new Promise(n=>{const{Tools:r,BlockManager:i}=this.Editor;if(e.length===0)i.insert();else{const a=e.map(({type:l,data:u,tunes:h,id:f})=>{r.available.has(l)===!1&&(Qt(`Tool ${l} is not found. Check 'tools' property at the Editor.js config.`,"warn"),u=this.composeStubDataForTool(l,u,f),l=r.stubTool);let m;try{m=i.composeBlock({id:f,tool:l,data:u,tunes:h})}catch(g){Oe(`Block ${l} skipped because of plugins error`,"error",{data:u,error:g}),u=this.composeStubDataForTool(l,u,f),l=r.stubTool,m=i.composeBlock({id:f,tool:l,data:u,tunes:h})}return m});i.insertMany(a)}window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(e,n,r){const{Tools:i}=this.Editor;let a=e;if(i.unavailable.has(e)){const l=i.unavailable.get(e).toolbox;l!==void 0&&l[0].title!==void 0&&(a=l[0].title)}return{savedData:{id:r,type:e,data:n},title:a}}}class T5 extends Te{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,i=[];try{r.forEach(u=>{i.push(this.getSavedData(u))});const a=await Promise.all(i),l=await Pp(a,u=>n.blockTools.get(u).sanitizeConfig);return this.makeOutput(l)}catch(a){Qt("Saving failed due to the Error %o","error",a)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){const n=[];return e.forEach(({id:r,tool:i,data:a,tunes:l,isValid:u})=>{if(!u){Oe(`Block ${i} skipped because saved data is invalid`);return}if(i===this.Editor.Tools.stubTool){n.push(a);return}const h={id:r,type:i,data:a,...!Zt(l)&&{tunes:l}};n.push(h)}),{time:+new Date,blocks:n,version:"2.31.0-rc.7"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const _5='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function P5(t){const e=document.createElement("div");e.innerHTML=t.trim();const n=document.createDocumentFragment();return n.append(...Array.from(e.childNodes)),n}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class xm{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:xm.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=n.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const n=P5(e.text);this._element.appendChild(n),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this._data=n,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:_5,title:"Text"}}}class km{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:tD,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}km.isInline=!0;km.title="Bold";class Em{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=lD,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}Em.isInline=!0;Em.title="Italic";class Cm{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new me}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=pw,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=hD,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=pw,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new me;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),Oe("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",i=/^\/\/[^/\s]/.test(e);return!n&&!r&&!i&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}Cm.isInline=!0;Cm.title="Link";class UE{constructor({api:e}){this.i18nAPI=e.i18n,this.blocksAPI=e.blocks,this.selectionAPI=e.selection,this.toolsAPI=e.tools,this.caretAPI=e.caret}async render(){const e=me.get(),n=this.blocksAPI.getBlockByElement(e.anchorNode);if(n===void 0)return[];const r=this.toolsAPI.getBlockTools(),i=await qk(n,r);if(i.length===0)return[];const a=i.reduce((f,m)=>{var g;return(g=m.toolbox)==null||g.forEach(b=>{f.push({icon:b.icon,title:Ct.t(Ut.toolNames,b.title),name:m.name,closeOnActivate:!0,onActivate:async()=>{const E=await this.blocksAPI.convert(n.id,m.name,b.data);this.caretAPI.setToBlock(E,"end")}})}),f},[]),l=await n.getActiveToolboxEntry(),u=l!==void 0?l.icon:eE,h=!Oi();return{icon:u,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:h,items:a,onOpen:()=>{h&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{h&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}}UE.isInline=!0;class HE{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=$.make("div",this.CSS.wrapper),n=fD,r=$.make("div",this.CSS.info),i=$.make("div",this.CSS.title,{textContent:this.title}),a=$.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(i),r.appendChild(a),e.appendChild(r),e}}HE.isReadOnlySupported=!0;class I5 extends Lp{constructor(){super(...arguments),this.type=po.Inline}get title(){return this.constructable[Cc.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[Cc.IsReadOnlySupported]??!1}}class O5 extends Lp{constructor(){super(...arguments),this.type=po.Tune}create(e,n){return new this.constructable({api:this.api,config:this.settings,block:n,data:e})}}let vn=class ti extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new ti(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new ti(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new ti(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new ti(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new ti(e)}};var A5=Object.defineProperty,N5=Object.getOwnPropertyDescriptor,$E=(t,e,n,r)=>{for(var i=N5(e,n),a=t.length-1,l;a>=0;a--)(l=t[a])&&(i=l(e,n,i)||i);return i&&A5(e,n,i),i};class Sm extends Lp{constructor(){super(...arguments),this.type=po.Block,this.inlineTools=new vn,this.tunes=new vn}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[ei.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[ei.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[ei.Toolbox],n=this.config[$l.Toolbox];if(!Zt(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,i)=>{const a=e[i];return a?{...a,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[ei.ConversionConfig]}get enabledInlineTools(){return this.config[$l.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[$l.EnabledBlockTunes]}get pasteConfig(){return this.constructable[ei.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(Zt(e))return n;const r={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];ht(a)?r[i]=Object.assign({},n,a):r[i]=a}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}$E([Ii],Sm.prototype,"sanitizeConfig");$E([Ii],Sm.prototype,"baseSanitizeConfig");class B5{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...i}=this.config[e],a=this.getConstructor(n),l=n[Of.IsTune];return new a({name:e,constructable:n,config:i,api:this.api.getMethodsForTool(e,l),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[Cc.IsInline]:return I5;case e[Of.IsTune]:return O5;default:return Sm}}}class VE{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:nD,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,i=r.getBoundingClientRect();let a=Math.abs(window.innerHeight-r.offsetHeight);i.top<window.innerHeight&&(a=window.scrollY+r.offsetHeight),window.scrollTo(0,a),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}VE.isTune=!0;class zE{constructor({api:e}){this.api=e}render(){return{icon:sD,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}zE.isTune=!0;class WE{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:iD,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const i=n.holder,a=r.holder,l=i.getBoundingClientRect(),u=a.getBoundingClientRect();let h;u.top>0?h=Math.abs(l.top)-Math.abs(u.top):h=Math.abs(l.top)+u.height,window.scrollBy(0,-1*h),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}WE.isTune=!0;var L5=Object.defineProperty,M5=Object.getOwnPropertyDescriptor,R5=(t,e,n,r)=>{for(var i=M5(e,n),a=t.length-1,l;a>=0;a--)(l=t[a])&&(i=l(e,n,i)||i);return i&&L5(e,n,i),i};class KE extends Te{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new vn,this.toolsUnavailable=new vn}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Cf({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new B5(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await sj(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{We(e.reset)&&await e.reset()})}get internalTools(){return{convertTo:{class:UE,isInternal:!0},link:{class:Cm,isInternal:!0},bold:{class:km,isInternal:!0},italic:{class:Em,isInternal:!0},paragraph:{class:xm,inlineToolbar:!0,isInternal:!0},stub:{class:HE,isInternal:!0},moveUp:{class:WE,isInternal:!0},delete:{class:zE,isInternal:!0},moveDown:{class:VE,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render"].filter(i=>!n.create()[i]);if(r.length){Oe(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,i])=>{n.push({function:We(i.class.prepare)?i.class.prepare:()=>{},data:{toolName:r,config:i.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new vn(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new vn(["convertTo",...e.enabledInlineTools].map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new vn(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new vn([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new vn(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new vn([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!We(n)&&!We(n.class))throw Error(`Tool ${e} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const e={};for(const n in this.config.tools)ht(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}R5([Ii],KE.prototype,"getAllInlineToolsSanitizeConfig");const j5=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;class D5 extends Te{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=null,this.resizeDebouncer=dw(()=>{this.windowResize()},200),this.selectionChangeDebounced=dw(()=>{this.selectionChanged()},w5),this.documentTouchedListener=e=>{this.documentTouched(e)}}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache!==null)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${Vn.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.unbindReadOnlySensitiveListeners():window.requestIdleCallback(()=>{this.bindReadOnlySensitiveListeners()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r}=this.Editor;return!!(n.opened||r.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof kc).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML="",this.unbindReadOnlyInsensitiveListeners()}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r}=this.Editor;n.close(),r.close(),e.toolbox.close()}setIsMobile(){const e=window.innerWidth<jk;e!==this.isMobile&&this.eventsDispatcher.emit(Ks,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=$.getHolder(this.config.holder),this.nodes.wrapper=$.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=$.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper),this.bindReadOnlyInsensitiveListeners()}loadStyles(){const e="editor-js-styles";if($.get(e))return;const n=$.make("style",null,{id:e,textContent:j5.toString()});this.config.style&&!Zt(this.config.style)&&this.config.style.nonce&&n.setAttribute("nonce",this.config.style.nonce),$.prepend(document.head,n)}bindReadOnlyInsensitiveListeners(){this.listeners.on(document,"selectionchange",this.selectionChangeDebounced),this.listeners.on(window,"resize",this.resizeDebouncer,{passive:!0}),this.listeners.on(this.nodes.redactor,"mousedown",this.documentTouchedListener,{capture:!0,passive:!0}),this.listeners.on(this.nodes.redactor,"touchstart",this.documentTouchedListener,{capture:!0,passive:!0})}unbindReadOnlyInsensitiveListeners(){this.listeners.off(document,"selectionchange",this.selectionChangeDebounced),this.listeners.off(window,"resize",this.resizeDebouncer),this.listeners.off(this.nodes.redactor,"mousedown",this.documentTouchedListener),this.listeners.off(this.nodes.redactor,"touchstart",this.documentTouchedListener)}bindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Ef(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(uE,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}unbindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case ye.ENTER:this.enterPressed(e);break;case ye.BACKSPACE:case ye.DELETE:this.backspacePressed(e);break;case ye.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&i||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:i}=this.Editor;if(r.anyBlockSelected&&!me.isSelectionExists){const a=n.removeSelectedBlocks(),l=n.insertDefaultBlockAtIndex(a,!0);i.setToBlock(l,i.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor;if(this.someToolbarOpened)return;const i=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!me.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&i&&e.target.tagName==="BODY"){const a=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(a),this.Editor.Toolbar.moveAndOpen(a)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var n,r;if(!e.isTrusted)return;const i=e.target;this.nodes.holder.contains(i)||me.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const a=(n=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:n.contains(i),l=(r=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:r.contains(i),u=a||l;if(this.Editor.BlockSettings.opened&&!u){this.Editor.BlockSettings.close();const h=this.Editor.BlockManager.getBlockByChildNode(i);this.Editor.Toolbar.moveAndOpen(h)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,i=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,i)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.ReadOnly.isEnabled||this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!me.isCollapsed)return;const n=e.target,r=e.metaKey||e.ctrlKey;if($.isAnchor(n)&&r){e.stopImmediatePropagation(),e.stopPropagation();const i=n.getAttribute("href"),a=uj(i);hj(a);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const n=this.Editor.BlockManager.getBlockByIndex(-1),r=$.offset(n.holder).bottom,i=e.pageY,{BlockSelection:a}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!a.anyBlockSelected&&r<i){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:l,Caret:u,Toolbar:h}=this.Editor;(!l.lastBlock.tool.isDefault||!l.lastBlock.isEmpty)&&l.insertAtEnd(),u.setToTheLastBlock(),h.moveAndOpen(l.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=me.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&me.get().removeAllRanges(),!r){me.range||this.Editor.InlineToolbar.close();return}const i=r.closest(`.${Vn.CSS.content}`);(i===null||i.closest(`.${me.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(n){const r=n.target;Dk(r)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}}const F5={BlocksAPI:Ej,CaretAPI:Sj,EventsAPI:Tj,I18nAPI:_j,API:Pj,InlineToolbarAPI:Ij,ListenersAPI:Oj,NotifierAPI:Lj,ReadOnlyAPI:Mj,SanitizerAPI:$j,SaverAPI:Vj,SelectionAPI:zj,ToolsAPI:Wj,StylesAPI:Kj,ToolbarAPI:qj,TooltipAPI:Qj,UiAPI:Zj,BlockSettings:SD,Toolbar:BD,InlineToolbar:LD,BlockEvents:h5,BlockManager:m5,BlockSelection:g5,Caret:v5,CrossBlockSelection:y5,DragNDrop:b5,ModificationsObserver:k5,Paste:E5,ReadOnly:C5,RectangleSelection:Ls,Renderer:S5,Saver:T5,Tools:KE,UI:D5};class U5{constructor(e){this.moduleInstances={},this.eventsDispatcher=new la;let n,r;this.isReady=new Promise((i,a)=>{n=i,r=a}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:i,Caret:a,UI:l,ModificationsObserver:u}=this.moduleInstances;l.checkEmptiness(),u.enable(),this.configuration.autofocus===!0&&this.configuration.readOnly!==!0&&a.setToBlock(i.blocks[0],a.positions.START),n()}).catch(i=>{Oe(`Editor.js is not ready because of ${i}`,"error"),r(i)})}set configuration(e){var n,r;ht(e)?this.config={...e}:this.config={holder:e},Sf(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=Lk.VERBOSE),oj(this.config.logLevel),Sf(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const i={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Zt(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[i]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&Ct.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("holderId and holder param can't assign at the same time.");if(Xn(n)&&!$.get(n))throw Error(`element with ID ${n} is missing. Pass correct holder's ID.`);if(n&&ht(n)&&!$.isElement(n))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof Hk)throw new Error(r.message);Oe(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(F5).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){Oe("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class H5{static get version(){return"2.31.0-rc.7"}constructor(e){let n=()=>{};ht(e)&&We(e.onReady)&&(n=e.onReady);const r=new U5(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(i=>{We(i.destroy)&&i.destroy(),i.listeners.removeAll()}),Jj(),e=null;for(const i in this)Object.prototype.hasOwnProperty.call(this,i)&&delete this[i];Object.setPrototypeOf(this,null)};n.forEach(i=>{this[i]=e[i]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([i,a])=>{Object.entries(a).forEach(([l,u])=>{this[u]=e.moduleInstances.API.methods[i][l]})})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const $5={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([t,e])=>{if(!e&&t)return t;const n={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};let r=e.slice(1).split("&").map(i=>{const[a,l]=i.split("=");return!t&&a==="v"?(t=l,null):!n[a]||l==="LL"||l.startsWith("RDMM")||l.startsWith("FL")?null:`${n[a]}=${l}`}).filter(i=>!!i);return t+"?"+r.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:t=>t.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:t=>t.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:t=>t.join("/embed/")},instagram:{regex:/^https:\/\/(?:www\.)?instagram\.com\/(?:reel|p)\/(.*)/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400,id:t=>{var e;return(e=t==null?void 0:t[0])==null?void 0:e.split("/")[0]}},twitter:{regex:/^https?:\/\/(www\.)?(?:twitter\.com|x\.com)\/.+\/status\/(\d+)/,embedUrl:"https://platform.twitter.com/embed/Tweet.html?id=<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:t=>t[1]},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:t=>t[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:t=>t.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:t=>`${t.join("/")}.js`}};function Bf(t,e,n){var r,i,a,l,u;e==null&&(e=100);function h(){var m=Date.now()-l;m<e&&m>=0?r=setTimeout(h,e-m):(r=null,n||(u=t.apply(a,i),a=i=null))}var f=function(){a=this,i=arguments,l=Date.now();var m=n&&!r;return r||(r=setTimeout(h,e)),m&&(u=t.apply(a,i),a=i=null),u};return f.clear=function(){r&&(clearTimeout(r),r=null)},f.flush=function(){r&&(u=t.apply(a,i),a=i=null,clearTimeout(r),r=null)},f}Bf.debounce=Bf;var V5=Bf;let z5=class oo{constructor({data:e,api:n,readOnly:r}){this.api=n,this._data={},this.element=null,this.readOnly=r,this.data=e}set data(e){var n;if(!(e instanceof Object))throw Error("Embed Tool data should be object");const{service:r,source:i,embed:a,width:l,height:u,caption:h=""}=e;this._data={service:r||this.data.service,source:i||this.data.source,embed:a||this.data.embed,width:l||this.data.width,height:u||this.data.height,caption:h||this.data.caption||""};const f=this.element;f&&((n=f.parentNode)==null||n.replaceChild(this.render(),f))}get data(){if(this.element){const e=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const u=document.createElement("div");return this.element=u,u}const{html:e}=oo.services[this.data.service],n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("template"),a=this.createPreloader();n.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),r.classList.add(this.CSS.input,this.CSS.caption),n.appendChild(a),r.contentEditable=(!this.readOnly).toString(),r.dataset.placeholder=this.api.i18n.t("Enter a caption"),r.innerHTML=this.data.caption||"",i.innerHTML=e,i.content.firstChild.setAttribute("src",this.data.embed),i.content.firstChild.classList.add(this.CSS.content);const l=this.embedIsReady(n);return i.content.firstChild&&n.appendChild(i.content.firstChild),n.appendChild(r),l.then(()=>{n.classList.remove(this.CSS.containerLoading)}),this.element=n,n}createPreloader(){const e=document.createElement("preloader"),n=document.createElement("div");return n.textContent=this.data.source,e.classList.add(this.CSS.preloader),n.classList.add(this.CSS.url),e.appendChild(n),e}save(){return this.data}onPaste(e){var n;const{key:r,data:i}=e.detail,{regex:a,embedUrl:l,width:u,height:h,id:f=b=>b.shift()||""}=oo.services[r],m=(n=a.exec(i))==null?void 0:n.slice(1),g=m?l.replace(/<%= remote_id %>/g,f(m)):"";this.data={service:r,source:i,embed:g,width:u,height:h}}static prepare({config:e={}}){const{services:n={}}=e;let r=Object.entries($5);const i=Object.entries(n).filter(([l,u])=>typeof u=="boolean"&&u===!0).map(([l])=>l),a=Object.entries(n).filter(([l,u])=>typeof u=="object").filter(([l,u])=>oo.checkServiceConfig(u)).map(([l,u])=>{const{regex:h,embedUrl:f,html:m,height:g,width:b,id:E}=u;return[l,{regex:h,embedUrl:f,html:m,height:g,width:b,id:E}]});i.length&&(r=r.filter(([l])=>i.includes(l))),r=r.concat(a),oo.services=r.reduce((l,[u,h])=>u in l?(l[u]=Object.assign({},l[u],h),l):(l[u]=h,l),{}),oo.patterns=r.reduce((l,[u,h])=>(h&&typeof h!="boolean"&&(l[u]=h.regex),l),{})}static checkServiceConfig(e){const{regex:n,embedUrl:r,html:i,height:a,width:l,id:u}=e;let h=!!(n&&n instanceof RegExp)&&!!(r&&typeof r=="string")&&!!(i&&typeof i=="string");return h=h&&(u!==void 0?u instanceof Function:!0),h=h&&(a!==void 0?Number.isFinite(a):!0),h=h&&(l!==void 0?Number.isFinite(l):!0),h}static get pasteConfig(){return{patterns:oo.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let n;return new Promise((r,i)=>{n=new MutationObserver(V5.debounce(r,450)),n.observe(e,{childList:!0,subtree:!0})}).then(()=>{n.disconnect()})}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const kw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',W5='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';let K5=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:kw,title:"List"}}constructor({data:e,config:n,api:r,readOnly:i}){this._elements={wrapper:null},this.api=r,this.readOnly=i,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:kw,default:n.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:W5,default:n.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(a=>a.default===!0).name,items:[]},this.data=e}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(e=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:e}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",e=>{const[n,r]=[13,8];switch(e.keyCode){case n:this.getOutofList(e);break;case r:this.backspace(e);break}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:e=>e.items.join(". "),import:e=>({items:[e],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(e=>({...e,isActive:this._data.style===e.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(e.name)}))}onPaste(e){const n=e.detail.data;this.data=this.pasteHandler(n)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(e){const n=e==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,r=e==="ordered"?"ol":"ul";return this._make(r,[this.CSS.baseBlock,this.CSS.wrapper,n],{contentEditable:!this.readOnly})}toggleTune(e){const n=this.makeMainTag(e);for(;this._elements.wrapper.hasChildNodes();)n.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(n),this._elements.wrapper=n,this._data.style=e}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(e){e||(e={}),this._data.style=e.style||this.settings.find(r=>r.default===!0).name,this._data.items=e.items||[];const n=this._elements.wrapper;n&&n.parentNode.replaceChild(this.render(),n)}get data(){this._data.items=[];const e=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let n=0;n<e.length;n++)e[n].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[n].innerHTML);return this._data}_make(e,n=null,r={}){const i=document.createElement(e);Array.isArray(n)?i.classList.add(...n):n&&i.classList.add(n);for(const a in r)i[a]=r[a];return i}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}getOutofList(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(n.length<2)return;const r=n[n.length-1],i=this.currentItem;i===r&&!r.textContent.trim().length&&(i.parentElement.removeChild(i),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}backspace(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item),r=n[0];r&&n.length<2&&!r.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}selectItem(e){e.preventDefault();const n=window.getSelection(),r=n.anchorNode.parentNode,i=r.closest("."+this.CSS.item),a=new Range;a.selectNodeContents(i),n.removeAllRanges(),n.addRange(a)}pasteHandler(e){const{tagName:n}=e;let r;switch(n){case"OL":r="ordered";break;case"UL":case"LI":r="unordered"}const i={style:r,items:[]};if(n==="LI")i.items=[e.innerHTML];else{const a=Array.from(e.querySelectorAll("LI"));i.items=a.map(l=>l.innerHTML).filter(l=>!!l.trim())}return i}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px;padding-bottom:0}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption{visibility:hidden;position:absolute;bottom:0;left:0;margin-bottom:10px}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__image-preloader{display:none}.image-tool--empty .image-tool__caption,.image-tool--uploading .image-tool__caption{visibility:hidden!important}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--uploading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--uploading .image-tool__image-picture,.image-tool--uploading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}.image-tool--caption .image-tool__caption{visibility:visible}.image-tool--caption{padding-bottom:50px}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const q5='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',G5='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',qE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',Y5='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',X5='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function Jo(t,e=null,n={}){const r=document.createElement(t);Array.isArray(e)?r.classList.add(...e):e!==null&&r.classList.add(e);for(const i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r}var Kl=(t=>(t.Empty="empty",t.Uploading="uploading",t.Filled="filled",t))(Kl||{});let J5=class{constructor({api:e,config:n,onSelectFile:r,readOnly:i}){this.api=e,this.config=n,this.onSelectFile=r,this.readOnly=i,this.nodes={wrapper:Jo("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:Jo("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:Jo("div",this.CSS.imagePreloader),caption:Jo("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(e,n){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,n)}render(){return this.toggleStatus("empty"),this.nodes.wrapper}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage=`url(${e})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus("empty")}fillImage(e){const n=/\.mp4$/.test(e)?"VIDEO":"IMG",r={src:e};let i="load";n==="VIDEO"&&(r.autoplay=!0,r.loop=!0,r.muted=!0,r.playsinline=!0,i="loadeddata"),this.nodes.imageEl=Jo(n,this.CSS.imageEl,r),this.nodes.imageEl.addEventListener(i,()=>{this.toggleStatus("filled"),this.nodes.imagePreloader!==void 0&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){this.nodes.caption!==void 0&&(this.nodes.caption.innerHTML=e)}toggleStatus(e){for(const n in Kl)if(Object.prototype.hasOwnProperty.call(Kl,n)){const r=Kl[n];this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${r}`,r===e)}}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}createFileButton(){const e=Jo("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent??`${qE} ${this.api.i18n.t("Select an Image")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}};function Q5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var GE={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return n[a].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=r,i.d=function(a,l,u){i.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,l){if(1&l&&(a=i(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var h in a)i.d(u,h,(function(f){return a[f]}).bind(null,h));return u},i.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(l,"a",l),l},i.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},i.p="",i(i.s=3)}([function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){(function(a){var l=i(2),u=setTimeout;function h(){}function f(C){if(!(this instanceof f))throw new TypeError("Promises must be constructed via new");if(typeof C!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],x(C,this)}function m(C,I){for(;C._state===3;)C=C._value;C._state!==0?(C._handled=!0,f._immediateFn(function(){var _=C._state===1?I.onFulfilled:I.onRejected;if(_!==null){var T;try{T=_(C._value)}catch(A){return void b(I.promise,A)}g(I.promise,T)}else(C._state===1?g:b)(I.promise,C._value)})):C._deferreds.push(I)}function g(C,I){try{if(I===C)throw new TypeError("A promise cannot be resolved with itself.");if(I&&(typeof I=="object"||typeof I=="function")){var _=I.then;if(I instanceof f)return C._state=3,C._value=I,void E(C);if(typeof _=="function")return void x((T=_,A=I,function(){T.apply(A,arguments)}),C)}C._state=1,C._value=I,E(C)}catch(L){b(C,L)}var T,A}function b(C,I){C._state=2,C._value=I,E(C)}function E(C){C._state===2&&C._deferreds.length===0&&f._immediateFn(function(){C._handled||f._unhandledRejectionFn(C._value)});for(var I=0,_=C._deferreds.length;I<_;I++)m(C,C._deferreds[I]);C._deferreds=null}function w(C,I,_){this.onFulfilled=typeof C=="function"?C:null,this.onRejected=typeof I=="function"?I:null,this.promise=_}function x(C,I){var _=!1;try{C(function(T){_||(_=!0,g(I,T))},function(T){_||(_=!0,b(I,T))})}catch(T){if(_)return;_=!0,b(I,T)}}f.prototype.catch=function(C){return this.then(null,C)},f.prototype.then=function(C,I){var _=new this.constructor(h);return m(this,new w(C,I,_)),_},f.prototype.finally=l.a,f.all=function(C){return new f(function(I,_){if(!C||C.length===void 0)throw new TypeError("Promise.all accepts an array");var T=Array.prototype.slice.call(C);if(T.length===0)return I([]);var A=T.length;function L(W,R){try{if(R&&(typeof R=="object"||typeof R=="function")){var H=R.then;if(typeof H=="function")return void H.call(R,function(G){L(W,G)},_)}T[W]=R,--A==0&&I(T)}catch(G){_(G)}}for(var F=0;F<T.length;F++)L(F,T[F])})},f.resolve=function(C){return C&&typeof C=="object"&&C.constructor===f?C:new f(function(I){I(C)})},f.reject=function(C){return new f(function(I,_){_(C)})},f.race=function(C){return new f(function(I,_){for(var T=0,A=C.length;T<A;T++)C[T].then(I,_)})},f._immediateFn=typeof a=="function"&&function(C){a(C)}||function(C){u(C,0)},f._unhandledRejectionFn=function(C){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",C)},r.a=f}).call(this,i(5).setImmediate)},function(n,r,i){r.a=function(a){var l=this.constructor;return this.then(function(u){return l.resolve(a()).then(function(){return u})},function(u){return l.resolve(a()).then(function(){return l.reject(u)})})}},function(n,r,i){function a(x){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(x)}i(4);var l,u,h,f,m,g,b,E=i(8),w=(u=function(x){return new Promise(function(C,I){x=f(x),(x=m(x)).beforeSend&&x.beforeSend();var _=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");_.open(x.method,x.url),_.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(x.headers).forEach(function(A){var L=x.headers[A];_.setRequestHeader(A,L)});var T=x.ratio;_.upload.addEventListener("progress",function(A){var L=Math.round(A.loaded/A.total*100),F=Math.ceil(L*T/100);x.progress(Math.min(F,100))},!1),_.addEventListener("progress",function(A){var L=Math.round(A.loaded/A.total*100),F=Math.ceil(L*(100-T)/100)+T;x.progress(Math.min(F,100))},!1),_.onreadystatechange=function(){if(_.readyState===4){var A=_.response;try{A=JSON.parse(A)}catch{}var L=E.parseHeaders(_.getAllResponseHeaders()),F={body:A,code:_.status,headers:L};b(_.status)?C(F):I(F)}},_.send(x.data)})},h=function(x){return x.method="POST",u(x)},f=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(x.url&&typeof x.url!="string")throw new Error("Url must be a string");if(x.url=x.url||"",x.method&&typeof x.method!="string")throw new Error("`method` must be a string or null");if(x.method=x.method?x.method.toUpperCase():"GET",x.headers&&a(x.headers)!=="object")throw new Error("`headers` must be an object or null");if(x.headers=x.headers||{},x.type&&(typeof x.type!="string"||!Object.values(l).includes(x.type)))throw new Error("`type` must be taken from module's contentType library");if(x.progress&&typeof x.progress!="function")throw new Error("`progress` must be a function or null");if(x.progress=x.progress||function(C){},x.beforeSend=x.beforeSend||function(C){},x.ratio&&typeof x.ratio!="number")throw new Error("`ratio` must be a number");if(x.ratio<0||x.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(x.ratio=x.ratio||90,x.accept&&typeof x.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(x.accept=x.accept||"*/*",x.multiple&&typeof x.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(x.multiple=x.multiple||!1,x.fieldName&&typeof x.fieldName!="string")throw new Error("`fieldName` must be a string");return x.fieldName=x.fieldName||"files",x},m=function(x){switch(x.method){case"GET":var C=g(x.data,l.URLENCODED);delete x.data,x.url=/\?/.test(x.url)?x.url+"&"+C:x.url+"?"+C;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var I=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||l.JSON}(x);(E.isFormData(x.data)||E.isFormElement(x.data))&&(I=l.FORM),x.data=g(x.data,I),I!==w.contentType.FORM&&(x.headers["content-type"]=I)}return x},g=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case l.URLENCODED:return E.urlEncode(x);case l.JSON:return E.jsonEncode(x);case l.FORM:return E.formEncode(x);default:return x}},b=function(x){return x>=200&&x<300},{contentType:l={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(x){return x.method="GET",u(x)},post:h,transport:function(x){return x=f(x),E.selectFiles(x).then(function(C){for(var I=new FormData,_=0;_<C.length;_++)I.append(x.fieldName,C[_],C[_].name);E.isObject(x.data)&&Object.keys(x.data).forEach(function(A){var L=x.data[A];I.append(A,L)});var T=x.beforeSend;return x.beforeSend=function(){return T(C)},x.data=I,h(x)})},selectFiles:function(x){return delete(x=f(x)).beforeSend,E.selectFiles(x)}});n.exports=w},function(n,r,i){i.r(r);var a=i(1);window.Promise=window.Promise||a.a},function(n,r,i){(function(a){var l=a!==void 0&&a||typeof self<"u"&&self||window,u=Function.prototype.apply;function h(f,m){this._id=f,this._clearFn=m}r.setTimeout=function(){return new h(u.call(setTimeout,l,arguments),clearTimeout)},r.setInterval=function(){return new h(u.call(setInterval,l,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(f){f&&f.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(l,this._id)},r.enroll=function(f,m){clearTimeout(f._idleTimeoutId),f._idleTimeout=m},r.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},r._unrefActive=r.active=function(f){clearTimeout(f._idleTimeoutId);var m=f._idleTimeout;m>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},m))},i(6),r.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,i(0))},function(n,r,i){(function(a,l){(function(u,h){if(!u.setImmediate){var f,m,g,b,E,w=1,x={},C=!1,I=u.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(u);_=_&&_.setTimeout?_:u,{}.toString.call(u.process)==="[object process]"?f=function(L){l.nextTick(function(){A(L)})}:function(){if(u.postMessage&&!u.importScripts){var L=!0,F=u.onmessage;return u.onmessage=function(){L=!1},u.postMessage("","*"),u.onmessage=F,L}}()?(b="setImmediate$"+Math.random()+"$",E=function(L){L.source===u&&typeof L.data=="string"&&L.data.indexOf(b)===0&&A(+L.data.slice(b.length))},u.addEventListener?u.addEventListener("message",E,!1):u.attachEvent("onmessage",E),f=function(L){u.postMessage(b+L,"*")}):u.MessageChannel?((g=new MessageChannel).port1.onmessage=function(L){A(L.data)},f=function(L){g.port2.postMessage(L)}):I&&"onreadystatechange"in I.createElement("script")?(m=I.documentElement,f=function(L){var F=I.createElement("script");F.onreadystatechange=function(){A(L),F.onreadystatechange=null,m.removeChild(F),F=null},m.appendChild(F)}):f=function(L){setTimeout(A,0,L)},_.setImmediate=function(L){typeof L!="function"&&(L=new Function(""+L));for(var F=new Array(arguments.length-1),W=0;W<F.length;W++)F[W]=arguments[W+1];var R={callback:L,args:F};return x[w]=R,f(w),w++},_.clearImmediate=T}function T(L){delete x[L]}function A(L){if(C)setTimeout(A,0,L);else{var F=x[L];if(F){C=!0;try{(function(W){var R=W.callback,H=W.args;switch(H.length){case 0:R();break;case 1:R(H[0]);break;case 2:R(H[0],H[1]);break;case 3:R(H[0],H[1],H[2]);break;default:R.apply(h,H)}})(F)}finally{T(L),C=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,i(0),i(7))},function(n,r){var i,a,l=n.exports={};function u(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function f(_){if(i===setTimeout)return setTimeout(_,0);if((i===u||!i)&&setTimeout)return i=setTimeout,setTimeout(_,0);try{return i(_,0)}catch{try{return i.call(null,_,0)}catch{return i.call(this,_,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:u}catch{i=u}try{a=typeof clearTimeout=="function"?clearTimeout:h}catch{a=h}})();var m,g=[],b=!1,E=-1;function w(){b&&m&&(b=!1,m.length?g=m.concat(g):E=-1,g.length&&x())}function x(){if(!b){var _=f(w);b=!0;for(var T=g.length;T;){for(m=g,g=[];++E<T;)m&&m[E].run();E=-1,T=g.length}m=null,b=!1,function(A){if(a===clearTimeout)return clearTimeout(A);if((a===h||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(A);try{a(A)}catch{try{return a.call(null,A)}catch{return a.call(this,A)}}}(_)}}function C(_,T){this.fun=_,this.array=T}function I(){}l.nextTick=function(_){var T=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)T[A-1]=arguments[A];g.push(new C(_,T)),g.length!==1||b||f(x)},C.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=I,l.addListener=I,l.once=I,l.off=I,l.removeListener=I,l.removeAllListeners=I,l.emit=I,l.prependListener=I,l.prependOnceListener=I,l.listeners=function(_){return[]},l.binding=function(_){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(_){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(n,r,i){function a(u,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}var l=i(9);n.exports=function(){function u(){(function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")})(this,u)}var h,f,m;return h=u,m=[{key:"urlEncode",value:function(g){return l(g)}},{key:"jsonEncode",value:function(g){return JSON.stringify(g)}},{key:"formEncode",value:function(g){if(this.isFormData(g))return g;if(this.isFormElement(g))return new FormData(g);if(this.isObject(g)){var b=new FormData;return Object.keys(g).forEach(function(E){var w=g[E];b.append(E,w)}),b}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(g){return Object.prototype.toString.call(g)==="[object Object]"}},{key:"isFormData",value:function(g){return g instanceof FormData}},{key:"isFormElement",value:function(g){return g instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(b,E){var w=document.createElement("INPUT");w.type="file",g.multiple&&w.setAttribute("multiple","multiple"),g.accept&&w.setAttribute("accept",g.accept),w.style.display="none",document.body.appendChild(w),w.addEventListener("change",function(x){var C=x.target.files;b(C),document.body.removeChild(w)},!1),w.click()})}},{key:"parseHeaders",value:function(g){var b=g.trim().split(/[\r\n]+/),E={};return b.forEach(function(w){var x=w.split(": "),C=x.shift(),I=x.join(": ");C&&(E[C]=I)}),E}}],(f=null)&&a(h.prototype,f),m&&a(h,m),u}()},function(n,r){var i=function(l){return encodeURIComponent(l).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},a=function(l,u,h,f){return u=u||null,h=h||"&",f=f||null,l?function(m){for(var g=new Array,b=0;b<m.length;b++)m[b]&&g.push(m[b]);return g}(Object.keys(l).map(function(m){var g,b,E=m;if(f&&(E=f+"["+E+"]"),typeof l[m]=="object"&&l[m]!==null)g=a(l[m],null,h,E);else{u&&(b=E,E=!isNaN(parseFloat(b))&&isFinite(b)?u+Number(E):E);var w=l[m];w=(w=(w=(w=w===!0?"1":w)===!1?"0":w)===0?"0":w)||"",g=i(E)+"="+i(w)}return g})).join(h).replace(/[!'()*]/g,""):""};n.exports=a}])})})(GE);var Z5=GE.exports;const Qo=Q5(Z5);function Hh(t){return t!==void 0&&typeof t.then=="function"}let e3=class{constructor({config:e,onUpload:n,onError:r}){this.config=e,this.onUpload=n,this.onError=r}uploadSelectedFile({onPreview:e}){const n=function(i){const a=new FileReader;a.readAsDataURL(i),a.onload=l=>{e(l.target.result)}};let r;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"){const i=this.config.uploader.uploadByFile;r=Qo.selectFiles({accept:this.config.types??"image/*"}).then(a=>{n(a[0]);const l=i(a[0]);return Hh(l)||console.warn("Custom uploader method uploadByFile should return a Promise"),l})}else r=Qo.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"image/*",headers:this.config.additionalRequestHeaders,beforeSend:i=>{n(i[0])},fieldName:this.config.field??"image"}).then(i=>i.body);r.then(i=>{this.onUpload(i)}).catch(i=>{this.onError(i)})}uploadByUrl(e){let n;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(n=this.config.uploader.uploadByUrl(e),Hh(n)||console.warn("Custom uploader method uploadByUrl should return a Promise")):n=Qo.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:Qo.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(r=>r.body),n.then(r=>{this.onUpload(r)}).catch(r=>{this.onError(r)})}uploadByFile(e,{onPreview:n}){const r=new FileReader;r.readAsDataURL(e),r.onload=a=>{n(a.target.result)};let i;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")i=this.config.uploader.uploadByFile(e),Hh(i)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const a=new FormData;a.append(this.config.field??"image",e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([l,u])=>{a.append(l,u)}),i=Qo.post({url:this.config.endpoints.byFile,data:a,type:Qo.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(l=>l.body)}i.then(a=>{this.onUpload(a)}).catch(a=>{this.onError(a)})}};/**
 * Image Tool for the Editor.js
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.ts  main Tool's interface, public API and methods for working with data
 *  2) uploader.ts  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.ts  module for UI manipulations: render, showing preloader, etc
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */let t3=class Lf{constructor({data:e,config:n,api:r,readOnly:i,block:a}){this.isCaptionEnabled=null,this.api=r,this.block=a,this.config={endpoints:n.endpoints,additionalRequestData:n.additionalRequestData,additionalRequestHeaders:n.additionalRequestHeaders,field:n.field,types:n.types,captionPlaceholder:this.api.i18n.t(n.captionPlaceholder??"Caption"),buttonContent:n.buttonContent,uploader:n.uploader,actions:n.actions,features:n.features||{}},this.uploader=new e3({config:this.config,onUpload:l=>this.onUpload(l),onError:l=>this.uploadingFailed(l)}),this.ui=new J5({api:r,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:l=>{this.ui.showPreloader(l)}})},readOnly:i}),this._data={caption:"",withBorder:!1,withBackground:!1,stretched:!1,file:{url:""}},this.data=e}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:qE,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:G5,title:"With border",toggle:!0},{name:"stretched",icon:Y5,title:"Stretch image",toggle:!0},{name:"withBackground",icon:q5,title:"With background",toggle:!0}]}render(){var e,n,r;return(((e=this.config.features)==null?void 0:e.caption)===!0||((n=this.config.features)==null?void 0:n.caption)===void 0||((r=this.config.features)==null?void 0:r.caption)==="optional"&&this.data.caption)&&(this.isCaptionEnabled=!0),this.ui.render()}validate(e){return!!e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){var e;const n=Lf.tunes.concat(this.config.actions||[]),r={border:"withBorder",background:"withBackground",stretch:"stretched",caption:"caption"};((e=this.config.features)==null?void 0:e.caption)==="optional"&&n.push({name:"caption",icon:X5,title:"With caption",toggle:!0});const i=n.filter(l=>{var u,h;const f=Object.keys(r).find(m=>r[m]===l.name);return f==="caption"?((u=this.config.features)==null?void 0:u.caption)!==!1:f==null||((h=this.config.features)==null?void 0:h[f])!==!1}),a=l=>{let u=this.data[l.name];return l.name==="caption"&&(u=this.isCaptionEnabled??u),u};return i.map(l=>({icon:l.icon,label:this.api.i18n.t(l.title),name:l.name,toggle:l.toggle,isActive:a(l),onActivate:()=>{if(typeof l.action=="function"){l.action(l.name);return}let u=!a(l);l.name==="caption"&&(this.isCaptionEnabled=!(this.isCaptionEnabled??!1),u=this.isCaptionEnabled),this.tuneToggled(l.name,u)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{const n=e.detail.data;if(/^blob:/.test(n.src)){const r=await(await fetch(n.src)).blob();this.uploadFile(r);break}this.uploadUrl(n.src);break}case"pattern":{const n=e.detail.data;this.uploadUrl(n);break}case"file":{const n=e.detail.file;this.uploadFile(n);break}}}set data(e){this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),Lf.tunes.forEach(({name:n})=>{const r=typeof e[n]<"u"?e[n]===!0||e[n]==="true":!1;this.setTune(n,r)}),e.caption&&this.setTune("caption",!0)}get data(){return this._data}set image(e){this._data.file=e||{url:""},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e,n){e==="caption"?(this.ui.applyTune(e,n),n==!1&&(this._data.caption="",this.ui.fillCaption(""))):this.setTune(e,n)}setTune(e,n){this._data[e]=n,this.ui.applyTune(e,n),e==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=n}).catch(r=>{console.error(r)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:n=>{this.ui.showPreloader(n)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const n3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',r3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',o3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',i3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',s3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',a3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',l3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */let c3=class{constructor({data:e,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this._settings=n,this._data=this.normalizeData(e),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(e){return e.text!==void 0}normalizeData(e){const n={text:"",level:this.defaultLevel.number};return this.isHeaderData(e)&&(n.text=e.text||"",e.level!==void 0&&!isNaN(parseInt(e.level.toString()))&&(n.level=parseInt(e.level.toString()))),n}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number,render:()=>document.createElement("div")}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){this._element.insertAdjacentHTML("beforeend",e.text)}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){const n=this.getTag();n.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(n,this._element),this._element=n}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(n=>n.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find(n=>n.number===this._settings.defaultLevel);if(e)return e;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const e=[{number:1,tag:"H1",svg:n3},{number:2,tag:"H2",svg:r3},{number:3,tag:"H3",svg:o3},{number:4,tag:"H4",svg:i3},{number:5,tag:"H5",svg:s3},{number:6,tag:"H6",svg:a3}];return this._settings.levels?e.filter(n=>this._settings.levels.includes(n.number)):e}onPaste(e){const n=e.detail;if("data"in n){const r=n.data;let i=this.defaultLevel.number;switch(r.tagName){case"H1":i=1;break;case"H2":i=2;break;case"H3":i=3;break;case"H4":i=4;break;case"H5":i=5;break;case"H6":i=6;break}this._settings.levels&&(i=this._settings.levels.reduce((a,l)=>Math.abs(l-i)<Math.abs(a-i)?l:a)),this.data={level:i,text:r.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:l3,title:"Heading"}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const u3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',d3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',h3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>';var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function f3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ql={},Tm={},_m={};Object.defineProperty(_m,"__esModule",{value:!0});_m.allInputsSelector=p3;function p3(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=_m;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(Tm);var So={},Pm={};Object.defineProperty(Pm,"__esModule",{value:!0});Pm.isNativeInput=m3;function m3(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=Pm;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(So);var YE={},Im={};Object.defineProperty(Im,"__esModule",{value:!0});Im.append=g3;function g3(t,e){Array.isArray(e)?e.forEach(function(n){t.appendChild(n)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=Im;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(YE);var Om={},Am={};Object.defineProperty(Am,"__esModule",{value:!0});Am.blockElements=v3;function v3(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=Am;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(Om);var XE={},Nm={};Object.defineProperty(Nm,"__esModule",{value:!0});Nm.calculateBaseline=y3;function y3(t){var e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,i=parseFloat(e.paddingTop),a=parseFloat(e.borderTopWidth),l=parseFloat(e.marginTop),u=n*.8,h=(r-n)/2,f=l+a+i+h+u;return f}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=Nm;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(XE);var JE={},Bm={},Lm={},Mm={};Object.defineProperty(Mm,"__esModule",{value:!0});Mm.isContentEditable=b3;function b3(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=Mm;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(Lm);Object.defineProperty(Bm,"__esModule",{value:!0});Bm.canSetCaret=k3;var w3=So,x3=Lm;function k3(t){var e=!0;if((0,w3.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,x3.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=Bm;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(JE);var iu={},Rm={};function E3(t,e,n){const r=n.value!==void 0?"value":"get",i=n[r],a=`#${e}Cache`;if(n[r]=function(...l){return this[a]===void 0&&(this[a]=i.apply(this,l)),this[a]},r==="get"&&n.set){const l=n.set;n.set=function(u){delete t[a],l.apply(this,u)}}return n}function QE(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e!==void 0&&(t[e]=!0),t}function jm(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function C3(t){return!jm(t)}const S3=()=>typeof window<"u"&&window.navigator!==null&&jm(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function T3(t){const e=QE();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function _3(t){return t[0].toUpperCase()+t.slice(1)}function P3(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const n=window.getSelection(),r=document.createRange();if(r.selectNode(e),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}function I3(t,e,n){let r;return(...i)=>{const a=this,l=()=>{r=void 0,n!==!0&&t.apply(a,i)},u=n===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(l,e),u&&t.apply(a,i)}}function Mr(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function O3(t){return Mr(t)==="boolean"}function ZE(t){return Mr(t)==="function"||Mr(t)==="asyncfunction"}function A3(t){return ZE(t)&&/^\s*class\s+/.test(t.toString())}function N3(t){return Mr(t)==="number"}function Gl(t){return Mr(t)==="object"}function B3(t){return Promise.resolve(t)===t}function L3(t){return Mr(t)==="string"}function M3(t){return Mr(t)==="undefined"}function Mf(t,...e){if(!e.length)return t;const n=e.shift();if(Gl(t)&&Gl(n))for(const r in n)Gl(n[r])?(t[r]===void 0&&Object.assign(t,{[r]:{}}),Mf(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Mf(t,...e)}function R3(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&console.warn(r)}function j3(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function D3(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const F3={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},U3={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class H3{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}function $3(t,e,n=void 0){let r,i,a,l=null,u=0;n||(n={});const h=function(){u=n.leading===!1?0:Date.now(),l=null,a=t.apply(r,i),l===null&&(r=i=null)};return function(){const f=Date.now();!u&&n.leading===!1&&(u=f);const m=e-(f-u);return r=this,i=arguments,m<=0||m>e?(l&&(clearTimeout(l),l=null),u=f,a=t.apply(r,i),l===null&&(r=i=null)):!l&&n.trailing!==!1&&(l=setTimeout(h,m)),a}}const V3=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:H3,beautifyShortcut:T3,cacheable:E3,capitalize:_3,copyTextToClipboard:P3,debounce:I3,deepMerge:Mf,deprecationAssert:R3,getUserOS:QE,getValidUrl:j3,isBoolean:O3,isClass:A3,isEmpty:C3,isFunction:ZE,isIosDevice:S3,isNumber:N3,isObject:Gl,isPrintableKey:D3,isPromise:B3,isString:L3,isUndefined:M3,keyCodes:F3,mouseButtons:U3,notEmpty:jm,throttle:$3,typeOf:Mr},Symbol.toStringTag,{value:"Module"})),Dm=f3(V3);Object.defineProperty(Rm,"__esModule",{value:!0});Rm.containsOnlyInlineElements=K3;var z3=Dm,W3=Om;function K3(t){var e;(0,z3.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var n=function(r){return!(0,W3.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(n)};return Array.from(e.children).every(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=Rm;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(iu);var eC={},Fm={},su={},Um={};Object.defineProperty(Um,"__esModule",{value:!0});Um.make=q3;function q3(t,e,n){var r;e===void 0&&(e=null),n===void 0&&(n={});var i=document.createElement(t);if(Array.isArray(e)){var a=e.filter(function(u){return u!==void 0});(r=i.classList).add.apply(r,a)}else e!==null&&i.classList.add(e);for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(i[l]=n[l]);return i}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=Um;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(su);Object.defineProperty(Fm,"__esModule",{value:!0});Fm.fragmentToString=Y3;var G3=su;function Y3(t){var e=(0,G3.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=Fm;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(eC);var tC={},Hm={};Object.defineProperty(Hm,"__esModule",{value:!0});Hm.getContentLength=J3;var X3=So;function J3(t){var e,n;return(0,X3.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(n=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=Hm;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(tC);var $m={},Vm={},Ew=Sc&&Sc.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))};Object.defineProperty(Vm,"__esModule",{value:!0});Vm.getDeepestBlockElements=nC;var Q3=iu;function nC(t){return(0,Q3.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,n){return Ew(Ew([],e,!0),nC(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=Vm;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})($m);var rC={},zm={},au={},Wm={};Object.defineProperty(Wm,"__esModule",{value:!0});Wm.isLineBreakTag=Z3;function Z3(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=Wm;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(au);var lu={},Km={};Object.defineProperty(Km,"__esModule",{value:!0});Km.isSingleTag=e6;function e6(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=Km;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(lu);Object.defineProperty(zm,"__esModule",{value:!0});zm.getDeepestNode=oC;var t6=So,n6=au,r6=lu;function oC(t,e){e===void 0&&(e=!1);var n=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[n]){var i=t[n];if((0,r6.isSingleTag)(i)&&!(0,t6.isNativeInput)(i)&&!(0,n6.isLineBreakTag)(i))if(i[r])i=i[r];else if(i.parentNode!==null&&i.parentNode[r])i=i.parentNode[r];else return i.parentNode;return oC(i,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=zm;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(rC);var iC={},qm={},Ol=Sc&&Sc.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))};Object.defineProperty(qm,"__esModule",{value:!0});qm.findAllInputs=l6;var o6=iu,i6=$m,s6=Tm,a6=So;function l6(t){return Array.from(t.querySelectorAll((0,s6.allInputsSelector)())).reduce(function(e,n){return(0,a6.isNativeInput)(n)||(0,o6.containsOnlyInlineElements)(n)?Ol(Ol([],e,!0),[n],!1):Ol(Ol([],e,!0),(0,i6.getDeepestBlockElements)(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=qm;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(iC);var sC={},Gm={};Object.defineProperty(Gm,"__esModule",{value:!0});Gm.isCollapsedWhitespaces=c6;function c6(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=Gm;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(sC);var Ym={},Xm={};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.isElement=d6;var u6=Dm;function d6(t){return(0,u6.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=Xm;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(Ym);var aC={},Jm={},Qm={},Zm={};Object.defineProperty(Zm,"__esModule",{value:!0});Zm.isLeaf=h6;function h6(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=Zm;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(Qm);var eg={},tg={};Object.defineProperty(tg,"__esModule",{value:!0});tg.isNodeEmpty=v6;var f6=au,p6=Ym,m6=So,g6=lu;function v6(t,e){var n="";return(0,g6.isSingleTag)(t)&&!(0,f6.isLineBreakTag)(t)?!1:((0,p6.isElement)(t)&&(0,m6.isNativeInput)(t)?n=t.value:t.textContent!==null&&(n=t.textContent.replace("","")),e!==void 0&&(n=n.replace(new RegExp(e,"g"),"")),n.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=tg;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(eg);Object.defineProperty(Jm,"__esModule",{value:!0});Jm.isEmpty=w6;var y6=Qm,b6=eg;function w6(t,e){t.normalize();for(var n=[t];n.length>0;){var r=n.shift();if(r){if(t=r,(0,y6.isLeaf)(t)&&!(0,b6.isNodeEmpty)(t,e))return!1;n.push.apply(n,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=Jm;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(aC);var lC={},ng={};Object.defineProperty(ng,"__esModule",{value:!0});ng.isFragment=k6;var x6=Dm;function k6(t){return(0,x6.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=ng;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(lC);var cC={},rg={};Object.defineProperty(rg,"__esModule",{value:!0});rg.isHTMLString=C6;var E6=su;function C6(t){var e=(0,E6.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=rg;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(cC);var uC={},og={};Object.defineProperty(og,"__esModule",{value:!0});og.offset=S6;function S6(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,i=e.top+r,a=e.left+n;return{top:i,left:a,bottom:i+e.height,right:a+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=og;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(uC);var dC={},ig={};Object.defineProperty(ig,"__esModule",{value:!0});ig.prepend=T6;function T6(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(n){return t.prepend(n)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=ig;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(dC);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=Tm;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var n=So;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var r=YE;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return r.append}});var i=Om;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return i.blockElements}});var a=XE;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return a.calculateBaseline}});var l=JE;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return l.canSetCaret}});var u=iu;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return u.containsOnlyInlineElements}});var h=eC;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return h.fragmentToString}});var f=tC;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return f.getContentLength}});var m=$m;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return m.getDeepestBlockElements}});var g=rC;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return g.getDeepestNode}});var b=iC;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return b.findAllInputs}});var E=sC;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return E.isCollapsedWhitespaces}});var w=Lm;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return w.isContentEditable}});var x=Ym;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return x.isElement}});var C=aC;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return C.isEmpty}});var I=lC;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return I.isFragment}});var _=cC;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return _.isHTMLString}});var T=Qm;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return T.isLeaf}});var A=eg;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return A.isNodeEmpty}});var L=au;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return L.isLineBreakTag}});var F=lu;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return F.isSingleTag}});var W=su;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return W.make}});var R=uC;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return R.offset}});var H=dC;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return H.prepend}})})(ql);var hC=(t=>(t.Left="left",t.Center="center",t))(hC||{});class Ms{constructor({data:e,config:n,api:r,readOnly:i,block:a}){const{DEFAULT_ALIGNMENT:l}=Ms;this.api=r,this.readOnly=i,this.quotePlaceholder=r.i18n.t((n==null?void 0:n.quotePlaceholder)??Ms.DEFAULT_QUOTE_PLACEHOLDER),this.captionPlaceholder=r.i18n.t((n==null?void 0:n.captionPlaceholder)??Ms.DEFAULT_CAPTION_PLACEHOLDER),this.data={text:e.text||"",caption:e.caption||"",alignment:Object.values(hC).includes(e.alignment)?e.alignment:(n==null?void 0:n.defaultAlignment)??l},this.css={baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"},this.block=a}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:h3,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get DEFAULT_ALIGNMENT(){return"left"}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text}  ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:d3},{name:"center",icon:u3}]}render(){const e=ql.make("blockquote",[this.css.baseClass,this.css.wrapper]),n=ql.make("div",[this.css.input,this.css.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),r=ql.make("div",[this.css.input,this.css.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return n.dataset.placeholder=this.quotePlaceholder,r.dataset.placeholder=this.captionPlaceholder,e.appendChild(n),e.appendChild(r),e}save(e){const n=e.querySelector(`.${this.css.text}`),r=e.querySelector(`.${this.css.caption}`);return Object.assign(this.data,{text:(n==null?void 0:n.innerHTML)??"",caption:(r==null?void 0:r.innerHTML)??""})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){const e=n=>n&&n[0].toUpperCase()+n.slice(1);return this.settings.map(n=>({icon:n.icon,label:this.api.i18n.t(`Align ${e(n.name)}`),onActivate:()=>this._toggleTune(n.name),isActive:this.data.alignment===n.name,closeOnActivate:!0}))}_toggleTune(e){this.data.alignment=e,this.block.dispatchChange()}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const _6='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';let P6=class _s{static get CSS(){return"cdx-marker"}constructor({api:e}){this.api=e,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,_s.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(_s.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){this.api.selection.expandToTag(e);let n=window.getSelection(),r=n.getRangeAt(0),i=r.extractContents();e.parentNode.removeChild(e),r.insertNode(i),n.removeAllRanges(),n.addRange(r)}checkState(){const e=this.api.selection.findParentTag(this.tag,_s.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return _6}static get sanitize(){return{mark:{class:_s.CSS}}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const I6='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';class si{constructor({api:e}){this.tag="CODE",this.api=e,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get CSS(){return"inline-code"}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,si.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(si.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){var n;this.api.selection.expandToTag(e);const r=window.getSelection();if(!r)return;const i=r.getRangeAt(0),a=i.extractContents();(n=e.parentNode)==null||n.removeChild(e),i.insertNode(a),r.removeAllRanges(),r.addRange(i)}checkState(){const e=this.api.selection.findParentTag(this.tag,si.CSS);return this.button&&this.button.classList.toggle(this.iconClasses.active,!!e),!!e}get toolboxIcon(){return I6}static get sanitize(){return{code:{class:si.CSS}}}}const O6=t=>Tp(t).then(e=>{if(e)return{success:1,file:{url:e}}}),A6=t=>new Promise((n,r)=>{try{n(t)}catch(i){r(i)}}).then(n=>({success:1,file:{url:n}})),N6={embed:z5,list:{class:K5,inlineToolbar:!0},image:{class:t3,config:{uploader:{uploadByUrl:A6,uploadByFile:O6}}},header:{class:c3,config:{placeholder:"Type heading ...",levels:[2,3],defaultLevel:2}},quote:{class:Ms,inlineToolbar:!0},marker:P6,inlineCode:si},B6=()=>{let t=bo(),{blog:e,blog:{title:n,banner:r,content:i,tags:a,desc:l},setBlog:u,textEditor:h,setTextEditor:f,setEditorState:m}=S.useContext(cu),{userAuth:{access_token:g}}=S.useContext(nt),{theme:b}=S.useContext(uu),{blog_id:E}=Ei();S.useEffect(()=>{h.isReady||f(new H5({holderId:"textEditor",data:Array.isArray(i)?i[0]:i,tools:N6,placeholder:"Let's write an awesome story"}))},[]);const w=T=>{let A=T.target.files[0];if(A){let L=te.loading("Uploading image...");Tp(A).then(F=>{F&&(te.dismiss(L),te.success("Image uploaded successfully!"),u({...e,banner:F}))}).catch(F=>(te.dismiss(L),te.error(F)))}},x=T=>{T.keyCode===13&&T.preventDefault()},C=T=>{let A=T.target;A.style.height="auto",A.style.height=A.scrollHeight+"px",u({...e,title:A.value})},I=()=>{if(!r.length)return te.error("Upload a blog banner to publish it");if(!n.length)return te.error("Write blog title to publish it");h.isReady&&h.save().then(T=>{if(T.blocks.length)u({...e,content:T}),m("publish");else return te.error("Write something in your blog to publish it")}).catch(T=>te.error(T.message))},_=T=>{if(T.target.className.includes("disable"))return;if(!n.length)return te.error("Write blog title before saving it as a draft");let A=te.loading("Saving draft...");T.target.classList.add("disable"),h.isReady&&h.save().then(L=>{let F={title:n,banner:r,desc:l,content:L,tags:a,draft:!0};fe.post("https://blog-server-b1gn.onrender.com/create-blog",{...F,id:E},{headers:{Authorization:`Bearer ${g}`}}).then(()=>{T.target.classList.remove("disable"),te.dismiss(A),te.success("Saved in drafts "),setTimeout(()=>{t("/dashboard/blogs?tab=draft")},1e3)}).catch(({response:W})=>(T.target.classList.remove("disable"),te.dismiss(A),te.error(W.data.error)))})};return y.jsxs(y.Fragment,{children:[y.jsxs("nav",{className:"navbar",children:[y.jsx(Be,{to:"/",className:"flex-none w-10",children:y.jsx("img",{src:b=="light"?Ak:Nk,alt:"logo"})}),y.jsx("p",{className:"w-full text-black max-md:hidden line-clamp-1",children:n.length?n:"New Blog"}),y.jsxs("div",{className:"flex gap-4 ml-auto",children:[y.jsx("button",{className:"btn-dark",onClick:I,children:"Publish"}),y.jsx("button",{className:"btn-light",onClick:_,children:"Save Draft"})]})]}),y.jsx(Qn,{}),y.jsx(tt,{children:y.jsx("section",{children:y.jsxs("div",{className:"mx-auto max-w-[900px] w-full",children:[y.jsx("div",{className:"relative transition-opacity duration-500 bg-white border-4 aspect-video hover:opacity-60 border-grey",children:y.jsxs("label",{htmlFor:"uploadBanner",children:[y.jsx("img",{src:r||(b=="light"?ej:ZR),className:"z-20"}),y.jsx("input",{id:"uploadBanner",type:"file",accept:".png, .jpg, .jpeg",hidden:!0,onChange:w})]})}),y.jsx("textarea",{defaultValue:n,placeholder:"Blog Title",className:"w-full h-20 mt-10 !text-4xl font-medium leading-tight outline-none resize-none placeholder:opacity-40 bg-white",onKeyDown:x,onChange:C}),y.jsx("hr",{className:"w-full my-5 opacity-10"}),y.jsx("div",{id:"textEditor",className:"font-gelasio"})]})})})]})},L6=({tag:t,tagIndex:e})=>{let{blog:n,blog:{tags:r},setBlog:i}=S.useContext(cu);const a=h=>{h.target.setAttribute("contentEditable",!0),h.target.focus()},l=h=>{if(h.keyCode===13||h.keyCode===188){h.preventDefault();let f=h.target.innerText;r[e]=f,i({...n,tags:r}),h.target.setAttribute("contentEditable",!1)}},u=()=>{r=r.filter(h=>h!==t),i({...n,tags:r})};return y.jsxs("div",{className:"relative inline-block p-2 px-5 pr-10 mt-2 mr-2 bg-white rounded-full hover:bg-opacity-50",children:[y.jsx("p",{className:"outline-none",onKeyDown:l,onClick:a,children:t}),y.jsx("button",{className:"mt-[2px] rounded-full absolute right-3 top-1/2 -translate-y-1/2",onClick:u,children:y.jsx("i",{className:"text-sm pointer-events-none fi fi-br-cross"})})]})},M6=()=>{let t=200,e=10,{blog_id:n}=Ei(),r=bo(),{blog:i,blog:{banner:a,title:l,content:u,tags:h,desc:f},setBlog:m,setEditorState:g}=S.useContext(cu),{userAuth:{access_token:b}}=S.useContext(nt);const E=()=>{g("editor")},w=T=>{let A=T.target;m({...i,title:A.value})},x=T=>{let A=T.target;m({...i,desc:A.value})},C=T=>{T.keyCode===13&&T.preventDefault()},I=T=>{if(T.keyCode===13||T.keyCode===188){T.preventDefault();let A=T.target.value;(h==null?void 0:h.length)<e?!(h!=null&&h.includes(A))&&(A==null?void 0:A.length)>0&&m({...i,tags:[...h,A]}):te.error(`you can add max ${e} tags`),T.target.value=""}},_=T=>{if(T.target.className.includes("disable"))return;if(!(l!=null&&l.length))return te.error("Write blog title before publishing");if(!(f!=null&&f.length)||(f==null?void 0:f.length)>t)return te.error(`Write a description about your blog within ${t} characters to publish`);if(!(h!=null&&h.length))return te.error("Enter at least 1 tag to help us rank your blog post");let A=te.loading("Publishing...");T.target.classList.add("disable");let L={title:l,banner:a,desc:f,content:u,tags:h,draft:!1};fe.post("https://blog-server-b1gn.onrender.com/create-blog",{...L,id:n},{headers:{Authorization:`Bearer ${b}`}}).then(()=>{T.target.classList.remove("disable"),te.dismiss(A),te.success("Your blog post was published successfully!"),setTimeout(()=>{r("/dashboard/blogs")},1e3)}).catch(({response:F})=>{var W;return T.target.classList.remove("disable"),te.dismiss(A),te.error((W=F==null?void 0:F.data)==null?void 0:W.error)})};return y.jsx(tt,{children:y.jsxs("section",{className:"grid items-center w-screen min-h-screen py-16 lg:grid-cols-2 lg:gap-4",children:[y.jsx(Qn,{}),y.jsx("button",{className:"w-12 h-12 absolute right-[5vw] z-10 top-[5%] lg:top-[10%]",onClick:E,children:y.jsx("i",{className:"fi fi-br-cross"})}),y.jsxs("div",{className:"max-w-[550px] center",children:[y.jsx("p",{className:"mb-1 text-dark-grey",children:"Preview"}),y.jsx("div",{className:"w-full mt-4 overflow-hidden rounded-lg aspect-video bg-grey",children:y.jsx("img",{src:a,alt:"blog banner"})}),y.jsx("h1",{className:"mt-2 text-4xl font-medium leading-tight line-clamp-2",children:l}),y.jsx("p",{className:"mt-4 text-xl leading-7 font-gelasio line-clamp-2",children:f})]}),y.jsxs("div",{className:"border-grey lg:border-1 lg:pl-8",children:[y.jsx("p",{className:"mb-2 text-dark-grey mt-9",children:"Blog Title"}),y.jsx("input",{type:"text",placeholder:"Blog Title",defaultValue:l,className:"pl-4 input-box",onChange:w}),y.jsx("p",{className:"mb-2 text-dark-grey mt-9",children:"Short description about your blog post"}),y.jsx("textarea",{maxLength:t,defaultValue:f,className:"h-40 pl-4 leading-7 resize-none input-box",onChange:x,onKeyDown:C}),y.jsxs("p",{className:"mt-1 text-sm text-right text-dark-grey",children:[t-(f==null?void 0:f.length)," characters left"]}),y.jsx("p",{className:"mb-2 text-dark-grey mt-9",children:"Topics - (Help is searching and ranking your blog post)"}),y.jsxs("div",{className:"relative py-2 pb-4 pl-2 input-box",children:[y.jsx("input",{type:"text",placeholder:"Topic",className:"sticky top-0 left-0 pl-4 mb-3 bg-white input-box focus:bg-white",onKeyDown:I}),h.map((T,A)=>y.jsx(L6,{tag:T,tagIndex:A},A))]}),y.jsxs("p",{className:"mt-1 mb-4 text-right text-dark-grey",children:[e-h.length," tags left"]}),y.jsx("button",{className:"px-8 btn-dark",onClick:_,children:"Publish"})]})]})})},R6="/assets/404-light-CF4iIOvF.png",j6="/assets/404-dark-CjKyFeWZ.png",D6="/assets/full-logo-j4i7Krzv.png",Rf=()=>{let{theme:t}=S.useContext(uu);return y.jsxs("section",{className:"relative flex flex-col items-center gap-20 p-10 text-center h-cover",children:[y.jsx("img",{src:t=="light"?j6:R6,alt:"page not found",className:"object-cover border-2 rounded select-none border-grey w-72 aspect-square"}),y.jsx("h1",{className:"!text-4xl leading-7 font-gelasio",children:"Page not found"}),y.jsxs("p",{className:"-mt-8 !text-xl leading-7 text-dark-grey",children:["The page you are looking for does not exists. Head back to the ",y.jsx(Be,{to:"/",className:"text-black underline",children:"home page"})]}),y.jsxs("div",{className:"mt-auto",children:[y.jsx("img",{src:D6,alt:"logo",className:"block object-contain h-8 mx-auto select-none "+t=="light"?"invert-0":t=="dark"?"invert":""}),y.jsx("p",{className:"mt-5 text-dark-grey",children:"Read millions of stories around the world"})]})]})},F6={title:"",banner:"",content:[],tags:[],desc:"",author:{personal_info:{}}},cu=S.createContext({}),Cw=()=>{let{blog_id:t}=Ei();const[e,n]=S.useState(F6),[r,i]=S.useState("editor"),[a,l]=S.useState({isReady:!1});let{userAuth:{access_token:u,isAdmin:h}}=S.useContext(nt);const[f,m]=S.useState(!0);return S.useEffect(()=>{if(!t)return m(!1);fe.post("https://blog-server-b1gn.onrender.com/get-blog",{blog_id:t,draft:!0,mode:"edit"}).then(({data:{blog:g}})=>{n(g),m(!1)}).catch(g=>{console.log(g),n(null),m(!1)})},[]),y.jsx(cu.Provider,{value:{blog:e,setBlog:n,editorState:r,setEditorState:i,textEditor:a,setTextEditor:l},children:h?u===null?y.jsx(Xl,{to:"/sign-in"}):f?y.jsx(Ht,{}):r==="editor"?y.jsx(B6,{}):y.jsx(M6,{}):y.jsx(Xl,{to:"/404"})})},U6=({user:t})=>{let{personal_info:{fullname:e,username:n,profile_img:r}}=t;return y.jsxs(Be,{to:`/user/${n}`,className:"flex items-center gap-5 mb-5",children:[y.jsx("img",{src:r,alt:n,className:"rounded-full w-14 h-14"}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-medium line-clamp-2",children:e}),y.jsxs("p",{className:"text-dark-grey",children:["@",n]})]})]})},H6=()=>{let{query:t}=Ei();const[e,n]=S.useState(null),[r,i]=S.useState(null),a=({page:f=1,create_new_arr:m=!1})=>{fe.post("https://blog-server-b1gn.onrender.com/search-blogs",{query:t,page:f}).then(async({data:g})=>{let b=await yi({state:e,data:g.blogs,page:f,countRoute:"/search-blogs-count",data_to_send:{query:t},create_new_arr:m});n(b)}).catch(g=>{console.log(g)})},l=()=>{fe.post("https://blog-server-b1gn.onrender.com/search-users",{query:t}).then(({data:{users:f}})=>{i(f)})};S.useEffect(()=>{u(),a({page:1,create_new_arr:!0}),l()},[t]);const u=()=>{n(null),i(null)},h=()=>y.jsx(y.Fragment,{children:r===null?y.jsx(Ht,{}):r.length>0?r.map((f,m)=>y.jsx(tt,{transition:{duration:1,delay:m*.08},children:y.jsx(U6,{user:f})},m)):y.jsx(xn,{message:"No user found"})});return y.jsxs("section",{className:"flex justify-center gap-10 h-cover",children:[y.jsx("div",{className:"w-full",children:y.jsxs(Gc,{routes:[`search results for "${t}"`,"Accounts Matched"],defaultHidden:["Accounts Matched"],children:[y.jsxs(y.Fragment,{children:[e===null?y.jsx(Ht,{}):e.results.length?e.results.map((f,m)=>y.jsx(tt,{transition:{duration:1,delay:m*.1},children:y.jsx(Yc,{content:f,author:f.author.personal_info})},m)):y.jsx(xn,{message:"No blogs published"}),y.jsx(bi,{state:e,fetchDataFunc:a})]}),y.jsx(h,{})]})}),y.jsxs("div",{className:"min-w-[40%] lg:min-w-[350px] max-w-min border-l border-grey pl-8 pt-3 max-md:hidden",children:[y.jsxs("h1",{className:"mb-8 text-xl font-medium",children:["User related to search ",y.jsx("i",{className:"fi fi-br-user"})]}),y.jsx(h,{})]})]})},Sw=({className:t,bio:e,social_links:n,joinedAt:r})=>y.jsxs("div",{className:"md:w-[90%] md:mt-7 "+t,children:[y.jsx("p",{className:"!text-xl leading-7",children:e.length>0?e:"Nothing to read here"}),y.jsx("div",{className:"flex flex-wrap items-center gap-2 my-7 text-dark-grey",children:Object.keys(n).map(i=>{let a=n[i];return a?y.jsxs(Be,{to:a,target:"_blank",className:"flex items-center px-3 py-1 rounded-md bg-grey hover:text-black",children:[y.jsx("i",{className:"!text-xl mr-1 fi "+(i!=="website"?"fi-brands-"+i:"fi-br-globe")})," ",i]},i):null})}),y.jsxs("p",{className:"!text-xl leading-7 text-dark-grey",children:["Joined on ",JR(r)]})]}),jf={personal_info:{fullname:"",username:"",profile_img:"",bio:""},account_info:{total_posts:0,total_reads:0},social_links:{},joinedAt:""},$6=()=>{let{id:t}=Ei();const[e,n]=S.useState(jf),[r,i]=S.useState(!0),{userAuth:{username:a}}=S.useContext(nt),[l,u]=S.useState(null),[h,f]=S.useState(""),{personal_info:{fullname:m,username:g,profile_img:b,bio:E},account_info:{total_posts:w,total_reads:x},social_links:C,joinedAt:I}=e,_=()=>{fe.post("https://blog-server-b1gn.onrender.com/get-profile",{username:t}).then(({data:L})=>{L!==null&&n(L),f(t),T({user_id:L._id}),i(!1)}).catch(L=>{console.log(L),i(!1)})},T=({page:L=1,user_id:F})=>{F=F??l.user_id,fe.post("https://blog-server-b1gn.onrender.com/search-blogs",{author:F,page:L}).then(async({data:W})=>{let R=await yi({state:l,data:W.blogs,page:L,countRoute:"/search-blogs-count",data_to_send:{author:F}});R.user_id=F,u(R)})};S.useEffect(()=>{t!==h&&u(null),l===null&&(A(),_())},[t,l]);const A=()=>{n(jf),f(""),i(!0)};return y.jsx(tt,{children:r?y.jsx(Ht,{}):g.length>0?y.jsxs("section",{className:"flex-row-reverse items-start h-cover md:flex gap-5 min-[1100px]:gap-12",children:[y.jsxs("div",{className:"flex flex-col gap-5 max-md:items-center min-w-[250px] md:w-[50%] md:pl-8 md:border-l border-grey md:sticky md:top-[100px] md:py-10",children:[y.jsx("img",{src:b,alt:g,className:"w-48 h-48 rounded-full bg-grey md:w-32 md:h-32"}),y.jsxs("h1",{className:"!text-2xl font-medium",children:["@",g]}),y.jsx("p",{className:"h-6 !text-xl capitalize",children:m}),y.jsxs("p",{children:[w.toLocaleString()," Blogs - ",x.toLocaleString()," Reads"]}),y.jsx("div",{className:"flex gap-4 mt-2",children:t==a?y.jsx(Be,{to:"/settings/edit-profile",className:"rounded-md btn-light",children:"Edit profile"}):null}),y.jsx(Sw,{bio:E,social_links:C,joinedAt:I,className:"max-md:hidden"})]}),y.jsx("div",{className:"w-full max-md:mt-12",children:y.jsxs(Gc,{routes:["Blogs Published","About User"],defaultHidden:["About User"],children:[y.jsxs(y.Fragment,{children:[l===null?y.jsx(Ht,{}):l.results.length?l.results.map((L,F)=>y.jsx(tt,{transition:{duration:1,delay:F*.1},children:y.jsx(Yc,{content:L,author:L.author.personal_info})},F)):y.jsx(xn,{message:"No blogs published"}),y.jsx(bi,{state:l,fetchDataFunc:T})]}),y.jsx(Sw,{bio:E,social_links:C,joinedAt:I})]})})]}):y.jsx(Rf,{})})},Tw=()=>{let{blog:t,blog:{_id:e,title:n,blog_id:r,activity:i,activity:{total_likes:a,total_comments:l},author:{personal_info:{username:u}}},setBlog:h,isLikedByUser:f,setIsLikedByUser:m,setCommentsWrapper:g}=S.useContext(ua);const{userAuth:{username:b,access_token:E}}=S.useContext(nt);S.useEffect(()=>{E&&fe.post("https://blog-server-b1gn.onrender.com/is-liked-by-user",{_id:e},{headers:{Authorization:`Bearer ${E}`}}).then(({data:{result:x}})=>{m(!!x)}).catch(x=>{console.log(x)})},[]);const w=()=>{E?(m(x=>!x),f?a>0&&(a=a-1):a=a+1,h({...t,activity:{...i,total_likes:a}}),fe.post("https://blog-server-b1gn.onrender.com/like-blog",{_id:e,isLikedByUser:f},{headers:{Authorization:`Bearer ${E}`}}).then(({data:x})=>{console.log(x)}).catch(x=>{console.log(x)})):te.error("Please loggin to like this blog post")};return y.jsxs(y.Fragment,{children:[y.jsx(Qn,{}),y.jsx("hr",{className:"my-2 border-grey"}),y.jsxs("div",{className:"flex justify-between gap-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:w,className:"flex items-center justify-center w-10 h-10 rounded-full "+(f?"bg-[#ffa1ad]":"bg-grey/80"),children:f?y.jsx("i",{className:"text-[#a50036] fi fi-ss-heart"}):y.jsx("i",{className:"fi fi-bs-heart"})}),y.jsx("p",{className:"!text-xl text-dark-grey",children:a}),y.jsx("button",{onClick:()=>g(x=>!x),className:"flex items-center justify-center w-10 h-10 rounded-full bg-grey/80",children:y.jsx("i",{className:"fi fi-br-comment-dots"})}),y.jsx("p",{className:"!text-xl text-dark-grey",children:l})]}),y.jsxs("div",{className:"flex items-center gap-6",children:[b===u?y.jsx(Be,{to:`/editor/${r}`,className:"underline hover:text-purple",children:"Edit"}):null,y.jsx(Be,{to:`https://twitter.com/intent/tweet?text=Read ${n}&url=${location.href}`,children:y.jsx("i",{className:"fi fi-brands-twitter !text-xl hover:text-twitter"})})]})]}),y.jsx("hr",{className:"my-2 border-grey"})]})},V6=({url:t,caption:e})=>y.jsxs("div",{children:[y.jsx("img",{src:t,alt:e}),e.length>0?y.jsx("p",{className:"w-full my-3 !text-base text-center md:mb-12 text-dark-grey",children:e}):null]}),z6=({quote:t,caption:e})=>y.jsxs("div",{className:"p-3 pl-5 border-l-4 bg-purple/10 border-purple",children:[y.jsx("p",{className:"!text-xl leading-10 md:!text-2xl",children:t})," ",e.length>0?y.jsx("p",{className:"w-full text-purple !text-base",children:e}):null]}),W6=({style:t,items:e})=>y.jsx(y.Fragment,{children:e.length>0?y.jsx("ol",{className:`pl-5 ${t==="ordered"?" list-decimal":" list-disc"}`,children:e.map((n,r)=>y.jsx("li",{className:"my-4",dangerouslySetInnerHTML:{__html:n}},r))}):null}),K6=({block:t})=>{const{type:e,data:n}=t;return e==="paragraph"?y.jsx("p",{dangerouslySetInnerHTML:{__html:n.text}}):e==="header"?n.level===3?y.jsx("h3",{className:"!text-3xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):y.jsx("h2",{className:"!text-4xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):e==="image"?y.jsx(V6,{url:n.file.url,caption:n.caption||""}):e==="quote"?y.jsx(z6,{quote:n.text,caption:n.caption||""}):e==="list"?y.jsx(W6,{style:n.style,items:n.items}):y.jsx("h1",{children:"This is a block"})},fC=({action:t,index:e=void 0,replyingTo:n=void 0,setIsReplying:r})=>{let{blog:i,setBlog:a,setTotalParentCommentsLoaded:l,blog:{_id:u,author:{_id:h},comments:f,comments:{results:m},activity:g,activity:{total_comments:b,total_parent_comments:E}}}=S.useContext(ua),{userAuth:{access_token:w,username:x,fullname:C,profile_img:I}}=S.useContext(nt);const[_,T]=S.useState(""),A=()=>{if(!w)return te.error("You must login first to leave a comment");if(!(_!=null&&_.length))return te.error("You must write something to leave a comment");fe.post("https://blog-server-b1gn.onrender.com/add-comment",{_id:u,blog_author:h,comment:_,replying_to:n},{headers:{Authorization:`Bearer ${w}`}}).then(({data:L})=>{T(""),L.commented_by={personal_info:{username:x,profile_img:I,fullname:C}};let F;n?(m[e].children.push(L._id),L.childrenLevel=m[e].childrenLevel+1,L.parentIndex=e,m[e].isReplyLoaded=!0,m.splice(e+1,0,L),F=m,r(!1)):(L.childrenLevel=0,F=[L,...m]);let W=n?0:1;a({...i,comments:{...f,results:F},activity:{...g,total_comments:b+1,total_parent_comments:E+W}}),l(R=>R+W)}).catch(L=>{console.log(L)})};return y.jsxs(y.Fragment,{children:[y.jsx(Qn,{}),y.jsx("textarea",{value:_,onChange:L=>T(L.target.value),placeholder:"Leave a comment...",className:"pl-5 resize-none input-box placeholder:text-dark-grey h-[150px] overflow-auto"}),y.jsx("button",{onClick:A,className:"px-10 mt-5 btn-dark",children:t})]})},q6=({index:t,leftVal:e,commentData:n})=>{let{commented_by:{personal_info:{profile_img:r,fullname:i,username:a}},commentedAt:l,comment:u,_id:h,children:f}=n,{blog:m,blog:{comments:g,activity:b,activity:{total_parent_comments:E},comments:{results:w},author:{personal_info:{username:x}}},setBlog:C,setTotalParentCommentsLoaded:I}=S.useContext(ua),{userAuth:{access_token:_,username:T}}=S.useContext(nt);const[A,L]=S.useState(!1),F=()=>{let J=t-1;try{for(;w[J].childrenLevel>n.childrenLevel;)J--}catch{J=void 0}return J},W=(J,re=!1)=>{if(w[J])for(;w[J].childrenLevel>n.childrenLevel&&(w.splice(J,1),!!w[J]););if(re){let ee=F();ee!==void 0&&(w[ee].children=w[ee].children.filter(ue=>ue!==h),w[ee].children.length||(w[ee].isReplyLoaded=!1)),w.splice(t,1)}n.childrenLevel==0&&re&&I(ee=>ee-1),C({...m,comments:{results:w},activity:{...b,total_parent_comments:E-(n.childrenLevel===0&&re?1:0)}})},R=J=>{J.target.setAttribute("disabled",!0),fe.post("https://blog-server-b1gn.onrender.com/delete-comment",{_id:h},{headers:{Authorization:`Bearer ${_}`}}).then(()=>{J.target.removeAttribute("disabled"),W(t+1,!0)}).catch(re=>{console.log(re)})},H=()=>{n.isReplyLoaded=!1,W(t+1)},G=({skip:J=0,currentIndex:re=t})=>{w[re].children.length&&(H(),fe.post("https://blog-server-b1gn.onrender.com/get-replies",{_id:w[re]._id,skip:J}).then(({data:{replies:ee}})=>{w[re].isReplyLoaded=!0;for(let ue=0;ue<ee.length;ue++)ee[ue].childrenLevel=w[re].childrenLevel+1,w.splice(re+1+ue+J,0,ee[ue]);C({...m,comments:{...g,results:w}})}).catch(ee=>{console.log(ee)}))},ae=()=>{if(!_)return te.error("You must login first to leave a reply");L(J=>!J)},oe=()=>{let J=F(),re=y.jsx("button",{onClick:()=>G({skip:t-J,currentIndex:J}),className:"flex items-center gap-2 p-2 px-3 rounded-md text-dark-grey hover:bg-grey/30",children:"Load More Replies"});if(w[t+1]){if(w[t+1].childrenLevel<w[t].childrenLevel&&t-J<w[J].children.length)return re}else if(J&&t-J<w[J].children.length)return re};return y.jsxs("div",{className:"w-full",style:{paddingLeft:`${e*10}px`},children:[y.jsxs("div",{className:"p-6 my-5 border rounded-md border-grey",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[y.jsx("img",{src:r,alt:T,className:"w-6 h-6 rounded-full"}),y.jsxs("p",{className:"line-clamp-1",children:[i," @",a]}),y.jsx("p",{className:"min-w-fit",children:Pi(l)})]}),y.jsx("p",{className:"font-gelasio !text-xl ml-3",children:u}),y.jsxs("div",{className:"flex items-center gap-5 mt-5",children:[n!=null&&n.isReplyLoaded?y.jsxs("button",{className:"flex items-center gap-2 p-2 px-3 rounded-md text-dark-grey hover:bg-grey/30",onClick:H,children:[y.jsx("i",{className:"fi fi-rs-comment-dots"})," Hide Reply"]}):y.jsxs("button",{className:"flex items-center gap-2 p-2 px-3 rounded-md text-dark-grey hover:bg-grey/30",onClick:G,children:[y.jsx("i",{className:"fi fi-rs-comment-dots"})," ",f.length," Reply"]}),y.jsx("button",{className:"underline",onClick:ae,children:"Reply"}),T===a||T===x?y.jsx("button",{className:"flex items-center justify-center w-8 h-8 ml-auto border rounded-full border-grey hover:bg-red/30 hover:text-red",onClick:R,children:y.jsx("i",{className:"pointer-events-none fi fi-br-trash"})}):null]}),A?y.jsx("div",{className:"mt-8",children:y.jsx(fC,{action:"reply",index:t,replyingTo:h,setIsReplying:L})}):null]}),y.jsx(oe,{})]})},pC=async({skip:t=0,blog_id:e,setParentCommentCountFun:n,comment_array:r=null})=>{let i;return await fe.post("https://blog-server-b1gn.onrender.com/get-blog-comments",{blog_id:e,skip:t}).then(({data:a})=>{a.map(l=>{l.childrenLevel=0}),n(l=>l+a.length),r===null?i={results:a}:i={results:[...r,...a]}}),i},G6=()=>{let{blog:t,blog:{_id:e,title:n,comments:{results:r},activity:{total_parent_comments:i}},commentsWrapper:a,setCommentsWrapper:l,totalParentCommentsLoaded:u,setTotalParentCommentsLoaded:h,setBlog:f}=S.useContext(ua);const m=async()=>{let g=await pC({skip:u,blog_id:e,setParentCommentCountFun:h,comment_array:r});f({...t,comments:g})};return y.jsxs("div",{className:"fixed "+(a?"top-0 sm:right-0":"top-[100%] sm:right-[-100%]")+" duration-700 max-sm:w-full max-sm:right-0 sm:top-0 w-[30%] min-w-[350px] h-full z-50 bg-white shadow-2xl p-8 px-16 overflow-y-auto overflow-x-hidden",children:[y.jsxs("div",{className:"relative",children:[y.jsx("h1",{className:"!text-xl font-medium",children:"Comments"}),y.jsx("p",{className:"!text-lg mt-2 w-[70%] text-dark-grey line-clamp-1",children:n}),y.jsx("button",{onClick:()=>l(!1),className:"absolute top-0 right-0 flex items-center justify-center w-12 h-12 rounded-full bg-grey",children:y.jsx("i",{className:"fi fi-br-cross !text-2xl mt-1"})})]}),y.jsx("hr",{className:"border-grey my-8 w-[120%] -ml-10"}),y.jsx(fC,{action:"comment"}),r&&r.length>0?r.map((g,b)=>y.jsx(tt,{children:y.jsx(q6,{index:b,leftVal:g.childrenLevel*4,commentData:g})},b)):y.jsx(xn,{message:"No comments"}),i>u?y.jsx("button",{onClick:m,className:"flex items-center gap-2 p-2 px-3 rounded-md text-dark-grey hover:bg-grey/30",children:"Load More"}):null]})},_w={title:"",desc:"",content:[],author:{personal_info:{}},banner:"",publishedAt:""},ua=S.createContext({}),Y6=()=>{let{blog_id:t}=Ei();const[e,n]=S.useState(_w),[r,i]=S.useState(null),[a,l]=S.useState(!0),[u,h]=S.useState(!1),[f,m]=S.useState(!1),[g,b]=S.useState(0),{title:E,content:w,banner:x,author:{personal_info:{fullname:C,username:I,profile_img:_}},publishedAt:T}=e,A=()=>{fe.post("https://blog-server-b1gn.onrender.com/get-blog",{blog_id:t}).then(async({data:{blog:F}})=>{F.comments=await pC({blog_id:F._id,setParentCommentCountFun:b}),n(F),fe.post("https://blog-server-b1gn.onrender.com/search-blogs",{tag:F.tags,limit:6,eliminate_blog:t}).then(({data:W})=>{i(W.blogs)}),l(!1)}).catch(F=>{console.log(F),l(!1)})};S.useEffect(()=>{L(),A()},[t]);const L=()=>{n(_w),i(null),l(!0),h(!1),m(!1),b(0)};return y.jsx(tt,{children:a?y.jsx(Ht,{}):y.jsxs(ua.Provider,{value:{blog:e,setBlog:n,isLikedByUser:u,setIsLikedByUser:h,commentsWrapper:f,setCommentsWrapper:m,totalParentCommentsLoaded:g,setTotalParentCommentsLoaded:b},children:[y.jsx(G6,{}),y.jsxs("div",{className:"max-w-[900px] center py-10 max-lg:px-[5vw]",children:[y.jsx("img",{src:x,alt:E,className:"aspect-video"}),y.jsxs("div",{className:"mt-12",children:[y.jsx("h2",{children:E}),y.jsxs("div",{className:"flex justify-between my-8 max-sm:flex-col",children:[y.jsxs("div",{className:"flex items-start gap-5",children:[y.jsx("img",{src:_,alt:I,className:"w-12 h-12 rounded-full"}),y.jsxs("div",{className:"flex flex-col items-start justify-center",children:[y.jsx("p",{className:"capitalize",children:C}),y.jsxs("p",{children:["@",y.jsx(Be,{to:`/user/${I}`,className:"underline",children:I})]})]})]}),y.jsxs("p",{className:"opacity-75 text-dark-grey max-sm:mt-6 max-sm:ml-12 max-sm:pl-5",children:["Published on ",Pi(T)]})]})]}),y.jsx(Tw,{}),w[0].blocks.length>0?y.jsx("div",{className:"my-12 font-gelasio blog-page-content",children:w[0].blocks.map((F,W)=>y.jsx("div",{className:"my-4 md:my-8",children:y.jsx(K6,{block:F})},W))}):null,y.jsx(Tw,{}),r!==null&&r.length>0?y.jsxs(y.Fragment,{children:[y.jsx("h1",{className:"mb-10 text-2xl font-medium mt-14",children:"Similar blogs"}),r.map((F,W)=>{const{author:{personal_info:R}}=F;return y.jsx(tt,{transition:{duration:1,delay:W*.08},children:y.jsx(Yc,{content:F,author:R})},W)})]}):null]})]})})},Pw=()=>{let{userAuth:{access_token:t,new_notification_available:e,isAdmin:n}}=S.useContext(nt),r=location.pathname.split("/")[2],[i,a]=S.useState(r.replace("-"," ")),[l,u]=S.useState(!1),h=S.useRef(),f=S.useRef(),m=S.useRef();const g=b=>{let{offsetWidth:E,offsetLeft:w}=b.target;h.current.style.width=E+"px",h.current.style.left=w+"px",b.target==f.current?u(!0):u(!1)};return S.useEffect(()=>{u(!1),m.current.click()},[i]),y.jsx(y.Fragment,{children:t===null?y.jsx(Xl,{to:"/sign-in"}):y.jsxs("section",{className:"relative flex gap-10 py-0 m-0 max-md:flex-col",children:[y.jsxs("div",{className:"sticky top-[80px] z-30",children:[y.jsxs("div",{className:"flex py-1 overflow-x-auto bg-white border-b md:hidden border-grey flex-nowrap",children:[y.jsx("button",{onClick:g,ref:f,className:"p-5 capitalize",children:y.jsx("i",{className:"pointer-events-none fi fi-br-bars-staggered"})}),y.jsx("button",{onClick:g,ref:m,className:"p-5 capitalize",children:i}),y.jsx("hr",{ref:h,className:"absolute bottom-0 duration-500"})]}),y.jsxs("div",{className:"min-w-[250px] h-[calc(100vh - 80px - 60px)] md:h-cover md:sticky top-24 overflow-y-auto p-6 md:pr-0 md:border-grey md:border-r absolute max-md:top-[64px] bg-white max-md:w-[calc(100% + 80px)] max-md:px-16 max-md:-ml-7 duration-500 "+(l?"opacity-100 pointer-events-auto":"max-md:opacity-0 max-md:pointer-events-none"),children:[y.jsx("h1",{className:"!text-xl text-dark-grey mb-3",children:"Dashboard"}),y.jsx("hr",{className:"mb-8 mr-6 -ml-6 border-grey"}),y.jsxs(vs,{to:"/dashboard/blogs",onClick:b=>a(b.target.innerText),className:"sidebar-link",children:[y.jsx("i",{className:"fi fi-br-document"}),"Blogs"]}),y.jsxs(vs,{to:"/dashboard/notifications",onClick:b=>a(b.target.innerText),className:"sidebar-link",children:[y.jsxs("div",{className:"relative",children:[e?y.jsx("span",{className:"absolute top-0 right-0 z-10 w-2 h-2 rounded-full bg-red"}):null,y.jsx("i",{className:"fi fi-br-bell"})]}),"Notifications"]}),n?y.jsxs(vs,{to:"/editor",onClick:b=>a(b.target.innerText),className:"sidebar-link",children:[y.jsx("i",{className:"fi fi-br-edit"}),"Write"]}):null,y.jsx("h1",{className:"!text-xl text-dark-grey mb-3 mt-20",children:"Settings"}),y.jsx("hr",{className:"mb-8 mr-6 -ml-6 border-grey"}),y.jsxs(vs,{to:"/settings/edit-profile",onClick:b=>a(b.target.innerText),className:"sidebar-link",children:[y.jsx("i",{className:"fi fi-br-user"}),"Edit Profile"]}),y.jsxs(vs,{to:"/settings/change-password",onClick:b=>a(b.target.innerText),className:"sidebar-link",children:[y.jsx("i",{className:"fi fi-br-lock"}),"Change Password"]})]})]}),y.jsx("div",{className:"w-full mt-5 max-md:-mt-8",children:y.jsx($w,{})})]})})},X6=()=>{let{userAuth:{access_token:t}}=S.useContext(nt),e=S.useRef(),n=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;const r=i=>{i.preventDefault();let a=new FormData(e.current),l={};for(let[m,g]of a.entries())l[m]=g;let{currentPassword:u,newPassword:h}=l;if(!u.length||!h.length)return te.error("Fill all the inputs");if(!n.test(u)||!n.test(h))return te.error("Password should be 6 to 20 characters long, with a numeric, 1 lowercase, 1 uppercase letters");i.target.setAttribute("disabled",!0);let f=te.loading("Updating password...");fe.post("https://blog-server-b1gn.onrender.com/change-password",l,{headers:{Authorization:`Bearer ${t}`}}).then(()=>(te.dismiss(f),i.target.removeAttribute("disabled"),te.success("Password updated successfully!"))).catch(({response:m})=>(te.dismiss(f),i.target.removeAttribute("disabled"),te.error(m.data.error)))};return y.jsxs(tt,{children:[y.jsx(Qn,{}),y.jsxs("form",{ref:e,children:[y.jsx("h1",{className:"max-md:hidden",children:"Change Password"}),y.jsxs("div",{className:"w-full py-10 md:max-w-[400px]",children:[y.jsx(jn,{name:"currentPassword",type:"password",className:"profile-edit-input",placeholder:"Current Password",icon:"fi-br-unlock"}),y.jsx(jn,{name:"newPassword",type:"password",className:"profile-edit-input",placeholder:"New Password",icon:"fi-br-unlock"}),y.jsx("button",{onClick:r,className:"px-10 btn-dark",type:"submit",children:"Change Password"})]})]})]})},J6=()=>{let{userAuth:t,userAuth:{access_token:e},setUserAuth:n}=S.useContext(nt),r=150,i=S.useRef(),a=S.useRef();const[l,u]=S.useState(jf),[h,f]=S.useState(!0),[m,g]=S.useState(r),[b,E]=S.useState(null);let{personal_info:{fullname:w,username:x,profile_img:C,email:I,bio:_},social_links:T}=l;S.useEffect(()=>{e&&fe.post("https://blog-server-b1gn.onrender.com/get-profile",{username:t.username}).then(({data:R})=>{u(R),f(!1)}).catch(R=>{console.log(R),f(!1)})},[e]);const A=R=>{g(r-R.target.value.length)},L=R=>{let H=R.target.files[0];i.current.src=URL.createObjectURL(H),E(H)},F=R=>{if(R.preventDefault(),b){let H=te.loading("Uploading image");R.target.setAttribute("disabled",!0),Tp(b).then(G=>{G&&fe.post("https://blog-server-b1gn.onrender.com/update-profile-picture",{url:G},{headers:{Authorization:`Bearer ${e}`}}).then(({data:ae})=>{let oe={...t,profile_img:ae.profile_img};cc("user",JSON.stringify(oe)),n(oe),E(null),te.dismiss(H),R.target.removeAttribute("disabled"),te.success("Profile picture successfully loaded ")}).catch(({response:ae})=>{E(null),te.dismiss(H),R.target.removeAttribute("disabled"),te.error(ae.data.error)})}).catch(G=>{console.log(G)})}},W=R=>{R.preventDefault();let H=new FormData(a.current),G={};for(let[Q,N]of H.entries())G[Q]=N;console.log(G);let{username:ae,bio:oe,youtube:J,facebook:re,twitter:ee,github:ue,instagram:ke,website:X}=G;if(ae.length<3)return te.error("Username should be at least 3 letters long");if(oe.length>r)return te.error(`Bio sholdn't be more than ${r} letters long`);let se=te.loading("Updating profile info");R.target.setAttribute("disabled",!0),fe.post("https://blog-server-b1gn.onrender.com/update-profile",{username:ae,bio:oe,social_links:{youtube:J,facebook:re,twitter:ee,github:ue,instagram:ke,website:X}},{headers:{Authorization:`Bearer ${e}`}}).then(({data:Q})=>{if(t.username!=Q.username){let N={...t,username:Q.username};cc("user",JSON.stringify(N)),n(N)}te.dismiss(se),R.target.removeAttribute("disabled"),te.success("Profile updated successfully!")}).catch(({response:Q})=>{te.dismiss(se),R.target.removeAttribute("disabled"),te.error(Q.data.error)})};return y.jsx(tt,{children:h?y.jsx(Ht,{}):y.jsxs(y.Fragment,{children:[y.jsx(Qn,{}),y.jsxs("form",{ref:a,children:[y.jsx("h1",{className:"max-md:hidden",children:"Edit Profile"}),y.jsxs("div",{className:"flex flex-col items-start gap-8 py-10 lg:flex-row lg:gap-10",children:[y.jsxs("div",{className:"mb-5 max-lg:center",children:[y.jsxs("label",{htmlFor:"uploadImg",id:"profileImgLabel",className:"relative block w-48 h-48 mx-auto overflow-hidden rounded-full bg-grey",children:[y.jsxs("div",{className:"absolute top-0 left-0 flex items-center justify-center w-full h-full text-white opacity-0 cursor-pointer bg-black/30 hover:opacity-100",children:[y.jsx("i",{className:"mr-1 fi fi-br-picture"}),"Upload image"]}),y.jsx("img",{src:C,ref:i})]}),y.jsx("input",{type:"file",id:"uploadImg",accept:".jpeg, .png, .jpg",hidden:!0,onChange:L}),y.jsx("button",{onClick:F,className:"px-10 mt-5 btn-light max-lg:center lg:w-full",children:"Save Profile Picture"})]}),y.jsxs("div",{className:"w-full",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-5",children:[y.jsx("div",{children:y.jsx(jn,{name:"fullname",type:"text",value:w,placeholder:"Full Name",disabled:!0,icon:"fi fi-br-user"})}),y.jsx("div",{children:y.jsx(jn,{name:"email",type:"email",value:I,placeholder:"Email",disabled:!0,icon:"fi fi-br-envelope"})})]}),y.jsx(jn,{type:"text",name:"username",value:x,placeholder:"Username",icon:"fi fi-br-at"}),y.jsx("p",{className:"-mt-3 text-dark-grey",children:"Username will be used to search user and will be visible to all users"}),y.jsx("textarea",{name:"bio",maxLength:r,defaultValue:_,className:"h-64 pl-5 mt-5 leading-7 resize-none input-box lg:h-40",placeholder:"Write your Biography",onChange:A}),y.jsxs("p",{className:"mt-1 text-dark-grey",children:[m," characters left"]}),y.jsx("p",{className:"my-6 text-dark-grey",children:"Add your social handles below"}),y.jsx("div",{className:"md:grid md:grid-cols-2 gap-x-6",children:Object.keys(T).map((R,H)=>{let G=T[R];return y.jsx(jn,{name:R,type:"text",value:G,placeholder:"https://",icon:"fi "+(R!=="website"?"fi-brands-"+R:"fi-br-globe")},H)})}),y.jsx("button",{className:"w-auto px-10 btn-dark",type:"submit",onClick:W,children:"Update"})]})]})]})]})})},Q6=({_id:t,blog_author:e,index:n=void 0,replyingTo:r=void 0,setIsReplying:i,notification_id:a,notificationData:l})=>{let[u,h]=S.useState(""),{_id:f}=e,{userAuth:{access_token:m}}=S.useContext(nt),{notifications:g,notifications:{results:b},setNotifications:E}=l;const w=()=>{if(!(u!=null&&u.length))return te.error("You must write something to leave a comment");fe.post("https://blog-server-b1gn.onrender.com/add-comment",{_id:t,blog_author:f,comment:u,replying_to:r,notification_id:a},{headers:{Authorization:`Bearer ${m}`}}).then(({data:x})=>{i(!1),b[n].reply={comment:u,_id:x._id},E({...g,results:b})}).catch(x=>{console.log(x)})};return y.jsxs(y.Fragment,{children:[y.jsx(Qn,{}),y.jsx("textarea",{value:u,onChange:x=>h(x.target.value),placeholder:"Leave a reply...",className:"pl-5 resize-none input-box placeholder:text-dark-grey h-[150px] overflow-auto"}),y.jsx("button",{onClick:w,className:"px-10 mt-5 btn-dark",children:"Reply"})]})},Z6=({data:t,index:e,notificationState:n})=>{let[r,i]=S.useState(!1),{seen:a,type:l,reply:u,createdAt:h,comment:f,replied_on_comment:m,user:g,user:{personal_info:{fullname:b,profile_img:E,username:w}},blog:{_id:x,blog_id:C,title:I},_id:_}=t,{userAuth:{username:T,profile_img:A,access_token:L}}=S.useContext(nt),{notifications:F,notifications:{results:W,totalDocs:R},setNotifications:H}=n;const G=()=>{i(oe=>!oe)},ae=(oe,J,re)=>{re.setAttribute("disabled",!0),fe.post("https://blog-server-b1gn.onrender.com/delete-comment",{_id:oe},{headers:{Authorization:`Bearer ${L}`}}).then(()=>{J=="comment"?W.splice(e,1):delete W[e].reply,re.removeAttribute("disabled"),H({...F,results:W,totalDocs:R-1,deletedDocCount:F.deletedDocCount+1})}).catch(ee=>{console.log(ee)})};return y.jsxs("div",{className:"p-6 border-b border-grey border-l-black "+(a?"":"border-l-2"),children:[y.jsxs("div",{className:"flex gap-5 mb-3",children:[y.jsx("img",{src:E,alt:w,className:"flex-none rounded-full w-14 h-14"}),y.jsxs("div",{className:"w-full",children:[y.jsxs("h1",{className:"font-medium !text-xl text-dark-grey",children:[y.jsx("span",{className:"hidden capitalize lg:inline-block",children:b}),y.jsxs(Be,{to:`/user/${w}`,className:"mx-1 text-black underline",children:["@",w]}),y.jsx("span",{className:"font-normal",children:l=="like"?"liked your blog":l=="comment"?"commented on":"replied on"})]}),l=="reply"?y.jsx("div",{className:"p-4 mt-4 rounded-md bg-grey",children:y.jsx("p",{children:m.comment})}):y.jsx(Be,{to:`/blog/${C}`,className:"font-medium text-dark-grey hover:underline line-clamp-1",children:`"${I}"`})]})]}),l!="like"?y.jsx("p",{className:"pl-5 ml-14 font-gelasio !text-xl my-5",children:f.comment}):null,y.jsxs("div",{className:"flex gap-8 pl-5 mt-3 ml-14 text-dark-grey",children:[y.jsx("p",{children:Pi(h)}),l!="like"?y.jsxs(y.Fragment,{children:[u?null:y.jsx("button",{className:"underline hover:text-black",onClick:G,children:"Reply"}),y.jsx("button",{className:"underline hover:text-black",onClick:oe=>ae(f._id,"comment",oe.target),children:"Delete"})]}):null]}),r?y.jsx("div",{className:"mt-8",children:y.jsx(Q6,{_id:x,blog_author:g,index:e,replyingTo:f._id,setIsReplying:i,notification_id:_,notificationData:n})}):null,u?y.jsxs("div",{className:"p-5 mt-5 ml-20 rounded-md bg-grey",children:[y.jsxs("div",{className:"flex gap-3 mb-3",children:[y.jsx("img",{src:A,alt:T,className:"w-8 h-8 rounded-full"}),y.jsx("div",{children:y.jsxs("h1",{className:"font-medium !text-xl text-dark-grey",children:[y.jsxs(Be,{to:`/user/${T}`,className:"mx-1 text-black underline",children:["@",T]}),y.jsx("span",{className:"font-normal",children:"replied to"}),y.jsxs(Be,{to:`/user/${w}`,className:"mx-1 text-black underline",children:["@",w]})]})})]}),y.jsx("p",{className:"ml-14 font-gelasio !text-xl my-2",children:u.comment}),y.jsx("button",{className:"mt-2 underline hover:text-black ml-14",onClick:oe=>ae(f._id,"reply",oe.target),children:"Delete"})]}):null]})},eF=()=>{let{userAuth:t,userAuth:{access_token:e,new_notification_available:n},setUserAuth:r}=S.useContext(nt);const[i,a]=S.useState("all"),[l,u]=S.useState(null);let h=["all","like","comment","reply"];const f=({page:g,deletedDocCount:b=0})=>{fe.post("https://blog-server-b1gn.onrender.com/notifications",{page:g,filter:i,deletedDocCount:b},{headers:{Authorization:`Bearer ${e}`}}).then(async({data:{notifications:E}})=>{n&&r({...t,new_notification_available:!1});let w=await yi({state:l,data:E,page:g,countRoute:"/all-notifications-count",data_to_send:{filter:i},user:e});u(w)}).catch(E=>{console.log(E)})};S.useEffect(()=>{e&&f({page:1})},[e,i]);const m=g=>{let b=g.target;a(b.innerHTML),u(null)};return y.jsxs("div",{children:[y.jsx("h1",{className:"max-md:hidden",children:"Recent Notifications"}),y.jsx("div",{className:"flex gap-6 my-8",children:h.map((g,b)=>y.jsx("button",{className:"py-2 "+(i==g?"btn-dark":" btn-light"),onClick:m,children:g},b))}),l==null?y.jsx(Ht,{}):y.jsx(y.Fragment,{children:l.results.length>0?l.results.map((g,b)=>y.jsx(tt,{transition:{delay:b*.08},children:y.jsx(Z6,{data:g,index:b,notificationState:{notifications:l,setNotifications:u}})},b)):y.jsx(xn,{message:"Nothing available"})}),y.jsx(bi,{state:l,fetchDataFunc:f,aditionalParam:{deletedDocCount:l==null?void 0:l.deletedDocCount}})]})},Iw=({stats:t})=>y.jsx("div",{className:"flex gap-2 max-lg:pb-6 max-lg:mb-6 max-lg:border-b max-lg:border-grey",children:Object.keys(t).map((e,n)=>e.includes("parent")?null:y.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full p-4 px-6 "+(n!=0?" border-grey border-l ":""),children:[y.jsx("h1",{className:"!text-xl lg:!text-2xl mb-2",children:t[e].toLocaleString()}),y.jsx("p",{className:"capitalize max-lg:text-dark-grey",children:e.split("_")[1]})]},n))}),tF=({blog:t})=>{let{blog_id:e,title:n,banner:r,publishedAt:i,activity:a}=t,{userAuth:{access_token:l}}=S.useContext(nt);const[u,h]=S.useState(!1);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-center gap-10 pb-6 mb-6 border-b max-md:px-4 border-grey",children:[y.jsx("img",{src:r,alt:n,className:"flex-none object-cover max-md:hidden lg:hidden xl:block w-28 h-28 bg-grey"}),y.jsxs("div",{className:"flex flex-col justify-between py-2 w-full min-w-[300px]",children:[y.jsxs("div",{children:[y.jsx(Be,{to:`/blog/${e}`,className:"mb-4 blog-title hover:underline",children:n}),y.jsxs("p",{className:"line-clamp-1",children:["Published on ",Pi(i)]})]}),y.jsxs("div",{className:"flex gap-6 mt-3",children:[y.jsx(Be,{to:`/editor/${e}`,className:"py-2 pr-4 underline",children:"Edit"}),y.jsx("button",{className:"py-2 pr-4 underline lg:hidden",onClick:()=>h(f=>!f),children:"Stats"}),y.jsx("button",{onClick:f=>mC(t,l,f.target),className:"py-2 pr-4 underline text-red",children:"Delete"})]})]}),y.jsx("div",{className:"max-lg:hidden",children:y.jsx(Iw,{stats:a})})]}),u?y.jsx("div",{className:"lg:hidden",children:y.jsx(Iw,{stats:a})}):null]})},nF=({blog:t})=>{let{blog_id:e,title:n,desc:r,index:i}=t,{userAuth:{access_token:a}}=S.useContext(nt);return i++,y.jsxs("div",{className:"flex gap-5 pb-6 mb-6 border-b lg:gap-10 border-grey",children:[y.jsx("h1",{className:"flex-none pl-4 text-center blog-index md:pl-6",children:i<10?"0"+i:i}),y.jsxs("div",{children:[y.jsx("h1",{className:"mb-3 blog-title",children:n}),y.jsx("p",{className:"line-clamp-2 font-gelasio",children:(r==null?void 0:r.length)>0?r:"No description"}),y.jsxs("div",{className:"flex gap-6 mt-3",children:[y.jsx(Be,{to:`/editor/${e}`,className:"py-2 pr-4 underline",children:"Edit"}),y.jsx("button",{onClick:l=>mC(t,a,l.target),className:"py-2 pr-4 underline text-red",children:"Delete"})]})]})]})},mC=(t,e,n)=>{let{index:r,blog_id:i,setStateFunc:a}=t;n.setAttribute("disabled",!0),fe.post("https://blog-server-b1gn.onrender.com/delete-blog",{blog_id:i},{headers:{Authorization:`Bearer ${e}`}}).then(({data:l})=>{n.removeAttribute("disabled"),a(u=>{let{deletedDocCount:h,totalDocs:f,results:m}=u;return m.splice(r,1),h||(h=0),!(m!=null&&m.length)&&f-1>0?null:{...u,totalDocs:f-1,deletedDocCount:h+1}})}).catch(l=>{console.log(l)})},rF=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(null),[i,a]=S.useState("");let l=__()[0].get("tab"),{userAuth:{access_token:u}}=S.useContext(nt);const h=({page:g,draft:b,deletedDocCount:E=0})=>{fe.post("https://blog-server-b1gn.onrender.com/user-written-blogs",{page:g,draft:b,query:i,deletedDocCount:E},{headers:{Authorization:`Bearer ${u}`}}).then(async({data:w})=>{let x=await yi({state:b?n:t,data:w.blogs,page:g,user:u,countRoute:"/user-written-blogs-count",data_to_send:{draft:b,query:i}});b?r(x):e(x)}).catch(w=>{console.log(w)})};S.useEffect(()=>{u&&(t==null&&h({page:1,draft:!1}),n==null&&h({page:1,draft:!0}))},[u,t,n,i]);const f=g=>{let b=g.target.value;a(b),g.keyCode==13&&b.length>0&&(e(null),r(null))},m=g=>{g.target.value.length||(a(""),e(null),r(null))};return y.jsxs(y.Fragment,{children:[y.jsx("h1",{className:"max-md:hidden",children:"Manage Bolgs"}),y.jsx(Qn,{}),y.jsxs("div",{className:"relative mb-10 max-md:mt-5 md:mt-8",children:[y.jsx("input",{type:"search",className:"w-full p-4 pl-12 pr-6 rounded-full bg-grey placeholder:text-dark-grey",placeholder:"Search Blogs",onChange:m,onKeyDown:f}),y.jsx("i",{className:"fi fi-br-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 !text-xl text-dark-grey"})]}),y.jsxs(Gc,{routes:["Published Blogs","Drafts"],defaultActiveIndex:l!="draft"?0:1,children:[t==null?y.jsx(Ht,{}):t.results.length>0?y.jsxs(y.Fragment,{children:[t.results.map((g,b)=>y.jsx(tt,{transition:{delay:b*.04},children:y.jsx(tF,{blog:{...g,index:b,setStateFunc:e}})},b)),y.jsx(bi,{state:t,fetchDataFunc:h,aditionalParam:{draft:!1,deletedDocCount:t.deletedDocCount}})]}):y.jsx(xn,{message:"No published blogs found"}),n==null?y.jsx(Ht,{}):n.results.length>0?y.jsxs(y.Fragment,{children:[n.results.map((g,b)=>y.jsx(tt,{transition:{delay:b*.04},children:y.jsx(nF,{blog:{...g,index:b,setStateFunc:r}})},b)),y.jsx(bi,{state:n,fetchDataFunc:h,aditionalParam:{draft:!0,deletedDocCount:n.deletedDocCount}})]}):y.jsx(xn,{message:"No drafts blogs found"})]})]})},nt=S.createContext({}),uu=S.createContext({}),oF=()=>window.matchMedia("(prefers-color-scheme: dark)").matches;function iF(){const[t,e]=S.useState({}),[n,r]=S.useState(()=>oF()?"dark":"light");return S.useEffect(()=>{let i=Bb("user"),a=Bb("theme");e(i?JSON.parse(i):{access_token:null}),a?r(()=>(document.body.setAttribute("data-theme",a),a)):document.body.setAttribute("data-theme",n)},[]),y.jsx(k_,{children:y.jsx(uu.Provider,{value:{theme:n,setTheme:r},children:y.jsx(nt.Provider,{value:{userAuth:t,setUserAuth:e},children:y.jsxs(f_,{children:[y.jsx(ct,{path:"/editor",element:y.jsx(Cw,{})}),y.jsx(ct,{path:"/editor/:blog_id",element:y.jsx(Cw,{})}),y.jsxs(ct,{path:"/",element:y.jsx(XR,{}),children:[y.jsx(ct,{index:!0,element:y.jsx(QR,{})}),y.jsxs(ct,{path:"dashboard",element:y.jsx(Pw,{}),children:[y.jsx(ct,{path:"blogs",element:y.jsx(rF,{})}),y.jsx(ct,{path:"notifications",element:y.jsx(eF,{})})]}),y.jsxs(ct,{path:"settings",element:y.jsx(Pw,{}),children:[y.jsx(ct,{path:"edit-profile",element:y.jsx(J6,{})}),y.jsx(ct,{path:"change-password",element:y.jsx(X6,{})})]}),y.jsx(ct,{path:"sign-in",element:y.jsx(aw,{type:"sign-in"})}),y.jsx(ct,{path:"sign-up",element:y.jsx(aw,{type:"sign-up"})}),y.jsx(ct,{path:"search/:query",element:y.jsx(H6,{})}),y.jsx(ct,{path:"user/:id",element:y.jsx($6,{})}),y.jsx(ct,{path:"blog/:blog_id",element:y.jsx(Y6,{})}),y.jsx(ct,{path:"*",element:y.jsx(Rf,{})})]}),y.jsx(ct,{path:"*",element:y.jsx(Rf,{})})]})})})})}kT.createRoot(document.getElementById("root")).render(y.jsx(iF,{}));
